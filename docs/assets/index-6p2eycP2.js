(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function eo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ge={},an=[],dt=()=>{},va=()=>!1,Dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),to=e=>e.startsWith("onUpdate:"),Ne=Object.assign,no=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Oc=Object.prototype.hasOwnProperty,ue=(e,t)=>Oc.call(e,t),ee=Array.isArray,On=e=>Gr(e)==="[object Map]",Ic=e=>Gr(e)==="[object Set]",Q=e=>typeof e=="function",xe=e=>typeof e=="string",vn=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",ba=e=>(_e(e)||Q(e))&&Q(e.then)&&Q(e.catch),$c=Object.prototype.toString,Gr=e=>$c.call(e),zc=e=>Gr(e).slice(8,-1),Uc=e=>Gr(e)==="[object Object]",ro=e=>xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,In=eo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pr=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Bc=/-\w/g,Ke=Pr(e=>e.replace(Bc,t=>t.slice(1).toUpperCase())),Hc=/\B([A-Z])/g,Zt=Pr(e=>e.replace(Hc,"-$1").toLowerCase()),Mr=Pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yr=Pr(e=>e?`on${Mr(e)}`:""),$t=(e,t)=>!Object.is(e,t),qr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ya=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},jc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vo;const Fr=()=>Vo||(Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function io(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=xe(r)?Yc(r):io(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(xe(e)||_e(e))return e}const Wc=/;(?![^(]*\))/g,Vc=/:([^]+)/,Kc=/\/\*[^]*?\*\//g;function Yc(e){const t={};return e.replace(Kc,"").split(Wc).forEach(n=>{if(n){const r=n.split(Vc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Kn(e){let t="";if(xe(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=Kn(e[n]);r&&(t+=r+" ")}else if(_e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const qc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xc=eo(qc);function wa(e){return!!e||e===""}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class Zc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!t&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ze;try{return ze=this,t()}finally{ze=n}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Jc(){return ze}let he;const Xr=new WeakSet;class _a{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xr.has(this)&&(Xr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ko(this),Ta(this);const t=he,n=tt;he=this,tt=!0;try{return this.fn()}finally{Ca(this),he=t,tt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ao(t);this.deps=this.depsTail=void 0,Ko(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Di(this)&&this.run()}get dirty(){return Di(this)}}let Ea=0,$n,zn;function xa(e,t=!1){if(e.flags|=8,t){e.next=zn,zn=e;return}e.next=$n,$n=e}function oo(){Ea++}function so(){if(--Ea>0)return;if(zn){let t=zn;for(zn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;$n;){let t=$n;for($n=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Ta(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ca(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),ao(r),Qc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Di(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Sa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Sa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Di(e))))return;e.flags|=2;const t=e.dep,n=he,r=tt;he=e,tt=!0;try{Ta(e);const i=e.fn(e._value);(t.version===0||$t(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{he=n,tt=r,Ca(e),e.flags&=-3}}function ao(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)ao(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Qc(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let tt=!0;const Aa=[];function Lt(){Aa.push(tt),tt=!1}function Nt(){const e=Aa.pop();tt=e===void 0?!0:e}function Ko(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=he;he=void 0;try{t()}finally{he=n}}}let Yn=0;class el{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!he||!tt||he===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==he)n=this.activeLink=new el(he,this),he.deps?(n.prevDep=he.depsTail,he.depsTail.nextDep=n,he.depsTail=n):he.deps=he.depsTail=n,Ra(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=he.depsTail,n.nextDep=void 0,he.depsTail.nextDep=n,he.depsTail=n,he.deps===n&&(he.deps=r)}return n}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){oo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{so()}}}function Ra(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ra(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Gi=new WeakMap,Yt=Symbol(""),Pi=Symbol(""),qn=Symbol("");function Ae(e,t,n){if(tt&&he){let r=Gi.get(e);r||Gi.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new uo),i.map=r,i.key=n),i.track()}}function Ct(e,t,n,r,i,o){const s=Gi.get(e);if(!s){Yn++;return}const a=u=>{u&&u.trigger()};if(oo(),t==="clear")s.forEach(a);else{const u=ee(e),c=u&&ro(n);if(u&&n==="length"){const l=Number(r);s.forEach((f,d)=>{(d==="length"||d===qn||!vn(d)&&d>=l)&&a(f)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(qn)),t){case"add":u?c&&a(s.get("length")):(a(s.get(Yt)),On(e)&&a(s.get(Pi)));break;case"delete":u||(a(s.get(Yt)),On(e)&&a(s.get(Pi)));break;case"set":On(e)&&a(s.get(Yt));break}}so()}function en(e){const t=ae(e);return t===e?t:(Ae(t,"iterate",qn),nt(e)?t:t.map(Fe))}function co(e){return Ae(e=ae(e),"iterate",qn),e}const tl={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,Fe)},concat(...e){return en(this).concat(...e.map(t=>ee(t)?en(t):t))},entries(){return Zr(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return yt(this,"every",e,t,void 0,arguments)},filter(e,t){return yt(this,"filter",e,t,n=>n.map(Fe),arguments)},find(e,t){return yt(this,"find",e,t,Fe,arguments)},findIndex(e,t){return yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return yt(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Jr(this,"includes",e)},indexOf(...e){return Jr(this,"indexOf",e)},join(e){return en(this).join(e)},lastIndexOf(...e){return Jr(this,"lastIndexOf",e)},map(e,t){return yt(this,"map",e,t,void 0,arguments)},pop(){return An(this,"pop")},push(...e){return An(this,"push",e)},reduce(e,...t){return Yo(this,"reduce",e,t)},reduceRight(e,...t){return Yo(this,"reduceRight",e,t)},shift(){return An(this,"shift")},some(e,t){return yt(this,"some",e,t,void 0,arguments)},splice(...e){return An(this,"splice",e)},toReversed(){return en(this).toReversed()},toSorted(e){return en(this).toSorted(e)},toSpliced(...e){return en(this).toSpliced(...e)},unshift(...e){return An(this,"unshift",e)},values(){return Zr(this,"values",Fe)}};function Zr(e,t,n){const r=co(e),i=r[t]();return r!==e&&!nt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const nl=Array.prototype;function yt(e,t,n,r,i,o){const s=co(e),a=s!==e&&!nt(e),u=s[t];if(u!==nl[t]){const f=u.apply(e,o);return a?Fe(f):f}let c=n;s!==e&&(a?c=function(f,d){return n.call(this,Fe(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const l=u.call(s,c,r);return a&&i?i(l):l}function Yo(e,t,n,r){const i=co(e);let o=n;return i!==e&&(nt(e)?n.length>3&&(o=function(s,a,u){return n.call(this,s,a,u,e)}):o=function(s,a,u){return n.call(this,s,Fe(a),u,e)}),i[t](o,...r)}function Jr(e,t,n){const r=ae(e);Ae(r,"iterate",qn);const i=r[t](...n);return(i===-1||i===!1)&&go(n[0])?(n[0]=ae(n[0]),r[t](...n)):i}function An(e,t,n=[]){Lt(),oo();const r=ae(e)[t].apply(e,n);return so(),Nt(),r}const rl=eo("__proto__,__v_isRef,__isVue"),ka=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vn));function il(e){vn(e)||(e=String(e));const t=ae(this);return Ae(t,"has",e),t.hasOwnProperty(e)}class La{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?gl:Pa:o?Ga:Da).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=ee(t);if(!i){let u;if(s&&(u=tl[n]))return u;if(n==="hasOwnProperty")return il}const a=Reflect.get(t,n,Le(t)?t:r);return(vn(n)?ka.has(n):rl(n))||(i||Ae(t,"get",n),o)?a:Le(a)?s&&ro(n)?a:a.value:_e(a)?i?Ma(a):fo(a):a}}class Na extends La{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const u=Xt(o);if(!nt(r)&&!Xt(r)&&(o=ae(o),r=ae(r)),!ee(t)&&Le(o)&&!Le(r))return u||(o.value=r),!0}const s=ee(t)&&ro(n)?Number(n)<t.length:ue(t,n),a=Reflect.set(t,n,r,Le(t)?t:i);return t===ae(i)&&(s?$t(r,o)&&Ct(t,"set",n,r):Ct(t,"add",n,r)),a}deleteProperty(t,n){const r=ue(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ct(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!vn(n)||!ka.has(n))&&Ae(t,"has",n),r}ownKeys(t){return Ae(t,"iterate",ee(t)?"length":Yt),Reflect.ownKeys(t)}}class ol extends La{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sl=new Na,al=new ol,ul=new Na(!0);const Mi=e=>e,nr=e=>Reflect.getPrototypeOf(e);function cl(e,t,n){return function(...r){const i=this.__v_raw,o=ae(i),s=On(o),a=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=i[e](...r),l=n?Mi:t?Fi:Fe;return!t&&Ae(o,"iterate",u?Pi:Yt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[l(f[0]),l(f[1])]:l(f),done:d}},[Symbol.iterator](){return this}}}}function rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ll(e,t){const n={get(i){const o=this.__v_raw,s=ae(o),a=ae(i);e||($t(i,a)&&Ae(s,"get",i),Ae(s,"get",a));const{has:u}=nr(s),c=t?Mi:e?Fi:Fe;if(u.call(s,i))return c(o.get(i));if(u.call(s,a))return c(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&Ae(ae(i),"iterate",Yt),i.size},has(i){const o=this.__v_raw,s=ae(o),a=ae(i);return e||($t(i,a)&&Ae(s,"has",i),Ae(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,u=ae(a),c=t?Mi:e?Fi:Fe;return!e&&Ae(u,"iterate",Yt),a.forEach((l,f)=>i.call(o,c(l),c(f),s))}};return Ne(n,e?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(i){!t&&!nt(i)&&!Xt(i)&&(i=ae(i));const o=ae(this);return nr(o).has.call(o,i)||(o.add(i),Ct(o,"add",i,i)),this},set(i,o){!t&&!nt(o)&&!Xt(o)&&(o=ae(o));const s=ae(this),{has:a,get:u}=nr(s);let c=a.call(s,i);c||(i=ae(i),c=a.call(s,i));const l=u.call(s,i);return s.set(i,o),c?$t(o,l)&&Ct(s,"set",i,o):Ct(s,"add",i,o),this},delete(i){const o=ae(this),{has:s,get:a}=nr(o);let u=s.call(o,i);u||(i=ae(i),u=s.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return u&&Ct(o,"delete",i,void 0),c},clear(){const i=ae(this),o=i.size!==0,s=i.clear();return o&&Ct(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=cl(i,e,t)}),n}function lo(e,t){const n=ll(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ue(n,i)&&i in r?n:r,i,o)}const fl={get:lo(!1,!1)},dl={get:lo(!1,!0)},hl={get:lo(!0,!1)};const Da=new WeakMap,Ga=new WeakMap,Pa=new WeakMap,gl=new WeakMap;function pl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ml(e){return e.__v_skip||!Object.isExtensible(e)?0:pl(zc(e))}function fo(e){return Xt(e)?e:ho(e,!1,sl,fl,Da)}function vl(e){return ho(e,!1,ul,dl,Ga)}function Ma(e){return ho(e,!0,al,hl,Pa)}function ho(e,t,n,r,i){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=ml(e);if(o===0)return e;const s=i.get(e);if(s)return s;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Un(e){return Xt(e)?Un(e.__v_raw):!!(e&&e.__v_isReactive)}function Xt(e){return!!(e&&e.__v_isReadonly)}function nt(e){return!!(e&&e.__v_isShallow)}function go(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function bl(e){return!ue(e,"__v_skip")&&Object.isExtensible(e)&&ya(e,"__v_skip",!0),e}const Fe=e=>_e(e)?fo(e):e,Fi=e=>_e(e)?Ma(e):e;function Le(e){return e?e.__v_isRef===!0:!1}function yl(e){return wl(e,!1)}function wl(e,t){return Le(e)?e:new _l(e,t)}class _l{constructor(t,n){this.dep=new uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ae(t),this._value=n?t:Fe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||nt(t)||Xt(t);t=r?t:ae(t),$t(t,n)&&(this._rawValue=t,this._value=r?t:Fe(t),this.dep.trigger())}}function El(e){return Le(e)?e.value:e}const xl={get:(e,t,n)=>t==="__v_raw"?e:El(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Le(i)&&!Le(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Fa(e){return Un(e)?e:new Proxy(e,xl)}class Tl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return xa(this,!0),!0}get value(){const t=this.dep.track();return Sa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Cl(e,t,n=!1){let r,i;return Q(e)?r=e:(r=e.get,i=e.set),new Tl(r,i,n)}const ir={},wr=new WeakMap;let Kt;function Sl(e,t=!1,n=Kt){if(n){let r=wr.get(n);r||wr.set(n,r=[]),r.push(e)}}function Al(e,t,n=ge){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:u}=n,c=g=>i?g:nt(g)||i===!1||i===0?It(g,1):It(g);let l,f,d,h,v=!1,y=!1;if(Le(e)?(f=()=>e.value,v=nt(e)):Un(e)?(f=()=>c(e),v=!0):ee(e)?(y=!0,v=e.some(g=>Un(g)||nt(g)),f=()=>e.map(g=>{if(Le(g))return g.value;if(Un(g))return c(g);if(Q(g))return u?u(g,2):g()})):Q(e)?t?f=u?()=>u(e,2):e:f=()=>{if(d){Lt();try{d()}finally{Nt()}}const g=Kt;Kt=l;try{return u?u(e,3,[h]):e(h)}finally{Kt=g}}:f=dt,t&&i){const g=f,w=i===!0?1/0:i;f=()=>It(g(),w)}const x=Jc(),b=()=>{l.stop(),x&&x.active&&no(x.effects,l)};if(o&&t){const g=t;t=(...w)=>{g(...w),b()}}let C=y?new Array(e.length).fill(ir):ir;const T=g=>{if(!(!(l.flags&1)||!l.dirty&&!g))if(t){const w=l.run();if(i||v||(y?w.some((E,m)=>$t(E,C[m])):$t(w,C))){d&&d();const E=Kt;Kt=l;try{const m=[w,C===ir?void 0:y&&C[0]===ir?[]:C,h];C=w,u?u(t,3,m):t(...m)}finally{Kt=E}}}else l.run()};return a&&a(T),l=new _a(f),l.scheduler=s?()=>s(T,!1):T,h=g=>Sl(g,!1,l),d=l.onStop=()=>{const g=wr.get(l);if(g){if(u)u(g,4);else for(const w of g)w();wr.delete(l)}},t?r?T(!0):C=l.run():s?s(T.bind(null,!0),!0):l.run(),b.pause=l.pause.bind(l),b.resume=l.resume.bind(l),b.stop=b,b}function It(e,t=1/0,n){if(t<=0||!_e(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Le(e))It(e.value,t,n);else if(ee(e))for(let r=0;r<e.length;r++)It(e[r],t,n);else if(Ic(e)||On(e))e.forEach(r=>{It(r,t,n)});else if(Uc(e)){for(const r in e)It(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&It(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function er(e,t,n,r){try{return r?e(...r):e()}catch(i){Or(i,t,n)}}function gt(e,t,n,r){if(Q(e)){const i=er(e,t,n,r);return i&&ba(i)&&i.catch(o=>{Or(o,t,n)}),i}if(ee(e)){const i=[];for(let o=0;o<e.length;o++)i.push(gt(e[o],t,n,r));return i}}function Or(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||ge;if(t){let a=t.parent;const u=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const l=a.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,u,c)===!1)return}a=a.parent}if(o){Lt(),er(o,null,10,[e,u,c]),Nt();return}}Rl(e,n,i,r,s)}function Rl(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Oe=[];let ct=-1;const un=[];let Ft=null,sn=0;const Oa=Promise.resolve();let _r=null;function kl(e){const t=_r||Oa;return e?t.then(this?e.bind(this):e):t}function Ll(e){let t=ct+1,n=Oe.length;for(;t<n;){const r=t+n>>>1,i=Oe[r],o=Xn(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function po(e){if(!(e.flags&1)){const t=Xn(e),n=Oe[Oe.length-1];!n||!(e.flags&2)&&t>=Xn(n)?Oe.push(e):Oe.splice(Ll(t),0,e),e.flags|=1,Ia()}}function Ia(){_r||(_r=Oa.then(za))}function Nl(e){ee(e)?un.push(...e):Ft&&e.id===-1?Ft.splice(sn+1,0,e):e.flags&1||(un.push(e),e.flags|=1),Ia()}function qo(e,t,n=ct+1){for(;n<Oe.length;n++){const r=Oe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Oe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function $a(e){if(un.length){const t=[...new Set(un)].sort((n,r)=>Xn(n)-Xn(r));if(un.length=0,Ft){Ft.push(...t);return}for(Ft=t,sn=0;sn<Ft.length;sn++){const n=Ft[sn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ft=null,sn=0}}const Xn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function za(e){try{for(ct=0;ct<Oe.length;ct++){const t=Oe[ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),er(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ct<Oe.length;ct++){const t=Oe[ct];t&&(t.flags&=-2)}ct=-1,Oe.length=0,$a(),_r=null,(Oe.length||un.length)&&za()}}let et=null,Ua=null;function Er(e){const t=et;return et=e,Ua=e&&e.type.__scopeId||null,t}function Dl(e,t=et,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&ss(-1);const o=Er(t);let s;try{s=e(...i)}finally{Er(o),r._d&&ss(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function jt(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(Lt(),gt(u,n,8,[e.el,a,e,t]),Nt())}}const Gl=Symbol("_vte"),Pl=e=>e.__isTeleport,Ml=Symbol("_leaveCb");function mo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,mo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vo(e,t){return Q(e)?Ne({name:e.name},t,{setup:e}):e}function Ba(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const xr=new WeakMap;function Bn(e,t,n,r,i=!1){if(ee(e)){e.forEach((v,y)=>Bn(v,t&&(ee(t)?t[y]:t),n,r,i));return}if(Hn(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bn(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?xo(r.component):r.el,s=i?null:o,{i:a,r:u}=e,c=t&&t.r,l=a.refs===ge?a.refs={}:a.refs,f=a.setupState,d=ae(f),h=f===ge?va:v=>ue(d,v);if(c!=null&&c!==u){if(Xo(t),xe(c))l[c]=null,h(c)&&(f[c]=null);else if(Le(c)){c.value=null;const v=t;v.k&&(l[v.k]=null)}}if(Q(u))er(u,a,12,[s,l]);else{const v=xe(u),y=Le(u);if(v||y){const x=()=>{if(e.f){const b=v?h(u)?f[u]:l[u]:u.value;if(i)ee(b)&&no(b,o);else if(ee(b))b.includes(o)||b.push(o);else if(v)l[u]=[o],h(u)&&(f[u]=l[u]);else{const C=[o];u.value=C,e.k&&(l[e.k]=C)}}else v?(l[u]=s,h(u)&&(f[u]=s)):y&&(u.value=s,e.k&&(l[e.k]=s))};if(s){const b=()=>{x(),xr.delete(e)};b.id=-1,xr.set(e,b),Be(b,n)}else Xo(e),x()}}}function Xo(e){const t=xr.get(e);t&&(t.flags|=8,xr.delete(e))}Fr().requestIdleCallback;Fr().cancelIdleCallback;const Hn=e=>!!e.type.__asyncLoader,Ha=e=>e.type.__isKeepAlive;function Fl(e,t){ja(e,"a",t)}function Ol(e,t){ja(e,"da",t)}function ja(e,t,n=Re){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ir(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ha(i.parent.vnode)&&Il(r,t,n,i),i=i.parent}}function Il(e,t,n,r){const i=Ir(t,e,r,!0);$r(()=>{no(r[t],i)},n)}function Ir(e,t,n=Re,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{Lt();const a=tr(n),u=gt(t,n,e,s);return a(),Nt(),u});return r?i.unshift(o):i.push(o),o}}const Dt=e=>(t,n=Re)=>{(!Jn||e==="sp")&&Ir(e,(...r)=>t(...r),n)},$l=Dt("bm"),bo=Dt("m"),zl=Dt("bu"),Ul=Dt("u"),Bl=Dt("bum"),$r=Dt("um"),Hl=Dt("sp"),jl=Dt("rtg"),Wl=Dt("rtc");function Vl(e,t=Re){Ir("ec",e,t)}const Kl="components",Wa=Symbol.for("v-ndc");function Yl(e){return xe(e)?ql(Kl,e,!1)||e:e||Wa}function ql(e,t,n=!0,r=!1){const i=et||Re;if(i){const o=i.type;{const a=zf(o,!1);if(a&&(a===t||a===Ke(t)||a===Mr(Ke(t))))return o}const s=Zo(i[e]||o[e],t)||Zo(i.appContext[e],t);return!s&&r?o:s}}function Zo(e,t){return e&&(e[t]||e[Ke(t)]||e[Mr(Ke(t))])}const Oi=e=>e?du(e)?xo(e):Oi(e.parent):null,jn=Ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Oi(e.parent),$root:e=>Oi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ka(e),$forceUpdate:e=>e.f||(e.f=()=>{po(e.update)}),$nextTick:e=>e.n||(e.n=kl.bind(e.proxy)),$watch:e=>bf.bind(e)}),Qr=(e,t)=>e!==ge&&!e.__isScriptSetup&&ue(e,t),Xl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Qr(r,t))return s[t]=1,r[t];if(i!==ge&&ue(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&ue(c,t))return s[t]=3,o[t];if(n!==ge&&ue(n,t))return s[t]=4,n[t];Ii&&(s[t]=0)}}const l=jn[t];let f,d;if(l)return t==="$attrs"&&Ae(e.attrs,"get",""),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ge&&ue(n,t))return s[t]=4,n[t];if(d=u.config.globalProperties,ue(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return Qr(i,t)?(i[t]=n,!0):r!==ge&&ue(r,t)?(r[t]=n,!0):ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o,type:s}},a){let u,c;return!!(n[a]||e!==ge&&a[0]!=="$"&&ue(e,a)||Qr(t,a)||(u=o[0])&&ue(u,a)||ue(r,a)||ue(jn,a)||ue(i.config.globalProperties,a)||(c=s.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ue(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Jo(e){return ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ii=!0;function Zl(e){const t=Ka(e),n=e.proxy,r=e.ctx;Ii=!1,t.beforeCreate&&Qo(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:y,deactivated:x,beforeDestroy:b,beforeUnmount:C,destroyed:T,unmounted:g,render:w,renderTracked:E,renderTriggered:m,errorCaptured:S,serverPrefetch:k,expose:R,inheritAttrs:O,components:$,directives:W,filters:ie}=t;if(c&&Jl(c,r,null),s)for(const oe in s){const te=s[oe];Q(te)&&(r[oe]=te.bind(n))}if(i){const oe=i.call(n,n);_e(oe)&&(e.data=fo(oe))}if(Ii=!0,o)for(const oe in o){const te=o[oe],ve=Q(te)?te.bind(n,n):Q(te.get)?te.get.bind(n,n):dt,Te=!Q(te)&&Q(te.set)?te.set.bind(n):dt,pe=gu({get:ve,set:Te});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>pe.value,set:me=>pe.value=me})}if(a)for(const oe in a)Va(a[oe],r,n,oe);if(u){const oe=Q(u)?u.call(n):u;Reflect.ownKeys(oe).forEach(te=>{of(te,oe[te])})}l&&Qo(l,e,"c");function re(oe,te){ee(te)?te.forEach(ve=>oe(ve.bind(n))):te&&oe(te.bind(n))}if(re($l,f),re(bo,d),re(zl,h),re(Ul,v),re(Fl,y),re(Ol,x),re(Vl,S),re(Wl,E),re(jl,m),re(Bl,C),re($r,g),re(Hl,k),ee(R))if(R.length){const oe=e.exposed||(e.exposed={});R.forEach(te=>{Object.defineProperty(oe,te,{get:()=>n[te],set:ve=>n[te]=ve,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===dt&&(e.render=w),O!=null&&(e.inheritAttrs=O),$&&(e.components=$),W&&(e.directives=W),k&&Ba(e)}function Jl(e,t,n=dt){ee(e)&&(e=$i(e));for(const r in e){const i=e[r];let o;_e(i)?"default"in i?o=mr(i.from||r,i.default,!0):o=mr(i.from||r):o=mr(i),Le(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function Qo(e,t,n){gt(ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Va(e,t,n,r){let i=r.includes(".")?su(n,r):()=>n[r];if(xe(e)){const o=t[e];Q(o)&&ti(i,o)}else if(Q(e))ti(i,e.bind(n));else if(_e(e))if(ee(e))e.forEach(o=>Va(o,t,n,r));else{const o=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(o)&&ti(i,o,e)}}function Ka(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>Tr(u,c,s,!0)),Tr(u,t,s)),_e(t)&&o.set(t,u),u}function Tr(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Tr(e,o,n,!0),i&&i.forEach(s=>Tr(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=Ql[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Ql={data:es,props:ts,emits:ts,methods:Fn,computed:Fn,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Fn,directives:Fn,watch:tf,provide:es,inject:ef};function es(e,t){return t?e?function(){return Ne(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function ef(e,t){return Fn($i(e),$i(t))}function $i(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Fn(e,t){return e?Ne(Object.create(null),e,t):t}function ts(e,t){return e?ee(e)&&ee(t)?[...new Set([...e,...t])]:Ne(Object.create(null),Jo(e),Jo(t??{})):t}function tf(e,t){if(!e)return t;if(!t)return e;const n=Ne(Object.create(null),e);for(const r in t)n[r]=Me(e[r],t[r]);return n}function Ya(){return{app:null,config:{isNativeTag:va,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nf=0;function rf(e,t){return function(r,i=null){Q(r)||(r=Ne({},r)),i!=null&&!_e(i)&&(i=null);const o=Ya(),s=new WeakSet,a=[];let u=!1;const c=o.app={_uid:nf++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Bf,get config(){return o.config},set config(l){},use(l,...f){return s.has(l)||(l&&Q(l.install)?(s.add(l),l.install(c,...f)):Q(l)&&(s.add(l),l(c,...f))),c},mixin(l){return o.mixins.includes(l)||o.mixins.push(l),c},component(l,f){return f?(o.components[l]=f,c):o.components[l]},directive(l,f){return f?(o.directives[l]=f,c):o.directives[l]},mount(l,f,d){if(!u){const h=c._ceVNode||zt(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,l,d),u=!0,c._container=l,l.__vue_app__=c,xo(h.component)}},onUnmount(l){a.push(l)},unmount(){u&&(gt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(l,f){return o.provides[l]=f,c},runWithContext(l){const f=cn;cn=c;try{return l()}finally{cn=f}}};return c}}let cn=null;function of(e,t){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[e]=t}}function mr(e,t,n=!1){const r=Mf();if(r||cn){let i=cn?cn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Q(t)?t.call(r&&r.proxy):t}}const qa={},Xa=()=>Object.create(qa),Za=e=>Object.getPrototypeOf(e)===qa;function sf(e,t,n,r=!1){const i={},o=Xa();e.propsDefaults=Object.create(null),Ja(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:vl(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function af(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=ae(i),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(zr(e.emitsOptions,d))continue;const h=t[d];if(u)if(ue(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const v=Ke(d);i[v]=zi(u,a,v,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{Ja(e,t,i,o)&&(c=!0);let l;for(const f in a)(!t||!ue(t,f)&&((l=Zt(f))===f||!ue(t,l)))&&(u?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=zi(u,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!ue(t,f))&&(delete o[f],c=!0)}c&&Ct(e.attrs,"set","")}function Ja(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let u in t){if(In(u))continue;const c=t[u];let l;i&&ue(i,l=Ke(u))?!o||!o.includes(l)?n[l]=c:(a||(a={}))[l]=c:zr(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(o){const u=ae(n),c=a||ge;for(let l=0;l<o.length;l++){const f=o[l];n[f]=zi(i,u,f,c[f],e,!ue(c,f))}}return s}function zi(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=ue(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Q(u)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const l=tr(i);r=c[n]=u.call(null,t),l()}}else r=u;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===Zt(n))&&(r=!0))}return r}const uf=new WeakMap;function Qa(e,t,n=!1){const r=n?uf:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let u=!1;if(!Q(e)){const l=f=>{u=!0;const[d,h]=Qa(f,t,!0);Ne(s,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!u)return _e(e)&&r.set(e,an),an;if(ee(o))for(let l=0;l<o.length;l++){const f=Ke(o[l]);ns(f)&&(s[f]=ge)}else if(o)for(const l in o){const f=Ke(l);if(ns(f)){const d=o[l],h=s[f]=ee(d)||Q(d)?{type:d}:Ne({},d),v=h.type;let y=!1,x=!0;if(ee(v))for(let b=0;b<v.length;++b){const C=v[b],T=Q(C)&&C.name;if(T==="Boolean"){y=!0;break}else T==="String"&&(x=!1)}else y=Q(v)&&v.name==="Boolean";h[0]=y,h[1]=x,(y||ue(h,"default"))&&a.push(f)}}const c=[s,a];return _e(e)&&r.set(e,c),c}function ns(e){return e[0]!=="$"&&!In(e)}const yo=e=>e==="_"||e==="_ctx"||e==="$stable",wo=e=>ee(e)?e.map(lt):[lt(e)],cf=(e,t,n)=>{if(t._n)return t;const r=Dl((...i)=>wo(t(...i)),n);return r._c=!1,r},eu=(e,t,n)=>{const r=e._ctx;for(const i in e){if(yo(i))continue;const o=e[i];if(Q(o))t[i]=cf(i,o,r);else if(o!=null){const s=wo(o);t[i]=()=>s}}},tu=(e,t)=>{const n=wo(t);e.slots.default=()=>n},nu=(e,t,n)=>{for(const r in t)(n||!yo(r))&&(e[r]=t[r])},lf=(e,t,n)=>{const r=e.slots=Xa();if(e.vnode.shapeFlag&32){const i=t._;i?(nu(r,t,n),n&&ya(r,"_",i,!0)):eu(t,r)}else t&&tu(e,t)},ff=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=ge;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:nu(i,t,n):(o=!t.$stable,eu(t,i)),s=t}else t&&(tu(e,t),s={default:1});if(o)for(const a in i)!yo(a)&&s[a]==null&&delete i[a]},Be=Sf;function df(e){return hf(e)}function hf(e,t){const n=Fr();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:f,nextSibling:d,setScopeId:h=dt,insertStaticContent:v}=e,y=(p,_,A,G=null,N=null,D=null,U=void 0,z=null,I=!!_.dynamicChildren)=>{if(p===_)return;p&&!Rn(p,_)&&(G=Qt(p),me(p,N,D,!0),p=null),_.patchFlag===-2&&(I=!1,_.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:H}=_;switch(M){case Ur:x(p,_,A,G);break;case fn:b(p,_,A,G);break;case ni:p==null&&C(_,A,G,U);break;case xt:$(p,_,A,G,N,D,U,z,I);break;default:H&1?w(p,_,A,G,N,D,U,z,I):H&6?W(p,_,A,G,N,D,U,z,I):(H&64||H&128)&&M.process(p,_,A,G,N,D,U,z,I,bt)}Y!=null&&N?Bn(Y,p&&p.ref,D,_||p,!_):Y==null&&p&&p.ref!=null&&Bn(p.ref,null,D,p,!0)},x=(p,_,A,G)=>{if(p==null)r(_.el=a(_.children),A,G);else{const N=_.el=p.el;_.children!==p.children&&c(N,_.children)}},b=(p,_,A,G)=>{p==null?r(_.el=u(_.children||""),A,G):_.el=p.el},C=(p,_,A,G)=>{[p.el,p.anchor]=v(p.children,_,A,G,p.el,p.anchor)},T=({el:p,anchor:_},A,G)=>{let N;for(;p&&p!==_;)N=d(p),r(p,A,G),p=N;r(_,A,G)},g=({el:p,anchor:_})=>{let A;for(;p&&p!==_;)A=d(p),i(p),p=A;i(_)},w=(p,_,A,G,N,D,U,z,I)=>{_.type==="svg"?U="svg":_.type==="math"&&(U="mathml"),p==null?E(_,A,G,N,D,U,z,I):k(p,_,N,D,U,z,I)},E=(p,_,A,G,N,D,U,z)=>{let I,M;const{props:Y,shapeFlag:H,transition:V,dirs:q}=p;if(I=p.el=s(p.type,D,Y&&Y.is,Y),H&8?l(I,p.children):H&16&&S(p.children,I,null,G,N,ei(p,D),U,z),q&&jt(p,null,G,"created"),m(I,p,p.scopeId,U,G),Y){for(const de in Y)de!=="value"&&!In(de)&&o(I,de,null,Y[de],D,G);"value"in Y&&o(I,"value",null,Y.value,D),(M=Y.onVnodeBeforeMount)&&ut(M,G,p)}q&&jt(p,null,G,"beforeMount");const se=gf(N,V);se&&V.beforeEnter(I),r(I,_,A),((M=Y&&Y.onVnodeMounted)||se||q)&&Be(()=>{M&&ut(M,G,p),se&&V.enter(I),q&&jt(p,null,G,"mounted")},N)},m=(p,_,A,G,N)=>{if(A&&h(p,A),G)for(let D=0;D<G.length;D++)h(p,G[D]);if(N){let D=N.subTree;if(_===D||uu(D.type)&&(D.ssContent===_||D.ssFallback===_)){const U=N.vnode;m(p,U,U.scopeId,U.slotScopeIds,N.parent)}}},S=(p,_,A,G,N,D,U,z,I=0)=>{for(let M=I;M<p.length;M++){const Y=p[M]=z?Ot(p[M]):lt(p[M]);y(null,Y,_,A,G,N,D,U,z)}},k=(p,_,A,G,N,D,U)=>{const z=_.el=p.el;let{patchFlag:I,dynamicChildren:M,dirs:Y}=_;I|=p.patchFlag&16;const H=p.props||ge,V=_.props||ge;let q;if(A&&Wt(A,!1),(q=V.onVnodeBeforeUpdate)&&ut(q,A,_,p),Y&&jt(_,p,A,"beforeUpdate"),A&&Wt(A,!0),(H.innerHTML&&V.innerHTML==null||H.textContent&&V.textContent==null)&&l(z,""),M?R(p.dynamicChildren,M,z,A,G,ei(_,N),D):U||te(p,_,z,null,A,G,ei(_,N),D,!1),I>0){if(I&16)O(z,H,V,A,N);else if(I&2&&H.class!==V.class&&o(z,"class",null,V.class,N),I&4&&o(z,"style",H.style,V.style,N),I&8){const se=_.dynamicProps;for(let de=0;de<se.length;de++){const ce=se[de],Ie=H[ce],$e=V[ce];($e!==Ie||ce==="value")&&o(z,ce,Ie,$e,N,A)}}I&1&&p.children!==_.children&&l(z,_.children)}else!U&&M==null&&O(z,H,V,A,N);((q=V.onVnodeUpdated)||Y)&&Be(()=>{q&&ut(q,A,_,p),Y&&jt(_,p,A,"updated")},G)},R=(p,_,A,G,N,D,U)=>{for(let z=0;z<_.length;z++){const I=p[z],M=_[z],Y=I.el&&(I.type===xt||!Rn(I,M)||I.shapeFlag&198)?f(I.el):A;y(I,M,Y,null,G,N,D,U,!0)}},O=(p,_,A,G,N)=>{if(_!==A){if(_!==ge)for(const D in _)!In(D)&&!(D in A)&&o(p,D,_[D],null,N,G);for(const D in A){if(In(D))continue;const U=A[D],z=_[D];U!==z&&D!=="value"&&o(p,D,z,U,N,G)}"value"in A&&o(p,"value",_.value,A.value,N)}},$=(p,_,A,G,N,D,U,z,I)=>{const M=_.el=p?p.el:a(""),Y=_.anchor=p?p.anchor:a("");let{patchFlag:H,dynamicChildren:V,slotScopeIds:q}=_;q&&(z=z?z.concat(q):q),p==null?(r(M,A,G),r(Y,A,G),S(_.children||[],A,Y,N,D,U,z,I)):H>0&&H&64&&V&&p.dynamicChildren?(R(p.dynamicChildren,V,A,N,D,U,z),(_.key!=null||N&&_===N.subTree)&&ru(p,_,!0)):te(p,_,A,Y,N,D,U,z,I)},W=(p,_,A,G,N,D,U,z,I)=>{_.slotScopeIds=z,p==null?_.shapeFlag&512?N.ctx.activate(_,A,G,U,I):ie(_,A,G,N,D,U,I):fe(p,_,I)},ie=(p,_,A,G,N,D,U)=>{const z=p.component=Pf(p,G,N);if(Ha(p)&&(z.ctx.renderer=bt),Ff(z,!1,U),z.asyncDep){if(N&&N.registerDep(z,re,U),!p.el){const I=z.subTree=zt(fn);b(null,I,_,A),p.placeholder=I.el}}else re(z,p,_,A,N,D,U)},fe=(p,_,A)=>{const G=_.component=p.component;if(Tf(p,_,A))if(G.asyncDep&&!G.asyncResolved){oe(G,_,A);return}else G.next=_,G.update();else _.el=p.el,G.vnode=_},re=(p,_,A,G,N,D,U)=>{const z=()=>{if(p.isMounted){let{next:H,bu:V,u:q,parent:se,vnode:de}=p;{const st=iu(p);if(st){H&&(H.el=de.el,oe(p,H,U)),st.asyncDep.then(()=>{p.isUnmounted||z()});return}}let ce=H,Ie;Wt(p,!1),H?(H.el=de.el,oe(p,H,U)):H=de,V&&qr(V),(Ie=H.props&&H.props.onVnodeBeforeUpdate)&&ut(Ie,se,H,de),Wt(p,!0);const $e=is(p),ot=p.subTree;p.subTree=$e,y(ot,$e,f(ot.el),Qt(ot),p,N,D),H.el=$e.el,ce===null&&Cf(p,$e.el),q&&Be(q,N),(Ie=H.props&&H.props.onVnodeUpdated)&&Be(()=>ut(Ie,se,H,de),N)}else{let H;const{el:V,props:q}=_,{bm:se,m:de,parent:ce,root:Ie,type:$e}=p,ot=Hn(_);Wt(p,!1),se&&qr(se),!ot&&(H=q&&q.onVnodeBeforeMount)&&ut(H,ce,_),Wt(p,!0);{Ie.ce&&Ie.ce._def.shadowRoot!==!1&&Ie.ce._injectChildStyle($e);const st=p.subTree=is(p);y(null,st,A,G,p,N,D),_.el=st.el}if(de&&Be(de,N),!ot&&(H=q&&q.onVnodeMounted)){const st=_;Be(()=>ut(H,ce,st),N)}(_.shapeFlag&256||ce&&Hn(ce.vnode)&&ce.vnode.shapeFlag&256)&&p.a&&Be(p.a,N),p.isMounted=!0,_=A=G=null}};p.scope.on();const I=p.effect=new _a(z);p.scope.off();const M=p.update=I.run.bind(I),Y=p.job=I.runIfDirty.bind(I);Y.i=p,Y.id=p.uid,I.scheduler=()=>po(Y),Wt(p,!0),M()},oe=(p,_,A)=>{_.component=p;const G=p.vnode.props;p.vnode=_,p.next=null,af(p,_.props,G,A),ff(p,_.children,A),Lt(),qo(p),Nt()},te=(p,_,A,G,N,D,U,z,I=!1)=>{const M=p&&p.children,Y=p?p.shapeFlag:0,H=_.children,{patchFlag:V,shapeFlag:q}=_;if(V>0){if(V&128){Te(M,H,A,G,N,D,U,z,I);return}else if(V&256){ve(M,H,A,G,N,D,U,z,I);return}}q&8?(Y&16&&mt(M,N,D),H!==M&&l(A,H)):Y&16?q&16?Te(M,H,A,G,N,D,U,z,I):mt(M,N,D,!0):(Y&8&&l(A,""),q&16&&S(H,A,G,N,D,U,z,I))},ve=(p,_,A,G,N,D,U,z,I)=>{p=p||an,_=_||an;const M=p.length,Y=_.length,H=Math.min(M,Y);let V;for(V=0;V<H;V++){const q=_[V]=I?Ot(_[V]):lt(_[V]);y(p[V],q,A,null,N,D,U,z,I)}M>Y?mt(p,N,D,!0,!1,H):S(_,A,G,N,D,U,z,I,H)},Te=(p,_,A,G,N,D,U,z,I)=>{let M=0;const Y=_.length;let H=p.length-1,V=Y-1;for(;M<=H&&M<=V;){const q=p[M],se=_[M]=I?Ot(_[M]):lt(_[M]);if(Rn(q,se))y(q,se,A,null,N,D,U,z,I);else break;M++}for(;M<=H&&M<=V;){const q=p[H],se=_[V]=I?Ot(_[V]):lt(_[V]);if(Rn(q,se))y(q,se,A,null,N,D,U,z,I);else break;H--,V--}if(M>H){if(M<=V){const q=V+1,se=q<Y?_[q].el:G;for(;M<=V;)y(null,_[M]=I?Ot(_[M]):lt(_[M]),A,se,N,D,U,z,I),M++}}else if(M>V)for(;M<=H;)me(p[M],N,D,!0),M++;else{const q=M,se=M,de=new Map;for(M=se;M<=V;M++){const Ue=_[M]=I?Ot(_[M]):lt(_[M]);Ue.key!=null&&de.set(Ue.key,M)}let ce,Ie=0;const $e=V-se+1;let ot=!1,st=0;const Sn=new Array($e);for(M=0;M<$e;M++)Sn[M]=0;for(M=q;M<=H;M++){const Ue=p[M];if(Ie>=$e){me(Ue,N,D,!0);continue}let at;if(Ue.key!=null)at=de.get(Ue.key);else for(ce=se;ce<=V;ce++)if(Sn[ce-se]===0&&Rn(Ue,_[ce])){at=ce;break}at===void 0?me(Ue,N,D,!0):(Sn[at-se]=M+1,at>=st?st=at:ot=!0,y(Ue,_[at],A,null,N,D,U,z,I),Ie++)}const Ho=ot?pf(Sn):an;for(ce=Ho.length-1,M=$e-1;M>=0;M--){const Ue=se+M,at=_[Ue],jo=_[Ue+1],Wo=Ue+1<Y?jo.el||jo.placeholder:G;Sn[M]===0?y(null,at,A,Wo,N,D,U,z,I):ot&&(ce<0||M!==Ho[ce]?pe(at,A,Wo,2):ce--)}}},pe=(p,_,A,G,N=null)=>{const{el:D,type:U,transition:z,children:I,shapeFlag:M}=p;if(M&6){pe(p.component.subTree,_,A,G);return}if(M&128){p.suspense.move(_,A,G);return}if(M&64){U.move(p,_,A,bt);return}if(U===xt){r(D,_,A);for(let H=0;H<I.length;H++)pe(I[H],_,A,G);r(p.anchor,_,A);return}if(U===ni){T(p,_,A);return}if(G!==2&&M&1&&z)if(G===0)z.beforeEnter(D),r(D,_,A),Be(()=>z.enter(D),N);else{const{leave:H,delayLeave:V,afterLeave:q}=z,se=()=>{p.ctx.isUnmounted?i(D):r(D,_,A)},de=()=>{D._isLeaving&&D[Ml](!0),H(D,()=>{se(),q&&q()})};V?V(D,se,de):de()}else r(D,_,A)},me=(p,_,A,G=!1,N=!1)=>{const{type:D,props:U,ref:z,children:I,dynamicChildren:M,shapeFlag:Y,patchFlag:H,dirs:V,cacheIndex:q}=p;if(H===-2&&(N=!1),z!=null&&(Lt(),Bn(z,null,A,p,!0),Nt()),q!=null&&(_.renderCache[q]=void 0),Y&256){_.ctx.deactivate(p);return}const se=Y&1&&V,de=!Hn(p);let ce;if(de&&(ce=U&&U.onVnodeBeforeUnmount)&&ut(ce,_,p),Y&6)pt(p.component,A,G);else{if(Y&128){p.suspense.unmount(A,G);return}se&&jt(p,null,_,"beforeUnmount"),Y&64?p.type.remove(p,_,A,bt,G):M&&!M.hasOnce&&(D!==xt||H>0&&H&64)?mt(M,_,A,!1,!0):(D===xt&&H&384||!N&&Y&16)&&mt(I,_,A),G&&be(p)}(de&&(ce=U&&U.onVnodeUnmounted)||se)&&Be(()=>{ce&&ut(ce,_,p),se&&jt(p,null,_,"unmounted")},A)},be=p=>{const{type:_,el:A,anchor:G,transition:N}=p;if(_===xt){Jt(A,G);return}if(_===ni){g(p);return}const D=()=>{i(A),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(p.shapeFlag&1&&N&&!N.persisted){const{leave:U,delayLeave:z}=N,I=()=>U(A,D);z?z(p.el,D,I):I()}else D()},Jt=(p,_)=>{let A;for(;p!==_;)A=d(p),i(p),p=A;i(_)},pt=(p,_,A)=>{const{bum:G,scope:N,job:D,subTree:U,um:z,m:I,a:M}=p;rs(I),rs(M),G&&qr(G),N.stop(),D&&(D.flags|=8,me(U,p,_,A)),z&&Be(z,_),Be(()=>{p.isUnmounted=!0},_)},mt=(p,_,A,G=!1,N=!1,D=0)=>{for(let U=D;U<p.length;U++)me(p[U],_,A,G,N)},Qt=p=>{if(p.shapeFlag&6)return Qt(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const _=d(p.anchor||p.el),A=_&&_[Gl];return A?d(A):_};let Ht=!1;const vt=(p,_,A)=>{p==null?_._vnode&&me(_._vnode,null,null,!0):y(_._vnode||null,p,_,null,null,null,A),_._vnode=p,Ht||(Ht=!0,qo(),$a(),Ht=!1)},bt={p:y,um:me,m:pe,r:be,mt:ie,mc:S,pc:te,pbc:R,n:Qt,o:e};return{render:vt,hydrate:void 0,createApp:rf(vt)}}function ei({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Wt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function gf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ru(e,t,n=!1){const r=e.children,i=t.children;if(ee(r)&&ee(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ot(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&ru(s,a)),a.type===Ur&&a.patchFlag!==-1&&(a.el=s.el),a.type===fn&&!a.el&&(a.el=s.el)}}function pf(e){const t=e.slice(),n=[0];let r,i,o,s,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function iu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:iu(t)}function rs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mf=Symbol.for("v-scx"),vf=()=>mr(mf);function ti(e,t,n){return ou(e,t,n)}function ou(e,t,n=ge){const{immediate:r,deep:i,flush:o,once:s}=n,a=Ne({},n),u=t&&r||!t&&o!=="post";let c;if(Jn){if(o==="sync"){const h=vf();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=dt,h.resume=dt,h.pause=dt,h}}const l=Re;a.call=(h,v,y)=>gt(h,l,v,y);let f=!1;o==="post"?a.scheduler=h=>{Be(h,l&&l.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,v)=>{v?h():po(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=Al(e,t,a);return Jn&&(c?c.push(d):u&&d()),d}function bf(e,t,n){const r=this.proxy,i=xe(e)?e.includes(".")?su(r,e):()=>r[e]:e.bind(r,r);let o;Q(t)?o=t:(o=t.handler,n=t);const s=tr(this),a=ou(i,o.bind(r),n);return s(),a}function su(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const yf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ke(t)}Modifiers`]||e[`${Zt(t)}Modifiers`];function wf(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ge;let i=n;const o=t.startsWith("update:"),s=o&&yf(r,t.slice(7));s&&(s.trim&&(i=n.map(l=>xe(l)?l.trim():l)),s.number&&(i=n.map(jc)));let a,u=r[a=Yr(t)]||r[a=Yr(Ke(t))];!u&&o&&(u=r[a=Yr(Zt(t))]),u&&gt(u,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,gt(c,e,6,i)}}const _f=new WeakMap;function au(e,t,n=!1){const r=n?_f:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Q(e)){const u=c=>{const l=au(c,t,!0);l&&(a=!0,Ne(s,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!a?(_e(e)&&r.set(e,null),null):(ee(o)?o.forEach(u=>s[u]=null):Ne(s,o),_e(e)&&r.set(e,s),s)}function zr(e,t){return!e||!Dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(e,t[0].toLowerCase()+t.slice(1))||ue(e,Zt(t))||ue(e,t))}function is(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:u,render:c,renderCache:l,props:f,data:d,setupState:h,ctx:v,inheritAttrs:y}=e,x=Er(e);let b,C;try{if(n.shapeFlag&4){const g=i||r,w=g;b=lt(c.call(w,g,l,f,h,d,v)),C=a}else{const g=t;b=lt(g.length>1?g(f,{attrs:a,slots:s,emit:u}):g(f,null)),C=t.props?a:Ef(a)}}catch(g){Wn.length=0,Or(g,e,1),b=zt(fn)}let T=b;if(C&&y!==!1){const g=Object.keys(C),{shapeFlag:w}=T;g.length&&w&7&&(o&&g.some(to)&&(C=xf(C,o)),T=dn(T,C,!1,!0))}return n.dirs&&(T=dn(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&mo(T,n.transition),b=T,Er(x),b}const Ef=e=>{let t;for(const n in e)(n==="class"||n==="style"||Dr(n))&&((t||(t={}))[n]=e[n]);return t},xf=(e,t)=>{const n={};for(const r in e)(!to(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Tf(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?os(r,s,c):!!s;if(u&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const d=l[f];if(s[d]!==r[d]&&!zr(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?os(r,s,c):!0:!!s;return!1}function os(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!zr(n,o))return!0}return!1}function Cf({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const uu=e=>e.__isSuspense;function Sf(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):Nl(e)}const xt=Symbol.for("v-fgt"),Ur=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),ni=Symbol.for("v-stc"),Wn=[];let He=null;function Cr(e=!1){Wn.push(He=e?null:[])}function Af(){Wn.pop(),He=Wn[Wn.length-1]||null}let Zn=1;function ss(e,t=!1){Zn+=e,e<0&&He&&t&&(He.hasOnce=!0)}function cu(e){return e.dynamicChildren=Zn>0?He||an:null,Af(),Zn>0&&He&&He.push(e),e}function _o(e,t,n,r,i,o){return cu(ft(e,t,n,r,i,o,!0))}function Rf(e,t,n,r,i){return cu(zt(e,t,n,r,i,!0))}function lu(e){return e?e.__v_isVNode===!0:!1}function Rn(e,t){return e.type===t.type&&e.key===t.key}const fu=({key:e})=>e??null,vr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?xe(e)||Le(e)||Q(e)?{i:et,r:e,k:t,f:!!n}:e:null);function ft(e,t=null,n=null,r=0,i=null,o=e===xt?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fu(t),ref:t&&vr(t),scopeId:Ua,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:et};return a?(Eo(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=xe(n)?8:16),Zn>0&&!s&&He&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&He.push(u),u}const zt=kf;function kf(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Wa)&&(e=fn),lu(e)){const a=dn(e,t,!0);return n&&Eo(a,n),Zn>0&&!o&&He&&(a.shapeFlag&6?He[He.indexOf(e)]=a:He.push(a)),a.patchFlag=-2,a}if(Uf(e)&&(e=e.__vccOpts),t){t=Lf(t);let{class:a,style:u}=t;a&&!xe(a)&&(t.class=Kn(a)),_e(u)&&(go(u)&&!ee(u)&&(u=Ne({},u)),t.style=io(u))}const s=xe(e)?1:uu(e)?128:Pl(e)?64:_e(e)?4:Q(e)?2:0;return ft(e,t,n,r,i,s,o,!0)}function Lf(e){return e?go(e)||Za(e)?Ne({},e):e:null}function dn(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:u}=e,c=t?Nf(i||{},t):i,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&fu(c),ref:t&&t.ref?n&&o?ee(o)?o.concat(vr(t)):[o,vr(t)]:vr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&mo(l,u.clone(l)),l}function Ui(e=" ",t=0){return zt(Ur,null,e,t)}function lt(e){return e==null||typeof e=="boolean"?zt(fn):ee(e)?zt(xt,null,e.slice()):lu(e)?Ot(e):zt(Ur,null,String(e))}function Ot(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function Eo(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Eo(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Za(t)?t._ctx=et:i===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:et},n=32):(t=String(t),r&64?(n=16,t=[Ui(t)]):n=8);e.children=t,e.shapeFlag|=n}function Nf(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Kn([t.class,r.class]));else if(i==="style")t.style=io([t.style,r.style]);else if(Dr(i)){const o=t[i],s=r[i];s&&o!==s&&!(ee(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function ut(e,t,n,r=null){gt(e,t,7,[n,r])}const Df=Ya();let Gf=0;function Pf(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Df,o={uid:Gf++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qa(r,i),emitsOptions:au(r,i),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:r.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=wf.bind(null,o),e.ce&&e.ce(o),o}let Re=null;const Mf=()=>Re||et;let Sr,Bi;{const e=Fr(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Sr=t("__VUE_INSTANCE_SETTERS__",n=>Re=n),Bi=t("__VUE_SSR_SETTERS__",n=>Jn=n)}const tr=e=>{const t=Re;return Sr(e),e.scope.on(),()=>{e.scope.off(),Sr(t)}},as=()=>{Re&&Re.scope.off(),Sr(null)};function du(e){return e.vnode.shapeFlag&4}let Jn=!1;function Ff(e,t=!1,n=!1){t&&Bi(t);const{props:r,children:i}=e.vnode,o=du(e);sf(e,r,o,t),lf(e,i,n||t);const s=o?Of(e,t):void 0;return t&&Bi(!1),s}function Of(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xl);const{setup:r}=n;if(r){Lt();const i=e.setupContext=r.length>1?$f(e):null,o=tr(e),s=er(r,e,0,[e.props,i]),a=ba(s);if(Nt(),o(),(a||e.sp)&&!Hn(e)&&Ba(e),a){if(s.then(as,as),t)return s.then(u=>{us(e,u)}).catch(u=>{Or(u,e,0)});e.asyncDep=s}else us(e,s)}else hu(e)}function us(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=Fa(t)),hu(e)}function hu(e,t,n){const r=e.type;e.render||(e.render=r.render||dt);{const i=tr(e);Lt();try{Zl(e)}finally{Nt(),i()}}}const If={get(e,t){return Ae(e,"get",""),e[t]}};function $f(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,If),slots:e.slots,emit:e.emit,expose:t}}function xo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Fa(bl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in jn)return jn[n](e)},has(t,n){return n in t||n in jn}})):e.proxy}function zf(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function Uf(e){return Q(e)&&"__vccOpts"in e}const gu=(e,t)=>Cl(e,t,Jn),Bf="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hi;const cs=typeof window<"u"&&window.trustedTypes;if(cs)try{Hi=cs.createPolicy("vue",{createHTML:e=>e})}catch{}const pu=Hi?e=>Hi.createHTML(e):e=>e,Hf="http://www.w3.org/2000/svg",jf="http://www.w3.org/1998/Math/MathML",Et=typeof document<"u"?document:null,ls=Et&&Et.createElement("template"),Wf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Et.createElementNS(Hf,e):t==="mathml"?Et.createElementNS(jf,e):n?Et.createElement(e,{is:n}):Et.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Et.createTextNode(e),createComment:e=>Et.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Et.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ls.innerHTML=pu(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ls.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Vf=Symbol("_vtc");function Kf(e,t,n){const r=e[Vf];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const fs=Symbol("_vod"),Yf=Symbol("_vsh"),qf=Symbol(""),Xf=/(?:^|;)\s*display\s*:/;function Zf(e,t,n){const r=e.style,i=xe(n);let o=!1;if(n&&!i){if(t)if(xe(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&br(r,a,"")}else for(const s in t)n[s]==null&&br(r,s,"");for(const s in n)s==="display"&&(o=!0),br(r,s,n[s])}else if(i){if(t!==n){const s=r[qf];s&&(n+=";"+s),r.cssText=n,o=Xf.test(n)}}else t&&e.removeAttribute("style");fs in e&&(e[fs]=o?r.display:"",e[Yf]&&(r.display="none"))}const ds=/\s*!important$/;function br(e,t,n){if(ee(n))n.forEach(r=>br(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Jf(e,t);ds.test(n)?e.setProperty(Zt(r),n.replace(ds,""),"important"):e[r]=n}}const hs=["Webkit","Moz","ms"],ri={};function Jf(e,t){const n=ri[t];if(n)return n;let r=Ke(t);if(r!=="filter"&&r in e)return ri[t]=r;r=Mr(r);for(let i=0;i<hs.length;i++){const o=hs[i]+r;if(o in e)return ri[t]=o}return t}const gs="http://www.w3.org/1999/xlink";function ps(e,t,n,r,i,o=Xc(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(gs,t.slice(6,t.length)):e.setAttributeNS(gs,t,n):n==null||o&&!wa(n)?e.removeAttribute(t):e.setAttribute(t,o?"":vn(n)?String(n):n)}function ms(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?pu(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=wa(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function Qf(e,t,n,r){e.addEventListener(t,n,r)}function ed(e,t,n,r){e.removeEventListener(t,n,r)}const vs=Symbol("_vei");function td(e,t,n,r,i=null){const o=e[vs]||(e[vs]={}),s=o[t];if(r&&s)s.value=r;else{const[a,u]=nd(t);if(r){const c=o[t]=od(r,i);Qf(e,a,c,u)}else s&&(ed(e,a,s,u),o[t]=void 0)}}const bs=/(?:Once|Passive|Capture)$/;function nd(e){let t;if(bs.test(e)){t={};let r;for(;r=e.match(bs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let ii=0;const rd=Promise.resolve(),id=()=>ii||(rd.then(()=>ii=0),ii=Date.now());function od(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;gt(sd(r,n.value),t,5,[r])};return n.value=e,n.attached=id(),n}function sd(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const ys=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ad=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Kf(e,r,s):t==="style"?Zf(e,n,r):Dr(t)?to(t)||td(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ud(e,t,r,s))?(ms(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ps(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!xe(r))?ms(e,Ke(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ps(e,t,r,s))};function ud(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ys(t)&&Q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ys(t)&&xe(n)?!1:t in e}const cd=Ne({patchProp:ad},Wf);let ws;function ld(){return ws||(ws=df(cd))}const fd=((...e)=>{const t=ld().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=hd(r);if(!i)return;const o=t._component;!Q(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,dd(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t});function dd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function hd(e){return xe(e)?document.querySelector(e):e}const{min:gd,max:pd}=Math,qt=(e,t=0,n=1)=>gd(pd(t,e),n),To=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=qt(e[t],0,255)):t===3&&(e[t]=qt(e[t],0,1));return e},mu={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])mu[`[object ${e}]`]=e.toLowerCase();function ne(e){return mu[Object.prototype.toString.call(e)]||"object"}const Z=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):ne(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0].slice(0),bn=e=>{if(e.length<2)return null;const t=e.length-1;return ne(e[t])=="string"?e[t].toLowerCase():null},{PI:Br,min:vu,max:bu}=Math,We=e=>Math.round(e*100)/100,ji=e=>Math.round(e*100)/100,Tt=Br*2,oi=Br/3,md=Br/180,vd=180/Br;function yu(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const X={format:{},autodetect:[]};class P{constructor(...t){const n=this;if(ne(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=bn(t),i=!1;if(!r){i=!0,X.sorted||(X.autodetect=X.autodetect.sort((o,s)=>s.p-o.p),X.sorted=!0);for(let o of X.autodetect)if(r=o.test(...t),r)break}if(X.format[r]){const o=X.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=To(o)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return ne(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const bd="3.1.2",J=(...e)=>new P(...e);J.version=bd;const hn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},yd=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,wd=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,wu=e=>{if(e.match(yd)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,r=t>>8&255,i=t&255;return[n,r,i,1]}if(e.match(wd)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,r=t>>16&255,i=t>>8&255,o=Math.round((t&255)/255*100)/100;return[n,r,i,o]}throw new Error(`unknown hex color: ${e}`)},{round:or}=Math,_u=(...e)=>{let[t,n,r,i]=Z(e,"rgba"),o=bn(e)||"auto";i===void 0&&(i=1),o==="auto"&&(o=i<1?"rgba":"rgb"),t=or(t),n=or(n),r=or(r);let a="000000"+(t<<16|n<<8|r).toString(16);a=a.substr(a.length-6);let u="0"+or(i*255).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};P.prototype.name=function(){const e=_u(this._rgb,"rgb");for(let t of Object.keys(hn))if(hn[t]===e)return t.toLowerCase();return e};X.format.named=e=>{if(e=e.toLowerCase(),hn[e])return wu(hn[e]);throw new Error("unknown color name: "+e)};X.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&ne(e)==="string"&&hn[e.toLowerCase()])return"named"}});P.prototype.alpha=function(e,t=!1){return e!==void 0&&ne(e)==="number"?t?(this._rgb[3]=e,this):new P([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};P.prototype.clipped=function(){return this._rgb._clipped||!1};const ht={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},_d=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function At(e){const t=_d.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);ht.labWhitePoint=e,ht.Xn=t[0],ht.Zn=t[1]}function Qn(){return ht.labWhitePoint}const Co=(...e)=>{e=Z(e,"lab");const[t,n,r]=e,[i,o,s]=Ed(t,n,r),[a,u,c]=Eu(i,o,s);return[a,u,c,e.length>3?e[3]:1]},Ed=(e,t,n)=>{const{kE:r,kK:i,kKE:o,Xn:s,Yn:a,Zn:u}=ht,c=(e+16)/116,l=.002*t+c,f=c-.005*n,d=l*l*l,h=f*f*f,v=d>r?d:(116*l-16)/i,y=e>o?Math.pow((e+16)/116,3):e/i,x=h>r?h:(116*f-16)/i,b=v*s,C=y*a,T=x*u;return[b,C,T]},si=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},Eu=(e,t,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:o,RefWhiteRGB:s,Xn:a,Yn:u,Zn:c}=ht,l=a*r.m00+u*r.m10+c*r.m20,f=a*r.m01+u*r.m11+c*r.m21,d=a*r.m02+u*r.m12+c*r.m22,h=s.X*r.m00+s.Y*r.m10+s.Z*r.m20,v=s.X*r.m01+s.Y*r.m11+s.Z*r.m21,y=s.X*r.m02+s.Y*r.m12+s.Z*r.m22,x=(e*r.m00+t*r.m10+n*r.m20)*(h/l),b=(e*r.m01+t*r.m11+n*r.m21)*(v/f),C=(e*r.m02+t*r.m12+n*r.m22)*(y/d),T=x*i.m00+b*i.m10+C*i.m20,g=x*i.m01+b*i.m11+C*i.m21,w=x*i.m02+b*i.m12+C*i.m22,E=si(T*o.m00+g*o.m10+w*o.m20),m=si(T*o.m01+g*o.m11+w*o.m21),S=si(T*o.m02+g*o.m12+w*o.m22);return[E*255,m*255,S*255]},So=(...e)=>{const[t,n,r,...i]=Z(e,"rgb"),[o,s,a]=xu(t,n,r),[u,c,l]=xd(o,s,a);return[u,c,l,...i.length>0&&i[0]<1?[i[0]]:[]]};function xd(e,t,n){const{Xn:r,Yn:i,Zn:o,kE:s,kK:a}=ht,u=e/r,c=t/i,l=n/o,f=u>s?Math.pow(u,1/3):(a*u+16)/116,d=c>s?Math.pow(c,1/3):(a*c+16)/116,h=l>s?Math.pow(l,1/3):(a*l+16)/116;return[116*d-16,500*(f-d),200*(d-h)]}function ai(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const xu=(e,t,n)=>{e=ai(e/255),t=ai(t/255),n=ai(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:o,Xn:s,Yn:a,Zn:u,As:c,Bs:l,Cs:f}=ht;let d=e*r.m00+t*r.m10+n*r.m20,h=e*r.m01+t*r.m11+n*r.m21,v=e*r.m02+t*r.m12+n*r.m22;const y=s*i.m00+a*i.m10+u*i.m20,x=s*i.m01+a*i.m11+u*i.m21,b=s*i.m02+a*i.m12+u*i.m22;let C=d*i.m00+h*i.m10+v*i.m20,T=d*i.m01+h*i.m11+v*i.m21,g=d*i.m02+h*i.m12+v*i.m22;return C*=y/c,T*=x/l,g*=b/f,d=C*o.m00+T*o.m10+g*o.m20,h=C*o.m01+T*o.m11+g*o.m21,v=C*o.m02+T*o.m12+g*o.m22,[d,h,v]};P.prototype.lab=function(){return So(this._rgb)};const Td=(...e)=>new P(...e,"lab");Object.assign(J,{lab:Td,getLabWhitePoint:Qn,setLabWhitePoint:At});X.format.lab=Co;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"lab"),ne(e)==="array"&&e.length===3)return"lab"}});P.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=ht.Kn*e,new P(n,"lab").alpha(t.alpha(),!0)};P.prototype.brighten=function(e=1){return this.darken(-e)};P.prototype.darker=P.prototype.darken;P.prototype.brighter=P.prototype.brighten;P.prototype.get=function(e){const[t,n]=e.split("."),r=this[t]();if(n){const i=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${n} in mode ${t}`)}else return r};const{pow:Cd}=Math,Sd=1e-7,Ad=20;P.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&ne(e)==="number"){if(e===0)return new P([0,0,0,this._rgb[3]],"rgb");if(e===1)return new P([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=Ad;const i=(s,a)=>{const u=s.interpolate(a,.5,t),c=u.luminance();return Math.abs(e-c)<Sd||!r--?u:c>e?i(s,u):i(u,a)},o=(n>e?i(new P([0,0,0]),this):i(this,new P([255,255,255]))).rgb();return new P([...o,this._rgb[3]])}return Rd(...this._rgb.slice(0,3))};const Rd=(e,t,n)=>(e=ui(e),t=ui(t),n=ui(n),.2126*e+.7152*t+.0722*n),ui=e=>(e/=255,e<=.03928?e/12.92:Cd((e+.055)/1.055,2.4)),ke={},gn=(e,t,n=.5,...r)=>{let i=r[0]||"lrgb";if(!ke[i]&&!r.length&&(i=Object.keys(ke)[0]),!ke[i])throw new Error(`interpolation mode ${i} is not defined`);return ne(e)!=="object"&&(e=new P(e)),ne(t)!=="object"&&(t=new P(t)),ke[i](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};P.prototype.mix=P.prototype.interpolate=function(e,t=.5,...n){return gn(this,e,t,...n)};P.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new P([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};const{sin:kd,cos:Ld}=Math,Tu=(...e)=>{let[t,n,r]=Z(e,"lch");return isNaN(r)&&(r=0),r=r*md,[t,Ld(r)*n,kd(r)*n]},Ao=(...e)=>{e=Z(e,"lch");const[t,n,r]=e,[i,o,s]=Tu(t,n,r),[a,u,c]=Co(i,o,s);return[a,u,c,e.length>3?e[3]:1]},Nd=(...e)=>{const t=yu(Z(e,"hcl"));return Ao(...t)},{sqrt:Dd,atan2:Gd,round:Pd}=Math,Cu=(...e)=>{const[t,n,r]=Z(e,"lab"),i=Dd(n*n+r*r);let o=(Gd(r,n)*vd+360)%360;return Pd(i*1e4)===0&&(o=Number.NaN),[t,i,o]},Ro=(...e)=>{const[t,n,r,...i]=Z(e,"rgb"),[o,s,a]=So(t,n,r),[u,c,l]=Cu(o,s,a);return[u,c,l,...i.length>0&&i[0]<1?[i[0]]:[]]};P.prototype.lch=function(){return Ro(this._rgb)};P.prototype.hcl=function(){return yu(Ro(this._rgb))};const Md=(...e)=>new P(...e,"lch"),Fd=(...e)=>new P(...e,"hcl");Object.assign(J,{lch:Md,hcl:Fd});X.format.lch=Ao;X.format.hcl=Nd;["lch","hcl"].forEach(e=>X.autodetect.push({p:2,test:(...t)=>{if(t=Z(t,e),ne(t)==="array"&&t.length===3)return e}}));P.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=ht.Kn*e,n[1]<0&&(n[1]=0),new P(n,"lch").alpha(t.alpha(),!0)};P.prototype.desaturate=function(e=1){return this.saturate(-e)};P.prototype.set=function(e,t,n=!1){const[r,i]=e.split("."),o=this[r]();if(i){const s=r.indexOf(i)-(r.substr(0,2)==="ok"?2:0);if(s>-1){if(ne(t)=="string")switch(t.charAt(0)){case"+":o[s]+=+t;break;case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else if(ne(t)==="number")o[s]=t;else throw new Error("unsupported value for Color.set");const a=new P(o,r);return n?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${i} in mode ${r}`)}else return o};P.prototype.tint=function(e=.5,...t){return gn(this,"white",e,...t)};P.prototype.shade=function(e=.5,...t){return gn(this,"black",e,...t)};const Od=(e,t,n)=>{const r=e._rgb,i=t._rgb;return new P(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};ke.rgb=Od;const{sqrt:ci,pow:tn}=Math,Id=(e,t,n)=>{const[r,i,o]=e._rgb,[s,a,u]=t._rgb;return new P(ci(tn(r,2)*(1-n)+tn(s,2)*n),ci(tn(i,2)*(1-n)+tn(a,2)*n),ci(tn(o,2)*(1-n)+tn(u,2)*n),"rgb")};ke.lrgb=Id;const $d=(e,t,n)=>{const r=e.lab(),i=t.lab();return new P(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};ke.lab=$d;const yn=(e,t,n,r)=>{let i,o;r==="hsl"?(i=e.hsl(),o=t.hsl()):r==="hsv"?(i=e.hsv(),o=t.hsv()):r==="hcg"?(i=e.hcg(),o=t.hcg()):r==="hsi"?(i=e.hsi(),o=t.hsi()):r==="lch"||r==="hcl"?(r="hcl",i=e.hcl(),o=t.hcl()):r==="oklch"&&(i=e.oklch().reverse(),o=t.oklch().reverse());let s,a,u,c,l,f;(r.substr(0,1)==="h"||r==="oklch")&&([s,u,l]=i,[a,c,f]=o);let d,h,v,y;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?y=a-(s+360):a<s&&s-a>180?y=a+360-s:y=a-s,h=s+n*y):isNaN(s)?isNaN(a)?h=Number.NaN:(h=a,(l==1||l==0)&&r!="hsv"&&(d=c)):(h=s,(f==1||f==0)&&r!="hsv"&&(d=u)),d===void 0&&(d=u+n*(c-u)),v=l+n*(f-l),r==="oklch"?new P([v,d,h],r):new P([h,d,v],r)},Su=(e,t,n)=>yn(e,t,n,"lch");ke.lch=Su;ke.hcl=Su;const zd=e=>{if(ne(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}throw new Error("unknown num color: "+e)},Ud=(...e)=>{const[t,n,r]=Z(e,"rgb");return(t<<16)+(n<<8)+r};P.prototype.num=function(){return Ud(this._rgb)};const Bd=(...e)=>new P(...e,"num");Object.assign(J,{num:Bd});X.format.num=zd;X.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&ne(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const Hd=(e,t,n)=>{const r=e.num(),i=t.num();return new P(r+n*(i-r),"num")};ke.num=Hd;const{floor:jd}=Math,Wd=(...e)=>{e=Z(e,"hcg");let[t,n,r]=e,i,o,s;r=r*255;const a=n*255;if(n===0)i=o=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const u=jd(t),c=t-u,l=r*(1-n),f=l+a*(1-c),d=l+a*c,h=l+a;switch(u){case 0:[i,o,s]=[h,d,l];break;case 1:[i,o,s]=[f,h,l];break;case 2:[i,o,s]=[l,h,d];break;case 3:[i,o,s]=[l,f,h];break;case 4:[i,o,s]=[d,l,h];break;case 5:[i,o,s]=[h,l,f];break}}return[i,o,s,e.length>3?e[3]:1]},Vd=(...e)=>{const[t,n,r]=Z(e,"rgb"),i=vu(t,n,r),o=bu(t,n,r),s=o-i,a=s*100/255,u=i/(255-s)*100;let c;return s===0?c=Number.NaN:(t===o&&(c=(n-r)/s),n===o&&(c=2+(r-t)/s),r===o&&(c=4+(t-n)/s),c*=60,c<0&&(c+=360)),[c,a,u]};P.prototype.hcg=function(){return Vd(this._rgb)};const Kd=(...e)=>new P(...e,"hcg");J.hcg=Kd;X.format.hcg=Wd;X.autodetect.push({p:1,test:(...e)=>{if(e=Z(e,"hcg"),ne(e)==="array"&&e.length===3)return"hcg"}});const Yd=(e,t,n)=>yn(e,t,n,"hcg");ke.hcg=Yd;const{cos:nn}=Math,qd=(...e)=>{e=Z(e,"hsi");let[t,n,r]=e,i,o,s;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-n)/3,i=(1+n*nn(Tt*t)/nn(oi-Tt*t))/3,o=1-(s+i)):t<2/3?(t-=1/3,i=(1-n)/3,o=(1+n*nn(Tt*t)/nn(oi-Tt*t))/3,s=1-(i+o)):(t-=2/3,o=(1-n)/3,s=(1+n*nn(Tt*t)/nn(oi-Tt*t))/3,i=1-(o+s)),i=qt(r*i*3),o=qt(r*o*3),s=qt(r*s*3),[i*255,o*255,s*255,e.length>3?e[3]:1]},{min:Xd,sqrt:Zd,acos:Jd}=Math,Qd=(...e)=>{let[t,n,r]=Z(e,"rgb");t/=255,n/=255,r/=255;let i;const o=Xd(t,n,r),s=(t+n+r)/3,a=s>0?1-o/s:0;return a===0?i=NaN:(i=(t-n+(t-r))/2,i/=Zd((t-n)*(t-n)+(t-r)*(n-r)),i=Jd(i),r>n&&(i=Tt-i),i/=Tt),[i*360,a,s]};P.prototype.hsi=function(){return Qd(this._rgb)};const eh=(...e)=>new P(...e,"hsi");J.hsi=eh;X.format.hsi=qd;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"hsi"),ne(e)==="array"&&e.length===3)return"hsi"}});const th=(e,t,n)=>yn(e,t,n,"hsi");ke.hsi=th;const Wi=(...e)=>{e=Z(e,"hsl");const[t,n,r]=e;let i,o,s;if(n===0)i=o=s=r*255;else{const a=[0,0,0],u=[0,0,0],c=r<.5?r*(1+n):r+n-r*n,l=2*r-c,f=t/360;a[0]=f+1/3,a[1]=f,a[2]=f-1/3;for(let d=0;d<3;d++)a[d]<0&&(a[d]+=1),a[d]>1&&(a[d]-=1),6*a[d]<1?u[d]=l+(c-l)*6*a[d]:2*a[d]<1?u[d]=c:3*a[d]<2?u[d]=l+(c-l)*(2/3-a[d])*6:u[d]=l;[i,o,s]=[u[0]*255,u[1]*255,u[2]*255]}return e.length>3?[i,o,s,e[3]]:[i,o,s,1]},Au=(...e)=>{e=Z(e,"rgba");let[t,n,r]=e;t/=255,n/=255,r/=255;const i=vu(t,n,r),o=bu(t,n,r),s=(o+i)/2;let a,u;return o===i?(a=0,u=Number.NaN):a=s<.5?(o-i)/(o+i):(o-i)/(2-o-i),t==o?u=(n-r)/(o-i):n==o?u=2+(r-t)/(o-i):r==o&&(u=4+(t-n)/(o-i)),u*=60,u<0&&(u+=360),e.length>3&&e[3]!==void 0?[u,a,s,e[3]]:[u,a,s]};P.prototype.hsl=function(){return Au(this._rgb)};const nh=(...e)=>new P(...e,"hsl");J.hsl=nh;X.format.hsl=Wi;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"hsl"),ne(e)==="array"&&e.length===3)return"hsl"}});const rh=(e,t,n)=>yn(e,t,n,"hsl");ke.hsl=rh;const{floor:ih}=Math,oh=(...e)=>{e=Z(e,"hsv");let[t,n,r]=e,i,o,s;if(r*=255,n===0)i=o=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const a=ih(t),u=t-a,c=r*(1-n),l=r*(1-n*u),f=r*(1-n*(1-u));switch(a){case 0:[i,o,s]=[r,f,c];break;case 1:[i,o,s]=[l,r,c];break;case 2:[i,o,s]=[c,r,f];break;case 3:[i,o,s]=[c,l,r];break;case 4:[i,o,s]=[f,c,r];break;case 5:[i,o,s]=[r,c,l];break}}return[i,o,s,e.length>3?e[3]:1]},{min:sh,max:ah}=Math,uh=(...e)=>{e=Z(e,"rgb");let[t,n,r]=e;const i=sh(t,n,r),o=ah(t,n,r),s=o-i;let a,u,c;return c=o/255,o===0?(a=Number.NaN,u=0):(u=s/o,t===o&&(a=(n-r)/s),n===o&&(a=2+(r-t)/s),r===o&&(a=4+(t-n)/s),a*=60,a<0&&(a+=360)),[a,u,c]};P.prototype.hsv=function(){return uh(this._rgb)};const ch=(...e)=>new P(...e,"hsv");J.hsv=ch;X.format.hsv=oh;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"hsv"),ne(e)==="array"&&e.length===3)return"hsv"}});const lh=(e,t,n)=>yn(e,t,n,"hsv");ke.hsv=lh;function Ar(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let r=t[0].length,i=t[0].map((s,a)=>t.map(u=>u[a])),o=e.map(s=>i.map(a=>Array.isArray(s)?s.reduce((u,c,l)=>u+c*(a[l]||0),0):a.reduce((u,c)=>u+c*s,0)));return n===1&&(o=o[0]),r===1?o.map(s=>s[0]):o}const ko=(...e)=>{e=Z(e,"lab");const[t,n,r,...i]=e,[o,s,a]=fh([t,n,r]),[u,c,l]=Eu(o,s,a);return[u,c,l,...i.length>0&&i[0]<1?[i[0]]:[]]};function fh(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=Ar(n,e);return Ar(t,r.map(i=>i**3))}const Lo=(...e)=>{const[t,n,r,...i]=Z(e,"rgb"),o=xu(t,n,r);return[...dh(o),...i.length>0&&i[0]<1?[i[0]]:[]]};function dh(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=Ar(t,e);return Ar(n,r.map(i=>Math.cbrt(i)))}P.prototype.oklab=function(){return Lo(this._rgb)};const hh=(...e)=>new P(...e,"oklab");Object.assign(J,{oklab:hh});X.format.oklab=ko;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"oklab"),ne(e)==="array"&&e.length===3)return"oklab"}});const gh=(e,t,n)=>{const r=e.oklab(),i=t.oklab();return new P(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};ke.oklab=gh;const ph=(e,t,n)=>yn(e,t,n,"oklch");ke.oklch=ph;const{pow:li,sqrt:fi,PI:di,cos:_s,sin:Es,atan2:mh}=Math,vh=(e,t="lrgb",n=null)=>{const r=e.length;n||(n=Array.from(new Array(r)).map(()=>1));const i=r/n.reduce(function(f,d){return f+d});if(n.forEach((f,d)=>{n[d]*=i}),e=e.map(f=>new P(f)),t==="lrgb")return bh(e,n);const o=e.shift(),s=o.get(t),a=[];let u=0,c=0;for(let f=0;f<s.length;f++)if(s[f]=(s[f]||0)*n[0],a.push(isNaN(s[f])?0:n[0]),t.charAt(f)==="h"&&!isNaN(s[f])){const d=s[f]/180*di;u+=_s(d)*n[0],c+=Es(d)*n[0]}let l=o.alpha()*n[0];e.forEach((f,d)=>{const h=f.get(t);l+=f.alpha()*n[d+1];for(let v=0;v<s.length;v++)if(!isNaN(h[v]))if(a[v]+=n[d+1],t.charAt(v)==="h"){const y=h[v]/180*di;u+=_s(y)*n[d+1],c+=Es(y)*n[d+1]}else s[v]+=h[v]*n[d+1]});for(let f=0;f<s.length;f++)if(t.charAt(f)==="h"){let d=mh(c/a[f],u/a[f])/di*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;s[f]=d}else s[f]=s[f]/a[f];return l/=r,new P(s,t).alpha(l>.99999?1:l,!0)},bh=(e,t)=>{const n=e.length,r=[0,0,0,0];for(let i=0;i<e.length;i++){const o=e[i],s=t[i]/n,a=o._rgb;r[0]+=li(a[0],2)*s,r[1]+=li(a[1],2)*s,r[2]+=li(a[2],2)*s,r[3]+=a[3]*s}return r[0]=fi(r[0]),r[1]=fi(r[1]),r[2]=fi(r[2]),r[3]>.9999999&&(r[3]=1),new P(To(r))},{pow:yh}=Math;function Rr(e){let t="rgb",n=J("#ccc"),r=0,i=[0,1],o=[],s=[0,0],a=!1,u=[],c=!1,l=0,f=1,d=!1,h={},v=!0,y=1;const x=function(m){if(m=m||["#fff","#000"],m&&ne(m)==="string"&&J.brewer&&J.brewer[m.toLowerCase()]&&(m=J.brewer[m.toLowerCase()]),ne(m)==="array"){m.length===1&&(m=[m[0],m[0]]),m=m.slice(0);for(let S=0;S<m.length;S++)m[S]=J(m[S]);o.length=0;for(let S=0;S<m.length;S++)o.push(S/(m.length-1))}return w(),u=m},b=function(m){if(a!=null){const S=a.length-1;let k=0;for(;k<S&&m>=a[k];)k++;return k-1}return 0};let C=m=>m,T=m=>m;const g=function(m,S){let k,R;if(S==null&&(S=!1),isNaN(m)||m===null)return n;S?R=m:a&&a.length>2?R=b(m)/(a.length-2):f!==l?R=(m-l)/(f-l):R=1,R=T(R),S||(R=C(R)),y!==1&&(R=yh(R,y)),R=s[0]+R*(1-s[0]-s[1]),R=qt(R,0,1);const O=Math.floor(R*1e4);if(v&&h[O])k=h[O];else{if(ne(u)==="array")for(let $=0;$<o.length;$++){const W=o[$];if(R<=W){k=u[$];break}if(R>=W&&$===o.length-1){k=u[$];break}if(R>W&&R<o[$+1]){R=(R-W)/(o[$+1]-W),k=J.interpolate(u[$],u[$+1],R,t);break}}else ne(u)==="function"&&(k=u(R));v&&(h[O]=k)}return k};var w=()=>h={};x(e);const E=function(m){const S=J(g(m));return c&&S[c]?S[c]():S};return E.classes=function(m){if(m!=null){if(ne(m)==="array")a=m,i=[m[0],m[m.length-1]];else{const S=J.analyze(i);m===0?a=[S.min,S.max]:a=J.limits(S,"e",m)}return E}return a},E.domain=function(m){if(!arguments.length)return i;l=m[0],f=m[m.length-1],o=[];const S=u.length;if(m.length===S&&l!==f)for(let k of Array.from(m))o.push((k-l)/(f-l));else{for(let k=0;k<S;k++)o.push(k/(S-1));if(m.length>2){const k=m.map((O,$)=>$/(m.length-1)),R=m.map(O=>(O-l)/(f-l));R.every((O,$)=>k[$]===O)||(T=O=>{if(O<=0||O>=1)return O;let $=0;for(;O>=R[$+1];)$++;const W=(O-R[$])/(R[$+1]-R[$]);return k[$]+W*(k[$+1]-k[$])})}}return i=[l,f],E},E.mode=function(m){return arguments.length?(t=m,w(),E):t},E.range=function(m,S){return x(m),E},E.out=function(m){return c=m,E},E.spread=function(m){return arguments.length?(r=m,E):r},E.correctLightness=function(m){return m==null&&(m=!0),d=m,w(),d?C=function(S){const k=g(0,!0).lab()[0],R=g(1,!0).lab()[0],O=k>R;let $=g(S,!0).lab()[0];const W=k+(R-k)*S;let ie=$-W,fe=0,re=1,oe=20;for(;Math.abs(ie)>.01&&oe-- >0;)(function(){return O&&(ie*=-1),ie<0?(fe=S,S+=(re-S)*.5):(re=S,S+=(fe-S)*.5),$=g(S,!0).lab()[0],ie=$-W})();return S}:C=S=>S,E},E.padding=function(m){return m!=null?(ne(m)==="number"&&(m=[m,m]),s=m,E):s},E.colors=function(m,S){arguments.length<2&&(S="hex");let k=[];if(arguments.length===0)k=u.slice(0);else if(m===1)k=[E(.5)];else if(m>1){const R=i[0],O=i[1]-R;k=wh(0,m).map($=>E(R+$/(m-1)*O))}else{e=[];let R=[];if(a&&a.length>2)for(let O=1,$=a.length,W=1<=$;W?O<$:O>$;W?O++:O--)R.push((a[O-1]+a[O])*.5);else R=i;k=R.map(O=>E(O))}return J[S]&&(k=k.map(R=>R[S]())),k},E.cache=function(m){return m!=null?(v=m,E):v},E.gamma=function(m){return m!=null?(y=m,E):y},E.nodata=function(m){return m!=null?(n=J(m),E):n},E}function wh(e,t,n){let r=[],i=e<t,o=t;for(let s=e;i?s<o:s>o;i?s++:s--)r.push(s);return r}const _h=function(e){let t=[1,1];for(let n=1;n<e;n++){let r=[1];for(let i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},Eh=function(e){let t,n,r,i;if(e=e.map(o=>new P(o)),e.length===2)[n,r]=e.map(o=>o.lab()),t=function(o){const s=[0,1,2].map(a=>n[a]+o*(r[a]-n[a]));return new P(s,"lab")};else if(e.length===3)[n,r,i]=e.map(o=>o.lab()),t=function(o){const s=[0,1,2].map(a=>(1-o)*(1-o)*n[a]+2*(1-o)*o*r[a]+o*o*i[a]);return new P(s,"lab")};else if(e.length===4){let o;[n,r,i,o]=e.map(s=>s.lab()),t=function(s){const a=[0,1,2].map(u=>(1-s)*(1-s)*(1-s)*n[u]+3*(1-s)*(1-s)*s*r[u]+3*(1-s)*s*s*i[u]+s*s*s*o[u]);return new P(a,"lab")}}else if(e.length>=5){let o,s,a;o=e.map(u=>u.lab()),a=e.length-1,s=_h(a),t=function(u){const c=1-u,l=[0,1,2].map(f=>o.reduce((d,h,v)=>d+s[v]*c**(a-v)*u**v*h[f],0));return new P(l,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},xh=e=>{const t=Eh(e);return t.scale=()=>Rr(t),t},{round:Ru}=Math;P.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ru)};P.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:Ru(t):t)};const Th=(...e)=>new P(...e,"rgb");Object.assign(J,{rgb:Th});X.format.rgb=(...e)=>{const t=Z(e,"rgba");return t[3]===void 0&&(t[3]=1),t};X.autodetect.push({p:3,test:(...e)=>{if(e=Z(e,"rgba"),ne(e)==="array"&&(e.length===3||e.length===4&&ne(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const it=(e,t,n)=>{if(!it[n])throw new Error("unknown blend mode "+n);return it[n](e,t)},Ut=e=>(t,n)=>{const r=J(n).rgb(),i=J(t).rgb();return J.rgb(e(r,i))},Bt=e=>(t,n)=>{const r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r},Ch=e=>e,Sh=(e,t)=>e*t/255,Ah=(e,t)=>e>t?t:e,Rh=(e,t)=>e>t?e:t,kh=(e,t)=>255*(1-(1-e/255)*(1-t/255)),Lh=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),Nh=(e,t)=>255*(1-(1-t/255)/(e/255)),Dh=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);it.normal=Ut(Bt(Ch));it.multiply=Ut(Bt(Sh));it.screen=Ut(Bt(kh));it.overlay=Ut(Bt(Lh));it.darken=Ut(Bt(Ah));it.lighten=Ut(Bt(Rh));it.dodge=Ut(Bt(Dh));it.burn=Ut(Bt(Nh));const{pow:Gh,sin:Ph,cos:Mh}=Math;function Fh(e=300,t=-1.5,n=1,r=1,i=[0,1]){let o=0,s;ne(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const a=function(u){const c=Tt*((e+120)/360+t*u),l=Gh(i[0]+s*u,r),d=(o!==0?n[0]+u*o:n)*l*(1-l)/2,h=Mh(c),v=Ph(c),y=l+d*(-.14861*h+1.78277*v),x=l+d*(-.29227*h-.90649*v),b=l+d*(1.97294*h);return J(To([y*255,x*255,b*255,1]))};return a.start=function(u){return u==null?e:(e=u,a)},a.rotations=function(u){return u==null?t:(t=u,a)},a.gamma=function(u){return u==null?r:(r=u,a)},a.hue=function(u){return u==null?n:(n=u,ne(n)==="array"?(o=n[1]-n[0],o===0&&(n=n[1])):o=0,a)},a.lightness=function(u){return u==null?i:(ne(u)==="array"?(i=u,s=u[1]-u[0]):(i=[u,u],s=0),a)},a.scale=()=>J.scale(a),a.hue(n),a}const Oh="0123456789abcdef",{floor:Ih,random:$h}=Math,zh=()=>{let e="#";for(let t=0;t<6;t++)e+=Oh.charAt(Ih($h()*16));return new P(e,"hex")},{log:xs,pow:Uh,floor:Bh,abs:Hh}=Math;function ku(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ne(e)==="object"&&(e=Object.values(e)),e.forEach(r=>{t&&ne(r)==="object"&&(r=r[t]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,i)=>Lu(n,r,i),n}function Lu(e,t="equal",n=7){ne(e)=="array"&&(e=ku(e));const{min:r,max:i}=e,o=e.values.sort((a,u)=>a-u);if(n===1)return[r,i];const s=[];if(t.substr(0,1)==="c"&&(s.push(r),s.push(i)),t.substr(0,1)==="e"){s.push(r);for(let a=1;a<n;a++)s.push(r+a/n*(i-r));s.push(i)}else if(t.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*xs(r),u=Math.LOG10E*xs(i);s.push(r);for(let c=1;c<n;c++)s.push(Uh(10,a+c/n*(u-a)));s.push(i)}else if(t.substr(0,1)==="q"){s.push(r);for(let a=1;a<n;a++){const u=(o.length-1)*a/n,c=Bh(u);if(c===u)s.push(o[c]);else{const l=u-c;s.push(o[c]*(1-l)+o[c+1]*l)}}s.push(i)}else if(t.substr(0,1)==="k"){let a;const u=o.length,c=new Array(u),l=new Array(n);let f=!0,d=0,h=null;h=[],h.push(r);for(let x=1;x<n;x++)h.push(r+x/n*(i-r));for(h.push(i);f;){for(let b=0;b<n;b++)l[b]=0;for(let b=0;b<u;b++){const C=o[b];let T=Number.MAX_VALUE,g;for(let w=0;w<n;w++){const E=Hh(h[w]-C);E<T&&(T=E,g=w),l[g]++,c[b]=g}}const x=new Array(n);for(let b=0;b<n;b++)x[b]=null;for(let b=0;b<u;b++)a=c[b],x[a]===null?x[a]=o[b]:x[a]+=o[b];for(let b=0;b<n;b++)x[b]*=1/l[b];f=!1;for(let b=0;b<n;b++)if(x[b]!==h[b]){f=!0;break}h=x,d++,d>200&&(f=!1)}const v={};for(let x=0;x<n;x++)v[x]=[];for(let x=0;x<u;x++)a=c[x],v[a].push(o[x]);let y=[];for(let x=0;x<n;x++)y.push(v[x][0]),y.push(v[x][v[x].length-1]);y=y.sort((x,b)=>x-b),s.push(y[0]);for(let x=1;x<y.length;x+=2){const b=y[x];!isNaN(b)&&s.indexOf(b)===-1&&s.push(b)}}return s}const jh=(e,t)=>{e=new P(e),t=new P(t);const n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const Ts=.027,Wh=5e-4,Vh=.1,Cs=1.14,sr=.022,Ss=1.414,Kh=(e,t)=>{e=new P(e),t=new P(t),e.alpha()<1&&(e=gn(t,e,e.alpha(),"rgb"));const n=As(...e.rgb()),r=As(...t.rgb()),i=n>=sr?n:n+Math.pow(sr-n,Ss),o=r>=sr?r:r+Math.pow(sr-r,Ss),s=Math.pow(o,.56)-Math.pow(i,.57),a=Math.pow(o,.65)-Math.pow(i,.62),u=Math.abs(o-i)<Wh?0:i<o?s*Cs:a*Cs;return(Math.abs(u)<Vh?0:u>0?u-Ts:u+Ts)*100};function As(e,t,n){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:wt,pow:ye,min:Yh,max:qh,atan2:Rs,abs:ks,cos:ar,sin:Ls,exp:Xh,PI:Ns}=Math;function Zh(e,t,n=1,r=1,i=1){var o=function(be){return 360*be/(2*Ns)},s=function(be){return 2*Ns*be/360};e=new P(e),t=new P(t);const[a,u,c]=Array.from(e.lab()),[l,f,d]=Array.from(t.lab()),h=(a+l)/2,v=wt(ye(u,2)+ye(c,2)),y=wt(ye(f,2)+ye(d,2)),x=(v+y)/2,b=.5*(1-wt(ye(x,7)/(ye(x,7)+ye(25,7)))),C=u*(1+b),T=f*(1+b),g=wt(ye(C,2)+ye(c,2)),w=wt(ye(T,2)+ye(d,2)),E=(g+w)/2,m=o(Rs(c,C)),S=o(Rs(d,T)),k=m>=0?m:m+360,R=S>=0?S:S+360,O=ks(k-R)>180?(k+R+360)/2:(k+R)/2,$=1-.17*ar(s(O-30))+.24*ar(s(2*O))+.32*ar(s(3*O+6))-.2*ar(s(4*O-63));let W=R-k;W=ks(W)<=180?W:R<=k?W+360:W-360,W=2*wt(g*w)*Ls(s(W)/2);const ie=l-a,fe=w-g,re=1+.015*ye(h-50,2)/wt(20+ye(h-50,2)),oe=1+.045*E,te=1+.015*E*$,ve=30*Xh(-ye((O-275)/25,2)),pe=-(2*wt(ye(E,7)/(ye(E,7)+ye(25,7))))*Ls(2*s(ve)),me=wt(ye(ie/(n*re),2)+ye(fe/(r*oe),2)+ye(W/(i*te),2)+pe*(fe/(r*oe))*(W/(i*te)));return qh(0,Yh(100,me))}function Jh(e,t,n="lab"){e=new P(e),t=new P(t);const r=e.get(n),i=t.get(n);let o=0;for(let s in r){const a=(r[s]||0)-(i[s]||0);o+=a*a}return Math.sqrt(o)}const Qh=(...e)=>{try{return new P(...e),!0}catch{return!1}},eg={cool(){return Rr([J.hsl(180,1,.9),J.hsl(250,.7,.4)])},hot(){return Rr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Vi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Nu=Object.keys(Vi),Ds=new Map(Nu.map(e=>[e.toLowerCase(),e])),tg=typeof Proxy=="function"?new Proxy(Vi,{get(e,t){const n=t.toLowerCase();if(Ds.has(n))return e[Ds.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Nu)}}):Vi,ng=(...e)=>{e=Z(e,"cmyk");const[t,n,r,i]=e,o=e.length>4?e[4]:1;return i===1?[0,0,0,o]:[t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o]},{max:Gs}=Math,rg=(...e)=>{let[t,n,r]=Z(e,"rgb");t=t/255,n=n/255,r=r/255;const i=1-Gs(t,Gs(n,r)),o=i<1?1/(1-i):0,s=(1-t-i)*o,a=(1-n-i)*o,u=(1-r-i)*o;return[s,a,u,i]};P.prototype.cmyk=function(){return rg(this._rgb)};const ig=(...e)=>new P(...e,"cmyk");Object.assign(J,{cmyk:ig});X.format.cmyk=ng;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"cmyk"),ne(e)==="array"&&e.length===4)return"cmyk"}});const og=(...e)=>{const t=Z(e,"hsla");let n=bn(e)||"lsa";return t[0]=We(t[0]||0)+"deg",t[1]=We(t[1]*100)+"%",t[2]=We(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),n="hsla"):t.length=3,`${n.substr(0,3)}(${t.join(" ")})`},sg=(...e)=>{const t=Z(e,"lab");let n=bn(e)||"lab";return t[0]=We(t[0])+"%",t[1]=We(t[1]),t[2]=We(t[2]),n==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},ag=(...e)=>{const t=Z(e,"lch");let n=bn(e)||"lab";return t[0]=We(t[0])+"%",t[1]=We(t[1]),t[2]=isNaN(t[2])?"none":We(t[2])+"deg",n==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},ug=(...e)=>{const t=Z(e,"lab");return t[0]=We(t[0]*100)+"%",t[1]=ji(t[1]),t[2]=ji(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},Du=(...e)=>{const[t,n,r,...i]=Z(e,"rgb"),[o,s,a]=Lo(t,n,r),[u,c,l]=Cu(o,s,a);return[u,c,l,...i.length>0&&i[0]<1?[i[0]]:[]]},cg=(...e)=>{const t=Z(e,"lch");return t[0]=We(t[0]*100)+"%",t[1]=ji(t[1]),t[2]=isNaN(t[2])?"none":We(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:hi}=Math,lg=(...e)=>{const t=Z(e,"rgba");let n=bn(e)||"rgb";if(n.substr(0,3)==="hsl")return og(Au(t),n);if(n.substr(0,3)==="lab"){const r=Qn();At("d50");const i=sg(So(t),n);return At(r),i}if(n.substr(0,3)==="lch"){const r=Qn();At("d50");const i=ag(Ro(t),n);return At(r),i}return n.substr(0,5)==="oklab"?ug(Lo(t)):n.substr(0,5)==="oklch"?cg(Du(t)):(t[0]=hi(t[0]),t[1]=hi(t[1]),t[2]=hi(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),n="rgba"),`${n.substr(0,3)}(${t.slice(0,n==="rgb"?3:4).join(" ")})`)},Gu=(...e)=>{e=Z(e,"lch");const[t,n,r,...i]=e,[o,s,a]=Tu(t,n,r),[u,c,l]=ko(o,s,a);return[u,c,l,...i.length>0&&i[0]<1?[i[0]]:[]]},Rt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,rt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,kr=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Ye=/\s*/.source,wn=/\s+/.source,No=/\s*,\s*/.source,Hr=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,_n=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Pu=new RegExp("^rgba?\\("+Ye+[Rt,Rt,Rt].join(wn)+_n+"\\)$"),Mu=new RegExp("^rgb\\("+Ye+[Rt,Rt,Rt].join(No)+Ye+"\\)$"),Fu=new RegExp("^rgba\\("+Ye+[Rt,Rt,Rt,rt].join(No)+Ye+"\\)$"),Ou=new RegExp("^hsla?\\("+Ye+[Hr,kr,kr].join(wn)+_n+"\\)$"),Iu=new RegExp("^hsl?\\("+Ye+[Hr,kr,kr].join(No)+Ye+"\\)$"),$u=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,zu=new RegExp("^lab\\("+Ye+[rt,rt,rt].join(wn)+_n+"\\)$"),Uu=new RegExp("^lch\\("+Ye+[rt,rt,Hr].join(wn)+_n+"\\)$"),Bu=new RegExp("^oklab\\("+Ye+[rt,rt,rt].join(wn)+_n+"\\)$"),Hu=new RegExp("^oklch\\("+Ye+[rt,rt,Hr].join(wn)+_n+"\\)$"),{round:ju}=Math,rn=e=>e.map((t,n)=>n<=2?qt(ju(t),0,255):t),we=(e,t=0,n=100,r=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,r?e=t+(e+1)*.5*(n-t):e=t+e*(n-t)),+e),Pe=(e,t)=>e==="none"?t:e,Do=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(X.format.named)try{return X.format.named(e)}catch{}if((t=e.match(Pu))||(t=e.match(Mu))){let n=t.slice(1,4);for(let i=0;i<3;i++)n[i]=+we(Pe(n[i],0),0,255);n=rn(n);const r=t[4]!==void 0?+we(t[4],0,1):1;return n[3]=r,n}if(t=e.match(Fu)){const n=t.slice(1,5);for(let r=0;r<4;r++)n[r]=+we(n[r],0,255);return n}if((t=e.match(Ou))||(t=e.match(Iu))){const n=t.slice(1,4);n[0]=+Pe(n[0].replace("deg",""),0),n[1]=+we(Pe(n[1],0),0,100)*.01,n[2]=+we(Pe(n[2],0),0,100)*.01;const r=rn(Wi(n)),i=t[4]!==void 0?+we(t[4],0,1):1;return r[3]=i,r}if(t=e.match($u)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Wi(n);for(let i=0;i<3;i++)r[i]=ju(r[i]);return r[3]=+t[4],r}if(t=e.match(zu)){const n=t.slice(1,4);n[0]=we(Pe(n[0],0),0,100),n[1]=we(Pe(n[1],0),-125,125,!0),n[2]=we(Pe(n[2],0),-125,125,!0);const r=Qn();At("d50");const i=rn(Co(n));At(r);const o=t[4]!==void 0?+we(t[4],0,1):1;return i[3]=o,i}if(t=e.match(Uu)){const n=t.slice(1,4);n[0]=we(n[0],0,100),n[1]=we(Pe(n[1],0),0,150,!1),n[2]=+Pe(n[2].replace("deg",""),0);const r=Qn();At("d50");const i=rn(Ao(n));At(r);const o=t[4]!==void 0?+we(t[4],0,1):1;return i[3]=o,i}if(t=e.match(Bu)){const n=t.slice(1,4);n[0]=we(Pe(n[0],0),0,1),n[1]=we(Pe(n[1],0),-.4,.4,!0),n[2]=we(Pe(n[2],0),-.4,.4,!0);const r=rn(ko(n)),i=t[4]!==void 0?+we(t[4],0,1):1;return r[3]=i,r}if(t=e.match(Hu)){const n=t.slice(1,4);n[0]=we(Pe(n[0],0),0,1),n[1]=we(Pe(n[1],0),0,.4,!1),n[2]=+Pe(n[2].replace("deg",""),0);const r=rn(Gu(n)),i=t[4]!==void 0?+we(t[4],0,1):1;return r[3]=i,r}};Do.test=e=>Pu.test(e)||Ou.test(e)||zu.test(e)||Uu.test(e)||Bu.test(e)||Hu.test(e)||Mu.test(e)||Fu.test(e)||Iu.test(e)||$u.test(e)||e==="transparent";P.prototype.css=function(e){return lg(this._rgb,e)};const fg=(...e)=>new P(...e,"css");J.css=fg;X.format.css=Do;X.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&ne(e)==="string"&&Do.test(e))return"css"}});X.format.gl=(...e)=>{const t=Z(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const dg=(...e)=>new P(...e,"gl");J.gl=dg;P.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};P.prototype.hex=function(e){return _u(this._rgb,e)};const hg=(...e)=>new P(...e,"hex");J.hex=hg;X.format.hex=wu;X.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&ne(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:ur}=Math,Wu=e=>{const t=e/100;let n,r,i;return t<66?(n=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*ur(r),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*ur(i)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*ur(n),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*ur(r),i=255),[n,r,i,1]},{round:gg}=Math,pg=(...e)=>{const t=Z(e,"rgb"),n=t[0],r=t[2];let i=1e3,o=4e4;const s=.4;let a;for(;o-i>s;){a=(o+i)*.5;const u=Wu(a);u[2]/u[0]>=r/n?o=a:i=a}return gg(a)};P.prototype.temp=P.prototype.kelvin=P.prototype.temperature=function(){return pg(this._rgb)};const gi=(...e)=>new P(...e,"temp");Object.assign(J,{temp:gi,kelvin:gi,temperature:gi});X.format.temp=X.format.kelvin=X.format.temperature=Wu;P.prototype.oklch=function(){return Du(this._rgb)};const mg=(...e)=>new P(...e,"oklch");Object.assign(J,{oklch:mg});X.format.oklch=Gu;X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,"oklch"),ne(e)==="array"&&e.length===3)return"oklch"}});Object.assign(J,{analyze:ku,average:vh,bezier:xh,blend:it,brewer:tg,Color:P,colors:hn,contrast:jh,contrastAPCA:Kh,cubehelix:Fh,deltaE:Zh,distance:Jh,input:X,interpolate:gn,limits:Lu,mix:gn,random:zh,scale:Rr,scales:eg,valid:Qh});function Vu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cr={exports:{}},Ps;function vg(){if(Ps)return cr.exports;Ps=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(w,E,m){return Function.prototype.apply.call(w,E,m)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function r(g){console&&console.warn&&console.warn(g)}var i=Number.isNaN||function(w){return w!==w};function o(){o.init.call(this)}cr.exports=o,cr.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(g){if(typeof g!="number"||g<0||i(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");s=g}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function u(g){return g._maxListeners===void 0?o.defaultMaxListeners:g._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(w){for(var E=[],m=1;m<arguments.length;m++)E.push(arguments[m]);var S=w==="error",k=this._events;if(k!==void 0)S=S&&k.error===void 0;else if(!S)return!1;if(S){var R;if(E.length>0&&(R=E[0]),R instanceof Error)throw R;var O=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw O.context=R,O}var $=k[w];if($===void 0)return!1;if(typeof $=="function")t($,this,E);else for(var W=$.length,ie=v($,W),m=0;m<W;++m)t(ie[m],this,E);return!0};function c(g,w,E,m){var S,k,R;if(a(E),k=g._events,k===void 0?(k=g._events=Object.create(null),g._eventsCount=0):(k.newListener!==void 0&&(g.emit("newListener",w,E.listener?E.listener:E),k=g._events),R=k[w]),R===void 0)R=k[w]=E,++g._eventsCount;else if(typeof R=="function"?R=k[w]=m?[E,R]:[R,E]:m?R.unshift(E):R.push(E),S=u(g),S>0&&R.length>S&&!R.warned){R.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=g,O.type=w,O.count=R.length,r(O)}return g}o.prototype.addListener=function(w,E){return c(this,w,E,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,E){return c(this,w,E,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(g,w,E){var m={fired:!1,wrapFn:void 0,target:g,type:w,listener:E},S=l.bind(m);return S.listener=E,m.wrapFn=S,S}o.prototype.once=function(w,E){return a(E),this.on(w,f(this,w,E)),this},o.prototype.prependOnceListener=function(w,E){return a(E),this.prependListener(w,f(this,w,E)),this},o.prototype.removeListener=function(w,E){var m,S,k,R,O;if(a(E),S=this._events,S===void 0)return this;if(m=S[w],m===void 0)return this;if(m===E||m.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete S[w],S.removeListener&&this.emit("removeListener",w,m.listener||E));else if(typeof m!="function"){for(k=-1,R=m.length-1;R>=0;R--)if(m[R]===E||m[R].listener===E){O=m[R].listener,k=R;break}if(k<0)return this;k===0?m.shift():y(m,k),m.length===1&&(S[w]=m[0]),S.removeListener!==void 0&&this.emit("removeListener",w,O||E)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var E,m,S;if(m=this._events,m===void 0)return this;if(m.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):m[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete m[w]),this;if(arguments.length===0){var k=Object.keys(m),R;for(S=0;S<k.length;++S)R=k[S],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=m[w],typeof E=="function")this.removeListener(w,E);else if(E!==void 0)for(S=E.length-1;S>=0;S--)this.removeListener(w,E[S]);return this};function d(g,w,E){var m=g._events;if(m===void 0)return[];var S=m[w];return S===void 0?[]:typeof S=="function"?E?[S.listener||S]:[S]:E?x(S):v(S,S.length)}o.prototype.listeners=function(w){return d(this,w,!0)},o.prototype.rawListeners=function(w){return d(this,w,!1)},o.listenerCount=function(g,w){return typeof g.listenerCount=="function"?g.listenerCount(w):h.call(g,w)},o.prototype.listenerCount=h;function h(g){var w=this._events;if(w!==void 0){var E=w[g];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(g,w){for(var E=new Array(w),m=0;m<w;++m)E[m]=g[m];return E}function y(g,w){for(;w+1<g.length;w++)g[w]=g[w+1];g.pop()}function x(g){for(var w=new Array(g.length),E=0;E<w.length;++E)w[E]=g[E].listener||g[E];return w}function b(g,w){return new Promise(function(E,m){function S(R){g.removeListener(w,k),m(R)}function k(){typeof g.removeListener=="function"&&g.removeListener("error",S),E([].slice.call(arguments))}T(g,w,k,{once:!0}),w!=="error"&&C(g,S,{once:!0})})}function C(g,w,E){typeof g.on=="function"&&T(g,"error",w,E)}function T(g,w,E,m){if(typeof g.on=="function")m.once?g.once(w,E):g.on(w,E);else if(typeof g.addEventListener=="function")g.addEventListener(w,function S(k){m.once&&g.removeEventListener(w,S),E(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}return cr.exports}var Ku=vg();function bg(){const e=arguments[0];for(let t=1,n=arguments.length;t<n;t++)if(arguments[t])for(const r in arguments[t])e[r]=arguments[t][r];return e}let Ee=bg;typeof Object.assign=="function"&&(Ee=Object.assign);function Ve(e,t,n,r){const i=e._nodes.get(t);let o=null;return i&&(r==="mixed"?o=i.out&&i.out[n]||i.undirected&&i.undirected[n]:r==="directed"?o=i.out&&i.out[n]:o=i.undirected&&i.undirected[n]),o}function Se(e){return typeof e=="object"&&e!==null}function Yu(e){let t;for(t in e)return!1;return!0}function je(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Ze(e,t,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function Ms(e){return!(!Se(e)||e.attributes&&!Array.isArray(e.attributes))}function yg(){let e=Math.floor(Math.random()*256)&255;return()=>e++}function kt(){const e=arguments;let t=null,n=-1;return{[Symbol.iterator](){return this},next(){let r=null;do{if(t===null){if(n++,n>=e.length)return{done:!0};t=e[n][Symbol.iterator]()}if(r=t.next(),r.done){t=null;continue}break}while(!0);return r}}}function En(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class Go extends Error{constructor(t){super(),this.name="GraphError",this.message=t}}class B extends Go{constructor(t){super(t),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,B.prototype.constructor)}}class F extends Go{constructor(t){super(t),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,F.prototype.constructor)}}class K extends Go{constructor(t){super(t),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,K.prototype.constructor)}}function qu(e,t){this.key=e,this.attributes=t,this.clear()}qu.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Xu(e,t){this.key=e,this.attributes=t,this.clear()}Xu.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Zu(e,t){this.key=e,this.attributes=t,this.clear()}Zu.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function xn(e,t,n,r,i){this.key=t,this.attributes=i,this.undirected=e,this.source=n,this.target=r}xn.prototype.attach=function(){let e="out",t="in";this.undirected&&(e=t="undirected");const n=this.source.key,r=this.target.key;this.source[e][r]=this,!(this.undirected&&n===r)&&(this.target[t][n]=this)};xn.prototype.attachMulti=function(){let e="out",t="in";const n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");const i=this.source[e],o=i[r];if(typeof o>"u"){i[r]=this,this.undirected&&n===r||(this.target[t][n]=this);return}o.previous=this,this.next=o,i[r]=this,this.target[t][n]=this};xn.prototype.detach=function(){const e=this.source.key,t=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]};xn.prototype.detachMulti=function(){const e=this.source.key,t=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ju=0,Qu=1,wg=2,ec=3;function Gt(e,t,n,r,i,o,s){let a,u,c,l;if(r=""+r,n===Ju){if(a=e._nodes.get(r),!a)throw new F(`Graph.${t}: could not find the "${r}" node in the graph.`);c=i,l=o}else if(n===ec){if(i=""+i,u=e._edges.get(i),!u)throw new F(`Graph.${t}: could not find the "${i}" edge in the graph.`);const f=u.source.key,d=u.target.key;if(r===f)a=u.target;else if(r===d)a=u.source;else throw new F(`Graph.${t}: the "${r}" node is not attached to the "${i}" edge (${f}, ${d}).`);c=o,l=s}else{if(u=e._edges.get(r),!u)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`);n===Qu?a=u.source:a=u.target,c=i,l=o}return[a,c,l]}function _g(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);return s.attributes[a]}}function Eg(e,t,n){e.prototype[t]=function(r,i){const[o]=Gt(this,t,n,r,i);return o.attributes}}function xg(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);return s.attributes.hasOwnProperty(a)}}function Tg(e,t,n){e.prototype[t]=function(r,i,o,s){const[a,u,c]=Gt(this,t,n,r,i,o,s);return a.attributes[u]=c,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:u}),this}}function Cg(e,t,n){e.prototype[t]=function(r,i,o,s){const[a,u,c]=Gt(this,t,n,r,i,o,s);if(typeof c!="function")throw new B(`Graph.${t}: updater should be a function.`);const l=a.attributes,f=c(l[u]);return l[u]=f,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:u}),this}}function Sg(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);return delete s.attributes[a],this.emit("nodeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:a}),this}}function Ag(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);if(!Se(a))throw new B(`Graph.${t}: provided attributes are not a plain object.`);return s.attributes=a,this.emit("nodeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function Rg(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);if(!Se(a))throw new B(`Graph.${t}: provided attributes are not a plain object.`);return Ee(s.attributes,a),this.emit("nodeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:a}),this}}function kg(e,t,n){e.prototype[t]=function(r,i,o){const[s,a]=Gt(this,t,n,r,i,o);if(typeof a!="function")throw new B(`Graph.${t}: provided updater is not a function.`);return s.attributes=a(s.attributes),this.emit("nodeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}const Lg=[{name:e=>`get${e}Attribute`,attacher:_g},{name:e=>`get${e}Attributes`,attacher:Eg},{name:e=>`has${e}Attribute`,attacher:xg},{name:e=>`set${e}Attribute`,attacher:Tg},{name:e=>`update${e}Attribute`,attacher:Cg},{name:e=>`remove${e}Attribute`,attacher:Sg},{name:e=>`replace${e}Attributes`,attacher:Ag},{name:e=>`merge${e}Attributes`,attacher:Rg},{name:e=>`update${e}Attributes`,attacher:kg}];function Ng(e){Lg.forEach(function({name:t,attacher:n}){n(e,t("Node"),Ju),n(e,t("Source"),Qu),n(e,t("Target"),wg),n(e,t("Opposite"),ec)})}function Dg(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}return o.attributes[i]}}function Gg(e,t,n){e.prototype[t]=function(r){let i;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,s=""+arguments[1];if(i=Ve(this,o,s,n),!i)throw new F(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,i=this._edges.get(r),!i)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}return i.attributes}}function Pg(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}return o.attributes.hasOwnProperty(i)}}function Mg(e,t,n){e.prototype[t]=function(r,i,o){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+r,u=""+i;if(i=arguments[2],o=arguments[3],s=Ve(this,a,u,n),!s)throw new F(`Graph.${t}: could not find an edge for the given path ("${a}" - "${u}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}return s.attributes[i]=o,this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function Fg(e,t,n){e.prototype[t]=function(r,i,o){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+r,u=""+i;if(i=arguments[2],o=arguments[3],s=Ve(this,a,u,n),!s)throw new F(`Graph.${t}: could not find an edge for the given path ("${a}" - "${u}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new B(`Graph.${t}: updater should be a function.`);return s.attributes[i]=o(s.attributes[i]),this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function Og(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}return delete o.attributes[i],this.emit("edgeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:i}),this}}function Ig(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}if(!Se(i))throw new B(`Graph.${t}: provided attributes are not a plain object.`);return o.attributes=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function $g(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}if(!Se(i))throw new B(`Graph.${t}: provided attributes are not a plain object.`);return Ee(o.attributes,i),this.emit("edgeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:i}),this}}function zg(e,t,n){e.prototype[t]=function(r,i){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new K(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new K(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,a=""+i;if(i=arguments[2],o=Ve(this,s,a,n),!o)throw new F(`Graph.${t}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(n!=="mixed")throw new K(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new F(`Graph.${t}: could not find the "${r}" edge in the graph.`)}if(typeof i!="function")throw new B(`Graph.${t}: provided updater is not a function.`);return o.attributes=i(o.attributes),this.emit("edgeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}const Ug=[{name:e=>`get${e}Attribute`,attacher:Dg},{name:e=>`get${e}Attributes`,attacher:Gg},{name:e=>`has${e}Attribute`,attacher:Pg},{name:e=>`set${e}Attribute`,attacher:Mg},{name:e=>`update${e}Attribute`,attacher:Fg},{name:e=>`remove${e}Attribute`,attacher:Og},{name:e=>`replace${e}Attributes`,attacher:Ig},{name:e=>`merge${e}Attributes`,attacher:$g},{name:e=>`update${e}Attributes`,attacher:zg}];function Bg(e){Ug.forEach(function({name:t,attacher:n}){n(e,t("Edge"),"mixed"),n(e,t("DirectedEdge"),"directed"),n(e,t("UndirectedEdge"),"undirected")})}const Hg=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function jg(e,t,n,r){let i=!1;for(const o in t){if(o===r)continue;const s=t[o];if(i=n(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),e&&i)return s.key}}function Wg(e,t,n,r){let i,o,s,a=!1;for(const u in t)if(u!==r){i=t[u];do{if(o=i.source,s=i.target,a=n(i.key,i.attributes,o.key,s.key,o.attributes,s.attributes,i.undirected),e&&a)return i.key;i=i.next}while(i!==void 0)}}function pi(e,t){const n=Object.keys(e),r=n.length;let i,o=0;return{[Symbol.iterator](){return this},next(){do if(i)i=i.next;else{if(o>=r)return{done:!0};const s=n[o++];if(s===t){i=void 0;continue}i=e[s]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}}}}function Vg(e,t,n,r){const i=t[n];if(!i)return;const o=i.source,s=i.target;if(r(i.key,i.attributes,o.key,s.key,o.attributes,s.attributes,i.undirected)&&e)return i.key}function Kg(e,t,n,r){let i=t[n];if(!i)return;let o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&o)return i.key;i=i.next}while(i!==void 0)}function mi(e,t){let n=e[t];if(n.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!n)return{done:!0};const i={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:i}}};let r=!1;return{[Symbol.iterator](){return this},next(){return r===!0?{done:!0}:(r=!0,{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}})}}}function Yg(e,t){if(e.size===0)return[];if(t==="mixed"||t===e.type)return Array.from(e._edges.keys());const n=t==="undirected"?e.undirectedSize:e.directedSize,r=new Array(n),i=t==="undirected",o=e._edges.values();let s=0,a,u;for(;a=o.next(),a.done!==!0;)u=a.value,u.undirected===i&&(r[s++]=u.key);return r}function tc(e,t,n,r){if(t.size===0)return;const i=n!=="mixed"&&n!==t.type,o=n==="undirected";let s,a,u=!1;const c=t._edges.values();for(;s=c.next(),s.done!==!0;){if(a=s.value,i&&a.undirected!==o)continue;const{key:l,attributes:f,source:d,target:h}=a;if(u=r(l,f,d.key,h.key,d.attributes,h.attributes,a.undirected),e&&u)return l}}function qg(e,t){if(e.size===0)return En();const n=t!=="mixed"&&t!==e.type,r=t==="undirected",i=e._edges.values();return{[Symbol.iterator](){return this},next(){let o,s;for(;;){if(o=i.next(),o.done)return o;if(s=o.value,!(n&&s.undirected!==r))break}return{value:{edge:s.key,attributes:s.attributes,source:s.source.key,target:s.target.key,sourceAttributes:s.source.attributes,targetAttributes:s.target.attributes,undirected:s.undirected},done:!1}}}}function Po(e,t,n,r,i,o){const s=t?Wg:jg;let a;if(n!=="undirected"&&(r!=="out"&&(a=s(e,i.in,o),e&&a)||r!=="in"&&(a=s(e,i.out,o,r?void 0:i.key),e&&a))||n!=="directed"&&(a=s(e,i.undirected,o),e&&a))return a}function Xg(e,t,n,r){const i=[];return Po(!1,e,t,n,r,function(o){i.push(o)}),i}function Zg(e,t,n){let r=En();return e!=="undirected"&&(t!=="out"&&typeof n.in<"u"&&(r=kt(r,pi(n.in))),t!=="in"&&typeof n.out<"u"&&(r=kt(r,pi(n.out,t?void 0:n.key)))),e!=="directed"&&typeof n.undirected<"u"&&(r=kt(r,pi(n.undirected))),r}function Mo(e,t,n,r,i,o,s){const a=n?Kg:Vg;let u;if(t!=="undirected"&&(typeof i.in<"u"&&r!=="out"&&(u=a(e,i.in,o,s),e&&u)||typeof i.out<"u"&&r!=="in"&&(r||i.key!==o)&&(u=a(e,i.out,o,s),e&&u))||t!=="directed"&&typeof i.undirected<"u"&&(u=a(e,i.undirected,o,s),e&&u))return u}function Jg(e,t,n,r,i){const o=[];return Mo(!1,e,t,n,r,i,function(s){o.push(s)}),o}function Qg(e,t,n,r){let i=En();return e!=="undirected"&&(typeof n.in<"u"&&t!=="out"&&r in n.in&&(i=kt(i,mi(n.in,r))),typeof n.out<"u"&&t!=="in"&&r in n.out&&(t||n.key!==r)&&(i=kt(i,mi(n.out,r)))),e!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(i=kt(i,mi(n.undirected,r))),i}function ep(e,t){const{name:n,type:r,direction:i}=t;e.prototype[n]=function(o,s){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return Yg(this,r);if(arguments.length===1){o=""+o;const a=this._nodes.get(o);if(typeof a>"u")throw new F(`Graph.${n}: could not find the "${o}" node in the graph.`);return Xg(this.multi,r==="mixed"?this.type:r,i,a)}if(arguments.length===2){o=""+o,s=""+s;const a=this._nodes.get(o);if(!a)throw new F(`Graph.${n}:  could not find the "${o}" source node in the graph.`);if(!this._nodes.has(s))throw new F(`Graph.${n}:  could not find the "${s}" target node in the graph.`);return Jg(r,this.multi,i,a,s)}throw new B(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function tp(e,t){const{name:n,type:r,direction:i}=t,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(c,l,f){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return f=c,tc(!1,this,r,f);if(arguments.length===2){c=""+c,f=l;const d=this._nodes.get(c);if(typeof d>"u")throw new F(`Graph.${o}: could not find the "${c}" node in the graph.`);return Po(!1,this.multi,r==="mixed"?this.type:r,i,d,f)}if(arguments.length===3){c=""+c,l=""+l;const d=this._nodes.get(c);if(!d)throw new F(`Graph.${o}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new F(`Graph.${o}:  could not find the "${l}" target node in the graph.`);return Mo(!1,r,this.multi,i,d,l,f)}throw new B(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const s="map"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop();let f;if(c.length===0){let d=0;r!=="directed"&&(d+=this.undirectedSize),r!=="undirected"&&(d+=this.directedSize),f=new Array(d);let h=0;c.push((v,y,x,b,C,T,g)=>{f[h++]=l(v,y,x,b,C,T,g)})}else f=[],c.push((d,h,v,y,x,b,C)=>{f.push(l(d,h,v,y,x,b,C))});return this[o].apply(this,c),f};const a="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop(),f=[];return c.push((d,h,v,y,x,b,C)=>{l(d,h,v,y,x,b,C)&&f.push(d)}),this[o].apply(this,c),f};const u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(){let c=Array.prototype.slice.call(arguments);if(c.length<2||c.length>4)throw new B(`Graph.${u}: invalid number of arguments (expecting 2, 3 or 4 and got ${c.length}).`);if(typeof c[c.length-1]=="function"&&typeof c[c.length-2]!="function")throw new B(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let l,f;c.length===2?(l=c[0],f=c[1],c=[]):c.length===3?(l=c[1],f=c[2],c=[c[0]]):c.length===4&&(l=c[2],f=c[3],c=[c[0],c[1]]);let d=f;return c.push((h,v,y,x,b,C,T)=>{d=l(d,h,v,y,x,b,C,T)}),this[o].apply(this,c),d}}function np(e,t){const{name:n,type:r,direction:i}=t,o="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(u,c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return l=u,tc(!0,this,r,l);if(arguments.length===2){u=""+u,l=c;const f=this._nodes.get(u);if(typeof f>"u")throw new F(`Graph.${o}: could not find the "${u}" node in the graph.`);return Po(!0,this.multi,r==="mixed"?this.type:r,i,f,l)}if(arguments.length===3){u=""+u,c=""+c;const f=this._nodes.get(u);if(!f)throw new F(`Graph.${o}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new F(`Graph.${o}:  could not find the "${c}" target node in the graph.`);return Mo(!0,r,this.multi,i,f,c,l)}throw new B(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const s="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[s]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((f,d,h,v,y,x,b)=>c(f,d,h,v,y,x,b)),!!this[o].apply(this,u)};const a="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((f,d,h,v,y,x,b)=>!c(f,d,h,v,y,x,b)),!this[o].apply(this,u)}}function rp(e,t){const{name:n,type:r,direction:i}=t,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(s,a){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return En();if(!arguments.length)return qg(this,r);if(arguments.length===1){s=""+s;const u=this._nodes.get(s);if(!u)throw new F(`Graph.${o}: could not find the "${s}" node in the graph.`);return Zg(r,i,u)}if(arguments.length===2){s=""+s,a=""+a;const u=this._nodes.get(s);if(!u)throw new F(`Graph.${o}:  could not find the "${s}" source node in the graph.`);if(!this._nodes.has(a))throw new F(`Graph.${o}:  could not find the "${a}" target node in the graph.`);return Qg(r,i,u,a)}throw new B(`Graph.${o}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function ip(e){Hg.forEach(t=>{ep(e,t),tp(e,t),np(e,t),rp(e,t)})}const op=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function jr(){this.A=null,this.B=null}jr.prototype.wrap=function(e){this.A===null?this.A=e:this.B===null&&(this.B=e)};jr.prototype.has=function(e){return this.A!==null&&e in this.A||this.B!==null&&e in this.B};function kn(e,t,n,r,i){for(const o in r){const s=r[o],a=s.source,u=s.target,c=a===n?u:a;if(t&&t.has(c.key))continue;const l=i(c.key,c.attributes);if(e&&l)return c.key}}function Fo(e,t,n,r,i){if(t!=="mixed"){if(t==="undirected")return kn(e,null,r,r.undirected,i);if(typeof n=="string")return kn(e,null,r,r[n],i)}const o=new jr;let s;if(t!=="undirected"){if(n!=="out"){if(s=kn(e,null,r,r.in,i),e&&s)return s;o.wrap(r.in)}if(n!=="in"){if(s=kn(e,o,r,r.out,i),e&&s)return s;o.wrap(r.out)}}if(t!=="directed"&&(s=kn(e,o,r,r.undirected,i),e&&s))return s}function sp(e,t,n){if(e!=="mixed"){if(e==="undirected")return Object.keys(n.undirected);if(typeof t=="string")return Object.keys(n[t])}const r=[];return Fo(!1,e,t,n,function(i){r.push(i)}),r}function Ln(e,t,n){const r=Object.keys(n),i=r.length;let o=0;return{[Symbol.iterator](){return this},next(){let s=null;do{if(o>=i)return e&&e.wrap(n),{done:!0};const a=n[r[o++]],u=a.source,c=a.target;if(s=u===t?c:u,e&&e.has(s.key)){s=null;continue}}while(s===null);return{done:!1,value:{neighbor:s.key,attributes:s.attributes}}}}}function ap(e,t,n){if(e!=="mixed"){if(e==="undirected")return Ln(null,n,n.undirected);if(typeof t=="string")return Ln(null,n,n[t])}let r=En();const i=new jr;return e!=="undirected"&&(t!=="out"&&(r=kt(r,Ln(i,n,n.in))),t!=="in"&&(r=kt(r,Ln(i,n,n.out)))),e!=="directed"&&(r=kt(r,Ln(i,n,n.undirected))),r}function up(e,t){const{name:n,type:r,direction:i}=t;e.prototype[n]=function(o){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];o=""+o;const s=this._nodes.get(o);if(typeof s>"u")throw new F(`Graph.${n}: could not find the "${o}" node in the graph.`);return sp(r==="mixed"?this.type:r,i,s)}}function cp(e,t){const{name:n,type:r,direction:i}=t,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;const f=this._nodes.get(c);if(typeof f>"u")throw new F(`Graph.${o}: could not find the "${c}" node in the graph.`);Fo(!1,r==="mixed"?this.type:r,i,f,l)};const s="map"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(c,l){const f=[];return this[o](c,(d,h)=>{f.push(l(d,h))}),f};const a="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(c,l){const f=[];return this[o](c,(d,h)=>{l(d,h)&&f.push(d)}),f};const u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(c,l,f){if(arguments.length<3)throw new B(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let d=f;return this[o](c,(h,v)=>{d=l(d,h,v)}),d}}function lp(e,t){const{name:n,type:r,direction:i}=t,o=n[0].toUpperCase()+n.slice(1,-1),s="find"+o;e.prototype[s]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;const f=this._nodes.get(c);if(typeof f>"u")throw new F(`Graph.${s}: could not find the "${c}" node in the graph.`);return Fo(!0,r==="mixed"?this.type:r,i,f,l)};const a="some"+o;e.prototype[a]=function(c,l){return!!this[s](c,l)};const u="every"+o;e.prototype[u]=function(c,l){return!this[s](c,(d,h)=>!l(d,h))}}function fp(e,t){const{name:n,type:r,direction:i}=t,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(s){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return En();s=""+s;const a=this._nodes.get(s);if(typeof a>"u")throw new F(`Graph.${o}: could not find the "${s}" node in the graph.`);return ap(r==="mixed"?this.type:r,i,a)}}function dp(e){op.forEach(t=>{up(e,t),cp(e,t),lp(e,t),fp(e,t)})}function lr(e,t,n,r,i){const o=r._nodes.values(),s=r.type;let a,u,c,l,f,d;for(;a=o.next(),a.done!==!0;){let h=!1;if(u=a.value,s!=="undirected"){l=u.out;for(c in l){f=l[c];do d=f.target,h=!0,i(u.key,d.key,u.attributes,d.attributes,f.key,f.attributes,f.undirected),f=f.next;while(f)}}if(s!=="directed"){l=u.undirected;for(c in l)if(!(t&&u.key>c)){f=l[c];do d=f.target,d.key!==c&&(d=f.source),h=!0,i(u.key,d.key,u.attributes,d.attributes,f.key,f.attributes,f.undirected),f=f.next;while(f)}}n&&!h&&i(u.key,null,u.attributes,null,null,null,null)}}function hp(e,t){const n={key:e};return Yu(t.attributes)||(n.attributes=Ee({},t.attributes)),n}function gp(e,t,n){const r={key:t,source:n.source.key,target:n.target.key};return Yu(n.attributes)||(r.attributes=Ee({},n.attributes)),e==="mixed"&&n.undirected&&(r.undirected=!0),r}function pp(e){if(!Se(e))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new B("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!Se(e.attributes)||e.attributes===null))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function mp(e){if(!Se(e))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new B("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new B("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!Se(e.attributes)||e.attributes===null))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&typeof e.undirected!="boolean")throw new B("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const vp=yg(),bp=new Set(["directed","undirected","mixed"]),Fs=new Set(["domain","_events","_eventsCount","_maxListeners"]),yp=[{name:e=>`${e}Edge`,generateKey:!0},{name:e=>`${e}DirectedEdge`,generateKey:!0,type:"directed"},{name:e=>`${e}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:e=>`${e}EdgeWithKey`},{name:e=>`${e}DirectedEdgeWithKey`,type:"directed"},{name:e=>`${e}UndirectedEdgeWithKey`,type:"undirected"}],wp={allowSelfLoops:!0,multi:!1,type:"mixed"};function _p(e,t,n){if(n&&!Se(n))throw new B(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(t=""+t,n=n||{},e._nodes.has(t))throw new K(`Graph.addNode: the "${t}" node already exist in the graph.`);const r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Os(e,t,n){const r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function nc(e,t,n,r,i,o,s,a){if(!r&&e.type==="undirected")throw new K(`Graph.${t}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&e.type==="directed")throw new K(`Graph.${t}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(a&&!Se(a))throw new B(`Graph.${t}: invalid attributes. Expecting an object but got "${a}"`);if(o=""+o,s=""+s,a=a||{},!e.allowSelfLoops&&o===s)throw new K(`Graph.${t}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const u=e._nodes.get(o),c=e._nodes.get(s);if(!u)throw new F(`Graph.${t}: source node "${o}" not found.`);if(!c)throw new F(`Graph.${t}: target node "${s}" not found.`);const l={key:null,undirected:r,source:o,target:s,attributes:a};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new K(`Graph.${t}: the "${i}" edge already exists in the graph.`);if(!e.multi&&(r?typeof u.undirected[s]<"u":typeof u.out[s]<"u"))throw new K(`Graph.${t}: an edge linking "${o}" to "${s}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const f=new xn(r,i,u,c,a);e._edges.set(i,f);const d=o===s;return r?(u.undirectedDegree++,c.undirectedDegree++,d&&(u.undirectedLoops++,e._undirectedSelfLoopCount++)):(u.outDegree++,c.inDegree++,d&&(u.directedLoops++,e._directedSelfLoopCount++)),e.multi?f.attachMulti():f.attach(),r?e._undirectedSize++:e._directedSize++,l.key=i,e.emit("edgeAdded",l),i}function Ep(e,t,n,r,i,o,s,a,u){if(!r&&e.type==="undirected")throw new K(`Graph.${t}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&e.type==="directed")throw new K(`Graph.${t}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(a){if(u){if(typeof a!="function")throw new B(`Graph.${t}: invalid updater function. Expecting a function but got "${a}"`)}else if(!Se(a))throw new B(`Graph.${t}: invalid attributes. Expecting an object but got "${a}"`)}o=""+o,s=""+s;let c;if(u&&(c=a,a=void 0),!e.allowSelfLoops&&o===s)throw new K(`Graph.${t}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let l=e._nodes.get(o),f=e._nodes.get(s),d,h;if(!n&&(d=e._edges.get(i),d)){if((d.source.key!==o||d.target.key!==s)&&(!r||d.source.key!==s||d.target.key!==o))throw new K(`Graph.${t}: inconsistency detected when attempting to merge the "${i}" edge with "${o}" source & "${s}" target vs. ("${d.source.key}", "${d.target.key}").`);h=d}if(!h&&!e.multi&&l&&(h=r?l.undirected[s]:l.out[s]),h){const C=[h.key,!1,!1,!1];if(u?!c:!a)return C;if(u){const T=h.attributes;h.attributes=c(T),e.emit("edgeAttributesUpdated",{type:"replace",key:h.key,attributes:h.attributes})}else Ee(h.attributes,a),e.emit("edgeAttributesUpdated",{type:"merge",key:h.key,attributes:h.attributes,data:a});return C}a=a||{},u&&c&&(a=c(a));const v={key:null,undirected:r,source:o,target:s,attributes:a};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new K(`Graph.${t}: the "${i}" edge already exists in the graph.`);let y=!1,x=!1;l||(l=Os(e,o,{}),y=!0,o===s&&(f=l,x=!0)),f||(f=Os(e,s,{}),x=!0),d=new xn(r,i,l,f,a),e._edges.set(i,d);const b=o===s;return r?(l.undirectedDegree++,f.undirectedDegree++,b&&(l.undirectedLoops++,e._undirectedSelfLoopCount++)):(l.outDegree++,f.inDegree++,b&&(l.directedLoops++,e._directedSelfLoopCount++)),e.multi?d.attachMulti():d.attach(),r?e._undirectedSize++:e._directedSize++,v.key=i,e.emit("edgeAdded",v),[i,!0,y,x]}function on(e,t){e._edges.delete(t.key);const{source:n,target:r,attributes:i}=t,o=t.undirected,s=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,s&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,s&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),o?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:n.key,target:r.key,undirected:o})}class le extends Ku.EventEmitter{constructor(t){if(super(),t=Ee({},wp,t),typeof t.multi!="boolean")throw new B(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${t.multi}".`);if(!bp.has(t.type))throw new B(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${t.type}".`);if(typeof t.allowSelfLoops!="boolean")throw new B(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${t.allowSelfLoops}".`);const n=t.type==="mixed"?qu:t.type==="directed"?Xu:Zu;je(this,"NodeDataClass",n);const r="geid_"+vp()+"_";let i=0;const o=()=>{let s;do s=r+i++;while(this._edges.has(s));return s};je(this,"_attributes",{}),je(this,"_nodes",new Map),je(this,"_edges",new Map),je(this,"_directedSize",0),je(this,"_undirectedSize",0),je(this,"_directedSelfLoopCount",0),je(this,"_undirectedSelfLoopCount",0),je(this,"_edgeKeyGenerator",o),je(this,"_options",t),Fs.forEach(s=>je(this,s,this[s])),Ze(this,"order",()=>this._nodes.size),Ze(this,"size",()=>this._edges.size),Ze(this,"directedSize",()=>this._directedSize),Ze(this,"undirectedSize",()=>this._undirectedSize),Ze(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Ze(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Ze(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Ze(this,"multi",this._options.multi),Ze(this,"type",this._options.type),Ze(this,"allowSelfLoops",this._options.allowSelfLoops),Ze(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(t){return this._nodes.has(""+t)}hasDirectedEdge(t,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+t,i=this._edges.get(r);return!!i&&!i.undirected}else if(arguments.length===2){t=""+t,n=""+n;const r=this._nodes.get(t);return r?r.out.hasOwnProperty(n):!1}throw new B(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(t,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+t,i=this._edges.get(r);return!!i&&i.undirected}else if(arguments.length===2){t=""+t,n=""+n;const r=this._nodes.get(t);return r?r.undirected.hasOwnProperty(n):!1}throw new B(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(t,n){if(arguments.length===1){const r=""+t;return this._edges.has(r)}else if(arguments.length===2){t=""+t,n=""+n;const r=this._nodes.get(t);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new B(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(t,n){if(this.type==="undirected")return;if(t=""+t,n=""+n,this.multi)throw new K("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(t);if(!r)throw new F(`Graph.directedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(n))throw new F(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||void 0;if(i)return i.key}undirectedEdge(t,n){if(this.type==="directed")return;if(t=""+t,n=""+n,this.multi)throw new K("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(t);if(!r)throw new F(`Graph.undirectedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(n))throw new F(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const i=r.undirected&&r.undirected[n]||void 0;if(i)return i.key}edge(t,n){if(this.multi)throw new K("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.edge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(n))throw new F(`Graph.edge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(i)return i.key}areDirectedNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areDirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areOutNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areInNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areUndirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areInboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(t,n){t=""+t,n=""+n;const r=this._nodes.get(t);if(!r)throw new F(`Graph.areOutboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.inDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.outDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.directedDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.undirectedDegree: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.inboundDegree: could not find the "${t}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.outboundDegree: could not find the "${t}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.degree: could not find the "${t}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.inDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.outDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.directedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,i+=n.directedLoops),r-i}outboundDegreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,i+=n.directedLoops),r-i}degreeWithoutSelfLoops(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.degreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,i+=n.directedLoops*2),r-i}source(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.source: could not find the "${t}" edge in the graph.`);return n.source.key}target(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.target: could not find the "${t}" edge in the graph.`);return n.target.key}extremities(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.extremities: could not find the "${t}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(t,n){t=""+t,n=""+n;const r=this._edges.get(n);if(!r)throw new F(`Graph.opposite: could not find the "${n}" edge in the graph.`);const i=r.source.key,o=r.target.key;if(t===i)return o;if(t===o)return i;throw new F(`Graph.opposite: the "${t}" node is not attached to the "${n}" edge (${i}, ${o}).`)}hasExtremity(t,n){t=""+t,n=""+n;const r=this._edges.get(t);if(!r)throw new F(`Graph.hasExtremity: could not find the "${t}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.isUndirected: could not find the "${t}" edge in the graph.`);return n.undirected}isDirected(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.isDirected: could not find the "${t}" edge in the graph.`);return!n.undirected}isSelfLoop(t){t=""+t;const n=this._edges.get(t);if(!n)throw new F(`Graph.isSelfLoop: could not find the "${t}" edge in the graph.`);return n.source===n.target}addNode(t,n){return _p(this,t,n).key}mergeNode(t,n){if(n&&!Se(n))throw new B(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);t=""+t,n=n||{};let r=this._nodes.get(t);return r?(n&&(Ee(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:r.attributes,data:n})),[t,!1]):(r=new this.NodeDataClass(t,n),this._nodes.set(t,r),this.emit("nodeAdded",{key:t,attributes:n}),[t,!0])}updateNode(t,n){if(n&&typeof n!="function")throw new B(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);t=""+t;let r=this._nodes.get(t);if(r){if(n){const o=r.attributes;r.attributes=n(o),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:r.attributes})}return[t,!1]}const i=n?n({}):{};return r=new this.NodeDataClass(t,i),this._nodes.set(t,r),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0]}dropNode(t){t=""+t;const n=this._nodes.get(t);if(!n)throw new F(`Graph.dropNode: could not find the "${t}" node in the graph.`);let r;if(this.type!=="undirected"){for(const i in n.out){r=n.out[i];do on(this,r),r=r.next;while(r)}for(const i in n.in){r=n.in[i];do on(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const i in n.undirected){r=n.undirected[i];do on(this,r),r=r.next;while(r)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:n.attributes})}dropEdge(t){let n;if(arguments.length>1){const r=""+arguments[0],i=""+arguments[1];if(n=Ve(this,r,i,this.type),!n)throw new F(`Graph.dropEdge: could not find the "${r}" -> "${i}" edge in the graph.`)}else if(t=""+t,n=this._edges.get(t),!n)throw new F(`Graph.dropEdge: could not find the "${t}" edge in the graph.`);return on(this,n),this}dropDirectedEdge(t,n){if(arguments.length<2)throw new K("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new K("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");t=""+t,n=""+n;const r=Ve(this,t,n,"directed");if(!r)throw new F(`Graph.dropDirectedEdge: could not find a "${t}" -> "${n}" edge in the graph.`);return on(this,r),this}dropUndirectedEdge(t,n){if(arguments.length<2)throw new K("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new K("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Ve(this,t,n,"undirected");if(!r)throw new F(`Graph.dropUndirectedEdge: could not find a "${t}" -> "${n}" edge in the graph.`);return on(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const t=this._nodes.values();let n;for(;n=t.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(t){return this._attributes[t]}getAttributes(){return this._attributes}hasAttribute(t){return this._attributes.hasOwnProperty(t)}setAttribute(t,n){return this._attributes[t]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}updateAttribute(t,n){if(typeof n!="function")throw new B("Graph.updateAttribute: updater should be a function.");const r=this._attributes[t];return this._attributes[t]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}removeAttribute(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this}replaceAttributes(t){if(!Se(t))throw new B("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(t){if(!Se(t))throw new B("Graph.mergeAttributes: provided attributes are not a plain object.");return Ee(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this}updateAttributes(t){if(typeof t!="function")throw new B("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(t,n){if(typeof t!="function")throw new B("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!Ms(n))throw new B("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let i,o;for(;i=r.next(),i.done!==!0;)o=i.value,o.attributes=t(o.key,o.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(t,n){if(typeof t!="function")throw new B("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!Ms(n))throw new B("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let i,o,s,a;for(;i=r.next(),i.done!==!0;)o=i.value,s=o.source,a=o.target,o.attributes=t(o.key,o.attributes,s.key,a.key,s.attributes,a.attributes,o.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(t){if(typeof t!="function")throw new B("Graph.forEachAdjacencyEntry: expecting a callback.");lr(!1,!1,!1,this,t)}forEachAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new B("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");lr(!1,!1,!0,this,t)}forEachAssymetricAdjacencyEntry(t){if(typeof t!="function")throw new B("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");lr(!1,!0,!1,this,t)}forEachAssymetricAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new B("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");lr(!1,!0,!0,this,t)}nodes(){return Array.from(this._nodes.keys())}forEachNode(t){if(typeof t!="function")throw new B("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)i=r.value,t(i.key,i.attributes)}findNode(t){if(typeof t!="function")throw new B("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,t(i.key,i.attributes))return i.key}mapNodes(t){if(typeof t!="function")throw new B("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,i;const o=new Array(this.order);let s=0;for(;r=n.next(),r.done!==!0;)i=r.value,o[s++]=t(i.key,i.attributes);return o}someNode(t){if(typeof t!="function")throw new B("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,t(i.key,i.attributes))return!0;return!1}everyNode(t){if(typeof t!="function")throw new B("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,!t(i.key,i.attributes))return!1;return!0}filterNodes(t){if(typeof t!="function")throw new B("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,i;const o=[];for(;r=n.next(),r.done!==!0;)i=r.value,t(i.key,i.attributes)&&o.push(i.key);return o}reduceNodes(t,n){if(typeof t!="function")throw new B("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new B("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const i=this._nodes.values();let o,s;for(;o=i.next(),o.done!==!0;)s=o.value,r=t(r,s.key,s.attributes);return r}nodeEntries(){const t=this._nodes.values();return{[Symbol.iterator](){return this},next(){const n=t.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}}}}export(){const t=new Array(this._nodes.size);let n=0;this._nodes.forEach((i,o)=>{t[n++]=hp(o,i)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((i,o)=>{r[n++]=gp(this.type,o,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}}import(t,n=!1){if(t instanceof le)return t.forEachNode((u,c)=>{n?this.mergeNode(u,c):this.addNode(u,c)}),t.forEachEdge((u,c,l,f,d,h,v)=>{n?v?this.mergeUndirectedEdgeWithKey(u,l,f,c):this.mergeDirectedEdgeWithKey(u,l,f,c):v?this.addUndirectedEdgeWithKey(u,l,f,c):this.addDirectedEdgeWithKey(u,l,f,c)}),this;if(!Se(t))throw new B("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!Se(t.attributes))throw new B("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}let r,i,o,s,a;if(t.nodes){if(o=t.nodes,!Array.isArray(o))throw new B("Graph.import: invalid nodes. Expecting an array.");for(r=0,i=o.length;r<i;r++){s=o[r],pp(s);const{key:u,attributes:c}=s;n?this.mergeNode(u,c):this.addNode(u,c)}}if(t.edges){let u=!1;if(this.type==="undirected"&&(u=!0),o=t.edges,!Array.isArray(o))throw new B("Graph.import: invalid edges. Expecting an array.");for(r=0,i=o.length;r<i;r++){a=o[r],mp(a);const{source:c,target:l,attributes:f,undirected:d=u}=a;let h;"key"in a?(h=n?d?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:d?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,h.call(this,a.key,c,l,f)):(h=n?d?this.mergeUndirectedEdge:this.mergeDirectedEdge:d?this.addUndirectedEdge:this.addDirectedEdge,h.call(this,c,l,f))}}return this}nullCopy(t){const n=new le(Ee({},this._options,t));return n.replaceAttributes(Ee({},this.getAttributes())),n}emptyCopy(t){const n=this.nullCopy(t);return this._nodes.forEach((r,i)=>{const o=Ee({},r.attributes);r=new n.NodeDataClass(i,o),n._nodes.set(i,r)}),n}copy(t){if(t=t||{},typeof t.type=="string"&&t.type!==this.type&&t.type!=="mixed")throw new K(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${t.type}" because this would mean losing information about the current graph.`);if(typeof t.multi=="boolean"&&t.multi!==this.multi&&t.multi!==!0)throw new K("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof t.allowSelfLoops=="boolean"&&t.allowSelfLoops!==this.allowSelfLoops&&t.allowSelfLoops!==!0)throw new K("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(t),r=this._edges.values();let i,o;for(;i=r.next(),i.done!==!0;)o=i.value,nc(n,"copy",!1,o.undirected,o.key,o.source.key,o.target.key,Ee({},o.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const t={};this._nodes.forEach((o,s)=>{t[s]=o.attributes});const n={},r={};this._edges.forEach((o,s)=>{const a=o.undirected?"--":"->";let u="",c=o.source.key,l=o.target.key,f;o.undirected&&c>l&&(f=c,c=l,l=f);const d=`(${c})${a}(${l})`;s.startsWith("geid_")?this.multi&&(typeof r[d]>"u"?r[d]=0:r[d]++,u+=`${r[d]}. `):u+=`[${s}]: `,u+=d,n[u]=o.attributes});const i={};for(const o in this)this.hasOwnProperty(o)&&!Fs.has(o)&&typeof this[o]!="function"&&typeof o!="symbol"&&(i[o]=this[o]);return i.attributes=this._attributes,i.nodes=t,i.edges=n,je(i,"constructor",this.constructor),i}}typeof Symbol<"u"&&(le.prototype[Symbol.for("nodejs.util.inspect.custom")]=le.prototype.inspect);yp.forEach(e=>{["add","merge","update"].forEach(t=>{const n=e.name(t),r=t==="add"?nc:Ep;e.generateKey?le.prototype[n]=function(i,o,s){return r(this,n,!0,(e.type||this.type)==="undirected",null,i,o,s,t==="update")}:le.prototype[n]=function(i,o,s,a){return r(this,n,!1,(e.type||this.type)==="undirected",i,o,s,a,t==="update")}})});Ng(le);Bg(le);ip(le);dp(le);class rc extends le{constructor(t){const n=Ee({type:"directed"},t);if("multi"in n&&n.multi!==!1)throw new B("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new B('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class ic extends le{constructor(t){const n=Ee({type:"undirected"},t);if("multi"in n&&n.multi!==!1)throw new B("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new B('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Oo extends le{constructor(t){const n=Ee({multi:!0},t);if("multi"in n&&n.multi!==!0)throw new B("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class oc extends le{constructor(t){const n=Ee({type:"directed",multi:!0},t);if("multi"in n&&n.multi!==!0)throw new B("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new B('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class sc extends le{constructor(t){const n=Ee({type:"undirected",multi:!0},t);if("multi"in n&&n.multi!==!0)throw new B("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new B('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function Tn(e){e.from=function(t,n){const r=Ee({},t.options,n),i=new e(r);return i.import(t),i}}Tn(le);Tn(rc);Tn(ic);Tn(Oo);Tn(oc);Tn(sc);le.Graph=le;le.DirectedGraph=rc;le.UndirectedGraph=ic;le.MultiGraph=Oo;le.MultiDirectedGraph=oc;le.MultiUndirectedGraph=sc;le.InvalidArgumentsGraphError=B;le.NotFoundGraphError=F;le.UsageGraphError=K;var vi,Is;function ac(){return Is||(Is=1,vi=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"}),vi}var bi,$s;function xp(){if($s)return bi;$s=1;function e(n){return!n||typeof n!="object"||typeof n=="function"||Array.isArray(n)||n instanceof Set||n instanceof Map||n instanceof RegExp||n instanceof Date}function t(n,r){n=n||{};var i={};for(var o in r){var s=n[o],a=r[o];if(!e(a)){i[o]=t(s,a);continue}s===void 0?i[o]=a:i[o]=s}return i}return bi=t,bi}var Nn={},zs;function Tp(){if(zs)return Nn;zs=1;function e(r){return typeof r!="number"||isNaN(r)?1:r}function t(r,i){var o={},s=function(c){return typeof c>"u"?i:c};typeof i=="function"&&(s=i);var a=function(c){return s(c[r])},u=function(){return s(void 0)};return typeof r=="string"?(o.fromAttributes=a,o.fromGraph=function(c,l){return a(c.getNodeAttributes(l))},o.fromEntry=function(c,l){return a(l)}):typeof r=="function"?(o.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},o.fromGraph=function(c,l){return s(r(l,c.getNodeAttributes(l)))},o.fromEntry=function(c,l){return s(r(c,l))}):(o.fromAttributes=u,o.fromGraph=u,o.fromEntry=u),o}function n(r,i){var o={},s=function(c){return typeof c>"u"?i:c};typeof i=="function"&&(s=i);var a=function(c){return s(c[r])},u=function(){return s(void 0)};return typeof r=="string"?(o.fromAttributes=a,o.fromGraph=function(c,l){return a(c.getEdgeAttributes(l))},o.fromEntry=function(c,l){return a(l)},o.fromPartialEntry=o.fromEntry,o.fromMinimalEntry=o.fromEntry):typeof r=="function"?(o.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},o.fromGraph=function(c,l){var f=c.extremities(l);return s(r(l,c.getEdgeAttributes(l),f[0],f[1],c.getNodeAttributes(f[0]),c.getNodeAttributes(f[1]),c.isUndirected(l)))},o.fromEntry=function(c,l,f,d,h,v,y){return s(r(c,l,f,d,h,v,y))},o.fromPartialEntry=function(c,l,f,d){return s(r(c,l,f,d))},o.fromMinimalEntry=function(c,l){return s(r(c,l))}):(o.fromAttributes=u,o.fromGraph=u,o.fromEntry=u,o.fromMinimalEntry=u),o}return Nn.createNodeValueGetter=t,Nn.createEdgeValueGetter=n,Nn.createEdgeWeightGetter=function(r){return n(r,e)},Nn}var yi,Us;function Cp(){if(Us)return yi;Us=1;const{createNodeValueGetter:e,createEdgeValueGetter:t}=Tp();return yi=function(r,i,o){const{nodeXAttribute:s,nodeYAttribute:a}=o,{attraction:u,repulsion:c,gravity:l,inertia:f,maxMove:d}=o.settings;let{shouldSkipNode:h,shouldSkipEdge:v,isNodeFixed:y}=o;y=e(y),h=e(h,!1),v=t(v,!1);const x=r.filterNodes((T,g)=>!h.fromEntry(T,g)),b=x.length;for(let T=0;T<b;T++){const g=x[T],w=r.getNodeAttributes(g),E=i[g];E?i[g]={dx:E.dx*f,dy:E.dy*f,x:w[s]||0,y:w[a]||0}:i[g]={dx:0,dy:0,x:w[s]||0,y:w[a]||0}}if(c)for(let T=0;T<b;T++){const g=x[T],w=i[g];for(let E=T+1;E<b;E++){const m=x[E],S=i[m],k=S.x-w.x,R=S.y-w.y,O=Math.sqrt(k*k+R*R)||1,$=c/O*k,W=c/O*R;w.dx-=$,w.dy-=W,S.dx+=$,S.dy+=W}}if(u&&r.forEachEdge((T,g,w,E,m,S,k)=>{if(w===E||h.fromEntry(w,m)||h.fromEntry(E,S)||v.fromEntry(T,g,w,E,m,S,k))return;const R=i[w],O=i[E],$=O.x-R.x,W=O.y-R.y,ie=Math.sqrt($*$+W*W)||1,fe=u*ie*$,re=u*ie*W;R.dx+=fe,R.dy+=re,O.dx-=fe,O.dy-=re}),l)for(let T=0;T<b;T++){const g=x[T],w=i[g],{x:E,y:m}=w,S=Math.sqrt(E*E+m*m)||1;i[g].dx-=E*l*S,i[g].dy-=m*l*S}const C=!1;for(let T=0;T<b;T++){const g=x[T],w=i[g],E=Math.sqrt(w.dx*w.dx+w.dy*w.dy);E>d&&(w.dx*=d/E,w.dy*=d/E),y.fromGraph(r,g)?w.fixed=!0:(w.x+=w.dx,w.y+=w.dy,w.fixed=!1)}return{converged:C}},yi}var fr={},Bs;function Sp(){return Bs||(Bs=1,fr.assignLayoutChanges=function(e,t,n){const{nodeXAttribute:r,nodeYAttribute:i}=n;e.updateEachNodeAttributes((o,s)=>{const a=t[o];return!a||a.fixed||(s[r]=a.x,s[i]=a.y),s},{attributes:["x","y"]})},fr.collectLayoutChanges=function(e){const t={};for(const n in e){const r=e[n];t[n]={x:r.x,y:r.y}}return t}),fr}var wi,Hs;function Ap(){return Hs||(Hs=1,wi={nodeXAttribute:"x",nodeYAttribute:"y",isNodeFixed:"fixed",shouldSkipNode:null,shouldSkipEdge:null,settings:{attraction:5e-4,repulsion:.1,gravity:1e-4,inertia:.6,maxMove:200}}),wi}var _i,js;function Rp(){if(js)return _i;js=1;const e=ac(),t=xp(),n=Cp(),r=Sp(),i=Ap();function o(s,a){if(!e(s))throw new Error("graphology-layout-force/worker: the given graph is not a valid graphology instance.");a=t(a,i),this.callbacks={},a.onConverged&&(this.callbacks.onConverged=a.onConverged),this.graph=s,this.params=a,this.nodeStates={},this.frameID=null,this.running=!1,this.killed=!1}return o.prototype.isRunning=function(){return this.running},o.prototype.runFrame=function(){let{converged:s}=n(this.graph,this.nodeStates,this.params);r.assignLayoutChanges(this.graph,this.nodeStates,this.params),s=!1,s?(this.callbacks.onConverged&&this.callbacks.onConverged(),this.stop()):this.frameID=window.requestAnimationFrame(()=>this.runFrame())},o.prototype.stop=function(){return this.running=!1,this.frameID!==null&&(window.cancelAnimationFrame(this.frameID),this.frameID=null),this},o.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-force/worker.start: layout was killed.");this.running||(this.running=!0,this.runFrame())},o.prototype.kill=function(){this.stop(),delete this.nodeStates,this.killed=!0},_i=o,_i}var kp=Rp();const uc=Vu(kp);function Lp(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e){var t=Lp(e,"string");return typeof t=="symbol"?t:t+""}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vn(r.key),r)}}function Ge(e,t,n){return t&&Ws(e.prototype,t),n&&Ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pn(e)}function cc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cc=function(){return!!e})()}function Np(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dp(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Np(e)}function qe(e,t,n){return t=pn(t),Dp(e,cc()?Reflect.construct(t,n||[],pn(e).constructor):t.apply(e,n))}function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ki(e,t)}function Xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ki(e,t)}function Gp(e){if(Array.isArray(e))return e}function Pp(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lc(e,t){if(e){if(typeof e=="string")return Yi(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,t):void 0}}function Mp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mn(e,t){return Gp(e)||Pp(e,t)||lc(e,t)||Mp()}var Ei={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"},fc=new Int8Array(4),xi=new Int32Array(fc.buffer,0,1),Fp=new Float32Array(fc.buffer,0,1),Op=/^\s*rgba?\s*\(/,Ip=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function $p(e){var t=0,n=0,r=0,i=1;if(e[0]==="#")e.length===4?(t=parseInt(e.charAt(1)+e.charAt(1),16),n=parseInt(e.charAt(2)+e.charAt(2),16),r=parseInt(e.charAt(3)+e.charAt(3),16)):(t=parseInt(e.charAt(1)+e.charAt(2),16),n=parseInt(e.charAt(3)+e.charAt(4),16),r=parseInt(e.charAt(5)+e.charAt(6),16)),e.length===9&&(i=parseInt(e.charAt(7)+e.charAt(8),16)/255);else if(Op.test(e)){var o=e.match(Ip);o&&(t=+o[1],n=+o[2],r=+o[3],o[4]&&(i=+o[4]))}return{r:t,g:n,b:r,a:i}}var ln={};for(var dr in Ei)ln[dr]=Cn(Ei[dr]),ln[Ei[dr]]=ln[dr];function dc(e,t,n,r,i){return xi[0]=r<<24|n<<16|t<<8|e,xi[0]=xi[0]&4278190079,Fp[0]}function Cn(e){if(e=e.toLowerCase(),typeof ln[e]<"u")return ln[e];var t=$p(e),n=t.r,r=t.g,i=t.b,o=t.a;o=o*255|0;var s=dc(n,r,i,o);return ln[e]=s,s}var Ti={};function hc(e){if(typeof Ti[e]<"u")return Ti[e];var t=(e&16711680)>>>16,n=(e&65280)>>>8,r=e&255,i=255,o=dc(t,n,r,i);return Ti[e]=o,o}function Vs(e,t,n,r){return n+(t<<8)+(e<<16)}function Ks(e,t,n,r,i,o){var s=Math.floor(n/o*i),a=Math.floor(e.drawingBufferHeight/o-r/o*i),u=new Uint8Array(4);e.bindFramebuffer(e.FRAMEBUFFER,t),e.readPixels(s,a,1,1,e.RGBA,e.UNSIGNED_BYTE,u);var c=mn(u,4),l=c[0],f=c[1],d=c[2],h=c[3];return[l,f,d,h]}function L(e,t,n){return(t=Vn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ys(Object(n),!0).forEach(function(r){L(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zp(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=pn(e))!==null;);return e}function qi(){return qi=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=zp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qi.apply(null,arguments)}function gc(e,t,n,r){var i=qi(pn(e.prototype),t,n);return typeof i=="function"?function(o){return i.apply(n,o)}:i}function Up(e){return e.normalized?1:e.size}function Ci(e){var t=0;return e.forEach(function(n){return t+=Up(n)}),t}function pc(e,t,n){var r=e==="VERTEX"?t.VERTEX_SHADER:t.FRAGMENT_SHADER,i=t.createShader(r);if(i===null)throw new Error("loadShader: error while creating the shader");t.shaderSource(i,n),t.compileShader(i);var o=t.getShaderParameter(i,t.COMPILE_STATUS);if(!o){var s=t.getShaderInfoLog(i);throw t.deleteShader(i),new Error(`loadShader: error while compiling the shader:
`.concat(s,`
`).concat(n))}return i}function Bp(e,t){return pc("VERTEX",e,t)}function Hp(e,t){return pc("FRAGMENT",e,t)}function jp(e,t){var n=e.createProgram();if(n===null)throw new Error("loadProgram: error while creating the program.");var r,i;for(r=0,i=t.length;r<i;r++)e.attachShader(n,t[r]);e.linkProgram(n);var o=e.getProgramParameter(n,e.LINK_STATUS);if(!o)throw e.deleteProgram(n),new Error("loadProgram: error while linking the program.");return n}function qs(e){var t=e.gl,n=e.buffer,r=e.program,i=e.vertexShader,o=e.fragmentShader;t.deleteShader(i),t.deleteShader(o),t.deleteProgram(r),t.deleteBuffer(n)}var Xs=`#define PICKING_MODE
`,Wp=L(L(L(L(L(L(L(L({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4),mc=(function(){function e(t,n,r){De(this,e),L(this,"array",new Float32Array),L(this,"constantArray",new Float32Array),L(this,"capacity",0),L(this,"verticesCount",0);var i=this.getDefinition();if(this.VERTICES=i.VERTICES,this.VERTEX_SHADER_SOURCE=i.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=i.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=i.UNIFORMS,this.ATTRIBUTES=i.ATTRIBUTES,this.METHOD=i.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in i?i.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in i?i.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in i,this.ATTRIBUTES_ITEMS_COUNT=Ci(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=r,this.normalProgram=this.getProgramInfo("normal",t,i.VERTEX_SHADER_SOURCE,i.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=n?this.getProgramInfo("pick",t,Xs+i.VERTEX_SHADER_SOURCE,Xs+i.FRAGMENT_SHADER_SOURCE,n):null,this.isInstanced){var o=Ci(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*o);for(var s=0;s<this.CONSTANT_DATA.length;s++){var a=this.CONSTANT_DATA[s];if(a.length!==o)throw new Error("Program: error while getting constant data (one vector has ".concat(a.length," items instead of ").concat(o,")"));for(var u=0;u<a.length;u++)this.constantArray[s*o+u]=a[u]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return Ge(e,[{key:"kill",value:function(){qs(this.normalProgram),this.pickProgram&&(qs(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(n,r,i,o,s){var a=this.getDefinition(),u=r.createBuffer();if(u===null)throw new Error("Program: error while creating the WebGL buffer.");var c=Bp(r,i),l=Hp(r,o),f=jp(r,[c,l]),d={};a.UNIFORMS.forEach(function(y){var x=r.getUniformLocation(f,y);x&&(d[y]=x)});var h={};a.ATTRIBUTES.forEach(function(y){h[y.name]=r.getAttribLocation(f,y.name)});var v;if("CONSTANT_ATTRIBUTES"in a&&(a.CONSTANT_ATTRIBUTES.forEach(function(y){h[y.name]=r.getAttribLocation(f,y.name)}),v=r.createBuffer(),v===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:n,program:f,gl:r,frameBuffer:s,buffer:u,constantBuffer:v||{},uniformLocations:d,attributeLocations:h,isPicking:n==="pick",vertexShader:c,fragmentShader:l}}},{key:"bindProgram",value:function(n){var r=this,i=0,o=n.gl,s=n.buffer;this.isInstanced?(o.bindBuffer(o.ARRAY_BUFFER,n.constantBuffer),i=0,this.CONSTANT_ATTRIBUTES.forEach(function(a){return i+=r.bindAttribute(a,n,i,!1)}),o.bufferData(o.ARRAY_BUFFER,this.constantArray,o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,n.buffer),i=0,this.ATTRIBUTES.forEach(function(a){return i+=r.bindAttribute(a,n,i,!0)}),o.bufferData(o.ARRAY_BUFFER,this.array,o.DYNAMIC_DRAW)):(o.bindBuffer(o.ARRAY_BUFFER,s),i=0,this.ATTRIBUTES.forEach(function(a){return i+=r.bindAttribute(a,n,i)}),o.bufferData(o.ARRAY_BUFFER,this.array,o.DYNAMIC_DRAW)),o.bindBuffer(o.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(n){var r=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(i){return r.unbindAttribute(i,n,!1)}),this.ATTRIBUTES.forEach(function(i){return r.unbindAttribute(i,n,!0)})):this.ATTRIBUTES.forEach(function(i){return r.unbindAttribute(i,n)})}},{key:"bindAttribute",value:function(n,r,i,o){var s=Wp[n.type];if(typeof s!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(n.type,'"'));var a=r.attributeLocations[n.name],u=r.gl;if(a!==-1){u.enableVertexAttribArray(a);var c=this.isInstanced?(o?this.ATTRIBUTES_ITEMS_COUNT:Ci(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(u.vertexAttribPointer(a,n.size,n.type,n.normalized||!1,c,i),this.isInstanced&&o)if(u instanceof WebGL2RenderingContext)u.vertexAttribDivisor(a,1);else{var l=u.getExtension("ANGLE_instanced_arrays");l&&l.vertexAttribDivisorANGLE(a,1)}}return n.size*s}},{key:"unbindAttribute",value:function(n,r,i){var o=r.attributeLocations[n.name],s=r.gl;if(o!==-1&&(s.disableVertexAttribArray(o),this.isInstanced&&i))if(s instanceof WebGL2RenderingContext)s.vertexAttribDivisor(o,0);else{var a=s.getExtension("ANGLE_instanced_arrays");a&&a.vertexAttribDivisorANGLE(o,0)}}},{key:"reallocate",value:function(n){n!==this.capacity&&(this.capacity=n,this.verticesCount=this.VERTICES*n,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(n,r){var i=r.gl,o=r.program;i.enable(i.BLEND),i.useProgram(o),this.setUniforms(n,r),this.drawWebGL(this.METHOD,r)}},{key:"render",value:function(n){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,n.width*n.pixelRatio/n.downSizingRatio,n.height*n.pixelRatio/n.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(j(j({},n),{},{pixelRatio:n.pixelRatio/n.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,n.width*n.pixelRatio,n.height*n.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(n,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(n,r){var i=r.gl,o=r.frameBuffer;if(i.bindFramebuffer(i.FRAMEBUFFER,o),!this.isInstanced)i.drawArrays(n,0,this.verticesCount);else if(i instanceof WebGL2RenderingContext)i.drawArraysInstanced(n,0,this.VERTICES,this.capacity);else{var s=i.getExtension("ANGLE_instanced_arrays");s&&s.drawArraysInstancedANGLE(n,0,this.VERTICES,this.capacity)}}}])})(),Vp=(function(e){function t(){return De(this,t),qe(this,t,arguments)}return Xe(t,e),Ge(t,[{key:"kill",value:function(){gc(t,"kill",this)([])}},{key:"process",value:function(r,i,o){var s=i*this.STRIDE;if(o.hidden){for(var a=s+this.STRIDE;s<a;s++)this.array[s]=0;return}return this.processVisibleItem(hc(r),s,o)}}])})(mc),Wr=(function(e){function t(){var n;De(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qe(this,t,[].concat(i)),L(n,"drawLabel",void 0),n}return Xe(t,e),Ge(t,[{key:"kill",value:function(){gc(t,"kill",this)([])}},{key:"process",value:function(r,i,o,s,a){var u=i*this.STRIDE;if(a.hidden||o.hidden||s.hidden){for(var c=u+this.STRIDE;u<c;u++)this.array[u]=0;return}return this.processVisibleItem(hc(r),u,o,s,a)}}])})(mc);function Kp(e,t){return(function(){function n(r,i,o){De(this,n),L(this,"drawLabel",t),this.programs=e.map(function(s){return new s(r,i,o)})}return Ge(n,[{key:"reallocate",value:function(i){this.programs.forEach(function(o){return o.reallocate(i)})}},{key:"process",value:function(i,o,s,a,u){this.programs.forEach(function(c){return c.process(i,o,s,a,u)})}},{key:"render",value:function(i){this.programs.forEach(function(o){return o.render(i)})}},{key:"kill",value:function(){this.programs.forEach(function(i){return i.kill()})}}])})()}function Yp(e,t,n,r,i){var o=i.edgeLabelSize,s=i.edgeLabelFont,a=i.edgeLabelWeight,u=i.edgeLabelColor.attribute?t[i.edgeLabelColor.attribute]||i.edgeLabelColor.color||"#000":i.edgeLabelColor.color,c=t.label;if(c){e.fillStyle=u,e.font="".concat(a," ").concat(o,"px ").concat(s);var l=n.size,f=r.size,d=n.x,h=n.y,v=r.x,y=r.y,x=(d+v)/2,b=(h+y)/2,C=v-d,T=y-h,g=Math.sqrt(C*C+T*T);if(!(g<l+f)){d+=C*l/g,h+=T*l/g,v-=C*f/g,y-=T*f/g,x=(d+v)/2,b=(h+y)/2,C=v-d,T=y-h,g=Math.sqrt(C*C+T*T);var w=e.measureText(c).width;if(w>g){var E="";for(c=c+E,w=e.measureText(c).width;w>g&&c.length>1;)c=c.slice(0,-2)+E,w=e.measureText(c).width;if(c.length<4)return}var m;C>0?T>0?m=Math.acos(C/g):m=Math.asin(T/g):T>0?m=Math.acos(C/g)+Math.PI:m=Math.asin(C/g)+Math.PI/2,e.save(),e.translate(x,b),e.rotate(m),e.fillText(c,-w/2,t.size/2+o),e.restore()}}}function vc(e,t,n){if(t.label){var r=n.labelSize,i=n.labelFont,o=n.labelWeight,s=n.labelColor.attribute?t[n.labelColor.attribute]||n.labelColor.color||"#000":n.labelColor.color;e.fillStyle=s,e.font="".concat(o," ").concat(r,"px ").concat(i),e.fillText(t.label,t.x+t.size+3,t.y+r/3)}}function qp(e,t,n){var r=n.labelSize,i=n.labelFont,o=n.labelWeight;e.font="".concat(o," ").concat(r,"px ").concat(i),e.fillStyle="#FFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor="#000";var s=2;if(typeof t.label=="string"){var a=e.measureText(t.label).width,u=Math.round(a+5),c=Math.round(r+2*s),l=Math.max(t.size,r/2)+s,f=Math.asin(c/2/l),d=Math.sqrt(Math.abs(Math.pow(l,2)-Math.pow(c/2,2)));e.beginPath(),e.moveTo(t.x+d,t.y+c/2),e.lineTo(t.x+l+u,t.y+c/2),e.lineTo(t.x+l+u,t.y-c/2),e.lineTo(t.x+d,t.y-c/2),e.arc(t.x,t.y,l,f,-f),e.closePath(),e.fill()}else e.beginPath(),e.arc(t.x,t.y,t.size+s,0,Math.PI*2),e.closePath(),e.fill();e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,vc(e,t,n)}var Xp=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Zp=Xp,Jp=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Qp=Jp,bc=WebGLRenderingContext,Zs=bc.UNSIGNED_BYTE,Si=bc.FLOAT,em=["u_sizeRatio","u_correctionRatio","u_matrix"],Vr=(function(e){function t(){return De(this,t),qe(this,t,arguments)}return Xe(t,e),Ge(t,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Qp,FRAGMENT_SHADER_SOURCE:Zp,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:em,ATTRIBUTES:[{name:"a_position",size:2,type:Si},{name:"a_size",size:1,type:Si},{name:"a_color",size:4,type:Zs,normalized:!0},{name:"a_id",size:4,type:Zs,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:Si}],CONSTANT_DATA:[[t.ANGLE_1],[t.ANGLE_2],[t.ANGLE_3]]}}},{key:"processVisibleItem",value:function(r,i,o){var s=this.array,a=Cn(o.color);s[i++]=o.x,s[i++]=o.y,s[i++]=o.size,s[i++]=a,s[i++]=r}},{key:"setUniforms",value:function(r,i){var o=i.gl,s=i.uniformLocations,a=s.u_sizeRatio,u=s.u_correctionRatio,c=s.u_matrix;o.uniform1f(u,r.correctionRatio),o.uniform1f(a,r.sizeRatio),o.uniformMatrix3fv(c,!1,r.matrix)}}])})(Vp);L(Vr,"ANGLE_1",0);L(Vr,"ANGLE_2",2*Math.PI/3);L(Vr,"ANGLE_3",4*Math.PI/3);var tm=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,nm=tm,rm=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,im=rm,yc=WebGLRenderingContext,Js=yc.UNSIGNED_BYTE,hr=yc.FLOAT,om=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],Kr={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function wc(e){var t=j(j({},Kr),{});return(function(n){function r(){return De(this,r),qe(this,r,arguments)}return Xe(r,n),Ge(r,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:im,FRAGMENT_SHADER_SOURCE:nm,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:om,ATTRIBUTES:[{name:"a_position",size:2,type:hr},{name:"a_normal",size:2,type:hr},{name:"a_radius",size:1,type:hr},{name:"a_color",size:4,type:Js,normalized:!0},{name:"a_id",size:4,type:Js,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:hr}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(o,s,a,u,c){if(t.extremity==="source"){var l=[u,a];a=l[0],u=l[1]}var f=c.size||1,d=u.size||1,h=a.x,v=a.y,y=u.x,x=u.y,b=Cn(c.color),C=y-h,T=x-v,g=C*C+T*T,w=0,E=0;g&&(g=1/Math.sqrt(g),w=-T*g*f,E=C*g*f);var m=this.array;m[s++]=y,m[s++]=x,m[s++]=-w,m[s++]=-E,m[s++]=d,m[s++]=b,m[s++]=o}},{key:"setUniforms",value:function(o,s){var a=s.gl,u=s.uniformLocations,c=u.u_matrix,l=u.u_sizeRatio,f=u.u_correctionRatio,d=u.u_minEdgeThickness,h=u.u_lengthToThicknessRatio,v=u.u_widenessToThicknessRatio;a.uniformMatrix3fv(c,!1,o.matrix),a.uniform1f(l,o.sizeRatio),a.uniform1f(f,o.correctionRatio),a.uniform1f(d,o.minEdgeThickness),a.uniform1f(h,t.lengthToThicknessRatio),a.uniform1f(v,t.widenessToThicknessRatio)}}])})(Wr)}wc();var sm=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,_c=sm,am=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,um=am,Ec=WebGLRenderingContext,Qs=Ec.UNSIGNED_BYTE,Vt=Ec.FLOAT,cm=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],lm={lengthToThicknessRatio:Kr.lengthToThicknessRatio};function xc(e){var t=j(j({},lm),{});return(function(n){function r(){return De(this,r),qe(this,r,arguments)}return Xe(r,n),Ge(r,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:um,FRAGMENT_SHADER_SOURCE:_c,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:cm,ATTRIBUTES:[{name:"a_positionStart",size:2,type:Vt},{name:"a_positionEnd",size:2,type:Vt},{name:"a_normal",size:2,type:Vt},{name:"a_color",size:4,type:Qs,normalized:!0},{name:"a_id",size:4,type:Qs,normalized:!0},{name:"a_radius",size:1,type:Vt}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:Vt},{name:"a_normalCoef",size:1,type:Vt},{name:"a_radiusCoef",size:1,type:Vt}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(o,s,a,u,c){var l=c.size||1,f=a.x,d=a.y,h=u.x,v=u.y,y=Cn(c.color),x=h-f,b=v-d,C=u.size||1,T=x*x+b*b,g=0,w=0;T&&(T=1/Math.sqrt(T),g=-b*T*l,w=x*T*l);var E=this.array;E[s++]=f,E[s++]=d,E[s++]=h,E[s++]=v,E[s++]=g,E[s++]=w,E[s++]=y,E[s++]=o,E[s++]=C}},{key:"setUniforms",value:function(o,s){var a=s.gl,u=s.uniformLocations,c=u.u_matrix,l=u.u_zoomRatio,f=u.u_feather,d=u.u_pixelRatio,h=u.u_correctionRatio,v=u.u_sizeRatio,y=u.u_minEdgeThickness,x=u.u_lengthToThicknessRatio;a.uniformMatrix3fv(c,!1,o.matrix),a.uniform1f(l,o.zoomRatio),a.uniform1f(v,o.sizeRatio),a.uniform1f(h,o.correctionRatio),a.uniform1f(d,o.pixelRatio),a.uniform1f(f,o.antiAliasingFeather),a.uniform1f(y,o.minEdgeThickness),a.uniform1f(x,t.lengthToThicknessRatio)}}])})(Wr)}xc();function fm(e){return Kp([xc(),wc()])}var dm=fm(),Tc=dm,hm=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,gm=hm,Cc=WebGLRenderingContext,ea=Cc.UNSIGNED_BYTE,Dn=Cc.FLOAT,pm=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],mm=(function(e){function t(){return De(this,t),qe(this,t,arguments)}return Xe(t,e),Ge(t,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:gm,FRAGMENT_SHADER_SOURCE:_c,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:pm,ATTRIBUTES:[{name:"a_positionStart",size:2,type:Dn},{name:"a_positionEnd",size:2,type:Dn},{name:"a_normal",size:2,type:Dn},{name:"a_color",size:4,type:ea,normalized:!0},{name:"a_id",size:4,type:ea,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:Dn},{name:"a_normalCoef",size:1,type:Dn}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(r,i,o,s,a){var u=a.size||1,c=o.x,l=o.y,f=s.x,d=s.y,h=Cn(a.color),v=f-c,y=d-l,x=v*v+y*y,b=0,C=0;x&&(x=1/Math.sqrt(x),b=-y*x*u,C=v*x*u);var T=this.array;T[i++]=c,T[i++]=l,T[i++]=f,T[i++]=d,T[i++]=b,T[i++]=C,T[i++]=h,T[i++]=r}},{key:"setUniforms",value:function(r,i){var o=i.gl,s=i.uniformLocations,a=s.u_matrix,u=s.u_zoomRatio,c=s.u_feather,l=s.u_pixelRatio,f=s.u_correctionRatio,d=s.u_sizeRatio,h=s.u_minEdgeThickness;o.uniformMatrix3fv(a,!1,r.matrix),o.uniform1f(u,r.zoomRatio),o.uniform1f(d,r.sizeRatio),o.uniform1f(f,r.correctionRatio),o.uniform1f(l,r.pixelRatio),o.uniform1f(c,r.antiAliasingFeather),o.uniform1f(h,r.minEdgeThickness)}}])})(Wr),Io=(function(e){function t(){var n;return De(this,t),n=qe(this,t),n.rawEmitter=n,n}return Xe(t,e),Ge(t)})(Ku.EventEmitter),vm=ac();const bm=Vu(vm);var ym=function(t){return t},wm=function(t){return t*t},_m=function(t){return t*(2-t)},Em=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},xm=function(t){return t*t*t},Tm=function(t){return--t*t*t+1},Cm=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},Sm={linear:ym,quadraticIn:wm,quadraticOut:_m,quadraticInOut:Em,cubicIn:xm,cubicOut:Tm,cubicInOut:Cm},Am={easing:"quadraticInOut",duration:150};function Je(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function gr(e,t,n){return e[0]=t,e[4]=typeof n=="number"?n:t,e}function ta(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[3]=-n,e[4]=r,e}function na(e,t,n){return e[6]=t,e[7]=n,e}function Pt(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=t[0],d=t[1],h=t[2],v=t[3],y=t[4],x=t[5],b=t[6],C=t[7],T=t[8];return e[0]=f*n+d*o+h*u,e[1]=f*r+d*s+h*c,e[2]=f*i+d*a+h*l,e[3]=v*n+y*o+x*u,e[4]=v*r+y*s+x*c,e[5]=v*i+y*a+x*l,e[6]=b*n+C*o+T*u,e[7]=b*r+C*s+T*c,e[8]=b*i+C*a+T*l,e}function Xi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=e[0],i=e[1],o=e[3],s=e[4],a=e[6],u=e[7],c=t.x,l=t.y;return{x:c*r+l*o+a*n,y:c*i+l*s+u*n}}function Rm(e,t){var n=e.height/e.width,r=t.height/t.width;return n<1&&r>1||n>1&&r<1?1:Math.min(Math.max(r,1/r),Math.max(1/n,n))}function Gn(e,t,n,r,i){var o=e.angle,s=e.ratio,a=e.x,u=e.y,c=t.width,l=t.height,f=Je(),d=Math.min(c,l)-2*r,h=Rm(t,n);return i?(Pt(f,na(Je(),a,u)),Pt(f,gr(Je(),s)),Pt(f,ta(Je(),o)),Pt(f,gr(Je(),c/d/2/h,l/d/2/h))):(Pt(f,gr(Je(),2*(d/c)*h,2*(d/l)*h)),Pt(f,ta(Je(),-o)),Pt(f,gr(Je(),1/s)),Pt(f,na(Je(),-a,-u))),f}function km(e,t,n){var r=Xi(e,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),i=r.x,o=r.y;return 1/Math.sqrt(Math.pow(i,2)+Math.pow(o,2))/n.width}function Lm(e){if(!e.order)return{x:[0,1],y:[0,1]};var t=1/0,n=-1/0,r=1/0,i=-1/0;return e.forEachNode(function(o,s){var a=s.x,u=s.y;a<t&&(t=a),a>n&&(n=a),u<r&&(r=u),u>i&&(i=u)}),{x:[t,n],y:[r,i]}}function Nm(e){if(!bm(e))throw new Error("Sigma: invalid graph instance.");e.forEachNode(function(t,n){if(!Number.isFinite(n.x)||!Number.isFinite(n.y))throw new Error("Sigma: Coordinates of node ".concat(t," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function Dm(e,t,n){var r=document.createElement(e);if(t)for(var i in t)r.style[i]=t[i];if(n)for(var o in n)r.setAttribute(o,n[o]);return r}function ra(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function ia(e,t,n){return n.sort(function(r,i){var o=t(r)||0,s=t(i)||0;return o<s?-1:o>s?1:0})}function oa(e){var t=mn(e.x,2),n=t[0],r=t[1],i=mn(e.y,2),o=i[0],s=i[1],a=Math.max(r-n,s-o),u=(r+n)/2,c=(s+o)/2;(a===0||Math.abs(a)===1/0||isNaN(a))&&(a=1),isNaN(u)&&(u=0),isNaN(c)&&(c=0);var l=function(d){return{x:.5+(d.x-u)/a,y:.5+(d.y-c)/a}};return l.applyTo=function(f){f.x=.5+(f.x-u)/a,f.y=.5+(f.y-c)/a},l.inverse=function(f){return{x:u+a*(f.x-.5),y:c+a*(f.y-.5)}},l.ratio=a,l}function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function sa(e,t){var n=t.size;if(n!==0){var r=e.length;e.length+=n;var i=0;t.forEach(function(o){e[r+i]=o,i++})}}function Ai(e){e=e||{};for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;t++){var r=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];r&&Object.assign(e,r)}return e}var $o={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:Yp,defaultDrawNodeLabel:vc,defaultDrawNodeHover:qp,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},Gm={circle:Vr},Pm={arrow:Tc,line:mm};function Ri(e){if(typeof e.labelDensity!="number"||e.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=e.minCameraRatio,n=e.maxCameraRatio;if(typeof t=="number"&&typeof n=="number"&&n<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function Mm(e){var t=Ai({},$o,e);return t.nodeProgramClasses=Ai({},Gm,t.nodeProgramClasses),t.edgeProgramClasses=Ai({},Pm,t.edgeProgramClasses),t}var pr=1.5,aa=(function(e){function t(){var n;return De(this,t),n=qe(this,t),L(n,"x",.5),L(n,"y",.5),L(n,"angle",0),L(n,"ratio",1),L(n,"minRatio",null),L(n,"maxRatio",null),L(n,"enabledZooming",!0),L(n,"enabledPanning",!0),L(n,"enabledRotation",!0),L(n,"clean",null),L(n,"nextFrame",null),L(n,"previousState",null),L(n,"enabled",!0),n.previousState=n.getState(),n}return Xe(t,e),Ge(t,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(r){return this.x===r.x&&this.y===r.y&&this.ratio===r.ratio&&this.angle===r.angle}},{key:"getPreviousState",value:function(){var r=this.previousState;return r?{x:r.x,y:r.y,angle:r.angle,ratio:r.ratio}:null}},{key:"getBoundedRatio",value:function(r){var i=r;return typeof this.minRatio=="number"&&(i=Math.max(i,this.minRatio)),typeof this.maxRatio=="number"&&(i=Math.min(i,this.maxRatio)),i}},{key:"validateState",value:function(r){var i={};return this.enabledPanning&&typeof r.x=="number"&&(i.x=r.x),this.enabledPanning&&typeof r.y=="number"&&(i.y=r.y),this.enabledZooming&&typeof r.ratio=="number"&&(i.ratio=this.getBoundedRatio(r.ratio)),this.enabledRotation&&typeof r.angle=="number"&&(i.angle=r.angle),this.clean?this.clean(j(j({},this.getState()),i)):i}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(r){if(!this.enabled)return this;this.previousState=this.getState();var i=this.validateState(r);return typeof i.x=="number"&&(this.x=i.x),typeof i.y=="number"&&(this.y=i.y),typeof i.ratio=="number"&&(this.ratio=i.ratio),typeof i.angle=="number"&&(this.angle=i.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(r){return this.setState(r(this.getState())),this}},{key:"animate",value:function(r){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(!s)return new Promise(function(h){return i.animate(r,o,h)});if(this.enabled){var a=j(j({},Am),o),u=this.validateState(r),c=typeof a.easing=="function"?a.easing:Sm[a.easing],l=Date.now(),f=this.getState(),d=function(){var v=(Date.now()-l)/a.duration;if(v>=1){i.nextFrame=null,i.setState(u),i.animationCallback&&(i.animationCallback.call(null),i.animationCallback=void 0);return}var y=c(v),x={};typeof u.x=="number"&&(x.x=f.x+(u.x-f.x)*y),typeof u.y=="number"&&(x.y=f.y+(u.y-f.y)*y),i.enabledRotation&&typeof u.angle=="number"&&(x.angle=f.angle+(u.angle-f.angle)*y),typeof u.ratio=="number"&&(x.ratio=f.ratio+(u.ratio-f.ratio)*y),i.setState(x),i.nextFrame=requestAnimationFrame(d)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(d)):d(),this.animationCallback=s}}},{key:"animatedZoom",value:function(r){return r?typeof r=="number"?this.animate({ratio:this.ratio/r}):this.animate({ratio:this.ratio/(r.factor||pr)},r):this.animate({ratio:this.ratio/pr})}},{key:"animatedUnzoom",value:function(r){return r?typeof r=="number"?this.animate({ratio:this.ratio*r}):this.animate({ratio:this.ratio*(r.factor||pr)},r):this.animate({ratio:this.ratio*pr})}},{key:"animatedReset",value:function(r){return this.animate({x:.5,y:.5,ratio:1,angle:0},r)}},{key:"copy",value:function(){return t.from(this.getState())}}],[{key:"from",value:function(r){var i=new t;return i.setState(r)}}])})(Io);function Qe(e,t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function _t(e,t){var n=j(j({},Qe(e,t)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){n.sigmaDefaultPrevented=!0},original:e});return n}function Pn(e){var t="x"in e?e:j(j({},e.touches[0]||e.previousTouches[0]),{},{original:e.original,sigmaDefaultPrevented:e.sigmaDefaultPrevented,preventSigmaDefault:function(){e.sigmaDefaultPrevented=!0,t.sigmaDefaultPrevented=!0}});return t}function Fm(e,t){return j(j({},_t(e,t)),{},{delta:Sc(e)})}var Om=2;function yr(e){for(var t=[],n=0,r=Math.min(e.length,Om);n<r;n++)t.push(e[n]);return t}function Mn(e,t,n){var r={touches:yr(e.touches).map(function(i){return Qe(i,n)}),previousTouches:t.map(function(i){return Qe(i,n)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){r.sigmaDefaultPrevented=!0},original:e};return r}function Sc(e){if(typeof e.deltaY<"u")return e.deltaY*-3/360;if(typeof e.detail<"u")return e.detail/-9;throw new Error("Captor: could not extract delta from event.")}var Ac=(function(e){function t(n,r){var i;return De(this,t),i=qe(this,t),i.container=n,i.renderer=r,i}return Xe(t,e),Ge(t)})(Io),Im=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],$m=Im.reduce(function(e,t){return j(j({},e),{},L({},t,$o[t]))},{}),zm=(function(e){function t(n,r){var i;return De(this,t),i=qe(this,t,[n,r]),L(i,"enabled",!0),L(i,"draggedEvents",0),L(i,"downStartTime",null),L(i,"lastMouseX",null),L(i,"lastMouseY",null),L(i,"isMouseDown",!1),L(i,"isMoving",!1),L(i,"movingTimeout",null),L(i,"startCameraState",null),L(i,"clicks",0),L(i,"doubleClickTimeout",null),L(i,"currentWheelDirection",0),L(i,"settings",$m),i.handleClick=i.handleClick.bind(i),i.handleRightClick=i.handleRightClick.bind(i),i.handleDown=i.handleDown.bind(i),i.handleUp=i.handleUp.bind(i),i.handleMove=i.handleMove.bind(i),i.handleWheel=i.handleWheel.bind(i),i.handleLeave=i.handleLeave.bind(i),i.handleEnter=i.handleEnter.bind(i),n.addEventListener("click",i.handleClick,{capture:!1}),n.addEventListener("contextmenu",i.handleRightClick,{capture:!1}),n.addEventListener("mousedown",i.handleDown,{capture:!1}),n.addEventListener("wheel",i.handleWheel,{capture:!1}),n.addEventListener("mouseleave",i.handleLeave,{capture:!1}),n.addEventListener("mouseenter",i.handleEnter,{capture:!1}),document.addEventListener("mousemove",i.handleMove,{capture:!1}),document.addEventListener("mouseup",i.handleUp,{capture:!1}),i}return Xe(t,e),Ge(t,[{key:"kill",value:function(){var r=this.container;r.removeEventListener("click",this.handleClick),r.removeEventListener("contextmenu",this.handleRightClick),r.removeEventListener("mousedown",this.handleDown),r.removeEventListener("wheel",this.handleWheel),r.removeEventListener("mouseleave",this.handleLeave),r.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(r){var i=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(r);setTimeout(function(){i.clicks=0,i.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",_t(r,this.container))}}},{key:"handleRightClick",value:function(r){this.enabled&&this.emit("rightClick",_t(r,this.container))}},{key:"handleDoubleClick",value:function(r){if(this.enabled){r.preventDefault(),r.stopPropagation();var i=_t(r,this.container);if(this.emit("doubleClick",i),!i.sigmaDefaultPrevented){var o=this.renderer.getCamera(),s=o.getBoundedRatio(o.getState().ratio/this.settings.doubleClickZoomingRatio);o.animate(this.renderer.getViewportZoomedState(Qe(r,this.container),s),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(r){if(this.enabled){if(r.button===0){this.startCameraState=this.renderer.getCamera().getState();var i=Qe(r,this.container),o=i.x,s=i.y;this.lastMouseX=o,this.lastMouseY=s,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",_t(r,this.container))}}},{key:"handleUp",value:function(r){var i=this;if(!(!this.enabled||!this.isMouseDown)){var o=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var s=Qe(r,this.container),a=s.x,u=s.y,c=o.getState(),l=o.getPreviousState()||{x:0,y:0};this.isMoving?o.animate({x:c.x+this.settings.inertiaRatio*(c.x-l.x),y:c.y+this.settings.inertiaRatio*(c.y-l.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==a||this.lastMouseY!==u)&&o.setState({x:c.x,y:c.y}),this.isMoving=!1,setTimeout(function(){var f=i.draggedEvents>0;i.draggedEvents=0,f&&i.renderer.getSetting("hideEdgesOnMove")&&i.renderer.refresh()},0),this.emit("mouseup",_t(r,this.container))}}},{key:"handleMove",value:function(r){var i=this;if(this.enabled){var o=_t(r,this.container);if(this.emit("mousemovebody",o),(r.target===this.container||r.composedPath()[0]===this.container)&&this.emit("mousemove",o),!o.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){i.movingTimeout=null,i.isMoving=!1},this.settings.dragTimeout);var s=this.renderer.getCamera(),a=Qe(r,this.container),u=a.x,c=a.y,l=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),f=this.renderer.viewportToFramedGraph({x:u,y:c}),d=l.x-f.x,h=l.y-f.y,v=s.getState(),y=v.x+d,x=v.y+h;s.setState({x:y,y:x}),this.lastMouseX=u,this.lastMouseY=c,r.preventDefault(),r.stopPropagation()}}}},{key:"handleLeave",value:function(r){this.emit("mouseleave",_t(r,this.container))}},{key:"handleEnter",value:function(r){this.emit("mouseenter",_t(r,this.container))}},{key:"handleWheel",value:function(r){var i=this,o=this.renderer.getCamera();if(!(!this.enabled||!o.enabledZooming)){var s=Sc(r);if(s){var a=Fm(r,this.container);if(this.emit("wheel",a),a.sigmaDefaultPrevented){r.preventDefault(),r.stopPropagation();return}var u=o.getState().ratio,c=s>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,l=o.getBoundedRatio(u*c),f=s>0?1:-1,d=Date.now();u!==l&&(r.preventDefault(),r.stopPropagation(),!(this.currentWheelDirection===f&&this.lastWheelTriggerTime&&d-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(o.animate(this.renderer.getViewportZoomedState(Qe(r,this.container),l),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){i.currentWheelDirection=0}),this.currentWheelDirection=f,this.lastWheelTriggerTime=d))}}}},{key:"setSettings",value:function(r){this.settings=r}}])})(Ac),Um=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],Bm=Um.reduce(function(e,t){return j(j({},e),{},L({},t,$o[t]))},{}),Hm=(function(e){function t(n,r){var i;return De(this,t),i=qe(this,t,[n,r]),L(i,"enabled",!0),L(i,"isMoving",!1),L(i,"hasMoved",!1),L(i,"touchMode",0),L(i,"startTouchesPositions",[]),L(i,"lastTouches",[]),L(i,"lastTap",null),L(i,"settings",Bm),i.handleStart=i.handleStart.bind(i),i.handleLeave=i.handleLeave.bind(i),i.handleMove=i.handleMove.bind(i),n.addEventListener("touchstart",i.handleStart,{capture:!1}),n.addEventListener("touchcancel",i.handleLeave,{capture:!1}),document.addEventListener("touchend",i.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",i.handleMove,{capture:!1,passive:!1}),i}return Xe(t,e),Ge(t,[{key:"kill",value:function(){var r=this.container;r.removeEventListener("touchstart",this.handleStart),r.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(r){var i=this;if(this.enabled){r.preventDefault();var o=yr(r.touches);if(this.touchMode=o.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=o.map(function(h){return Qe(h,i.container)}),this.touchMode===2){var s=mn(this.startTouchesPositions,2),a=s[0],u=a.x,c=a.y,l=s[1],f=l.x,d=l.y;this.startTouchesAngle=Math.atan2(d-c,f-u),this.startTouchesDistance=Math.sqrt(Math.pow(f-u,2)+Math.pow(d-c,2))}this.emit("touchdown",Mn(r,this.lastTouches,this.container)),this.lastTouches=o,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(r){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(r.cancelable&&r.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(r.touches.length===1){this.handleStart(r),r.preventDefault();break}case 1:if(this.isMoving){var i=this.renderer.getCamera(),o=i.getState(),s=i.getPreviousState()||{x:0,y:0};i.animate({x:o.x+this.settings.inertiaRatio*(o.x-s.x),y:o.y+this.settings.inertiaRatio*(o.y-s.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",Mn(r,this.lastTouches,this.container)),!r.touches.length){var a=Qe(this.lastTouches[0],this.container),u=this.startTouchesPositions[0],c=Math.pow(a.x-u.x,2)+Math.pow(a.y-u.y,2);if(!r.touches.length&&c<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var l=Mn(r,this.lastTouches,this.container);if(this.emit("doubletap",l),this.lastTap=null,!l.sigmaDefaultPrevented){var f=this.renderer.getCamera(),d=f.getBoundedRatio(f.getState().ratio/this.settings.doubleClickZoomingRatio);f.animate(this.renderer.getViewportZoomedState(a,d),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var h=Mn(r,this.lastTouches,this.container);this.emit("tap",h),this.lastTap={time:Date.now(),position:h.touches[0]||h.previousTouches[0]}}}this.lastTouches=yr(r.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(r){var i=this;if(!(!this.enabled||!this.startTouchesPositions.length)){r.preventDefault();var o=yr(r.touches),s=o.map(function(pe){return Qe(pe,i.container)}),a=this.lastTouches;this.lastTouches=o,this.lastTouchesPositions=s;var u=Mn(r,a,this.container);if(this.emit("touchmove",u),!u.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=s.some(function(pe,me){var be=i.startTouchesPositions[me];return be&&(pe.x!==be.x||pe.y!==be.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){i.isMoving=!1},this.settings.dragTimeout);var c=this.renderer.getCamera(),l=this.startCameraState,f=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var d=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),h=d.x,v=d.y,y=this.renderer.viewportToFramedGraph(s[0]),x=y.x,b=y.y;c.setState({x:l.x+h-x,y:l.y+v-b});break}case 2:{var C={x:.5,y:.5,angle:0,ratio:1},T=s[0],g=T.x,w=T.y,E=s[1],m=E.x,S=E.y,k=Math.atan2(S-w,m-g)-this.startTouchesAngle,R=Math.hypot(S-w,m-g)/this.startTouchesDistance,O=c.getBoundedRatio(l.ratio/R);C.ratio=O,C.angle=l.angle+k;var $=this.getDimensions(),W=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:l}),ie=Math.min($.width,$.height)-2*f,fe=ie/$.width,re=ie/$.height,oe=O/ie,te=g-ie/2/fe,ve=w-ie/2/re,Te=[te*Math.cos(-C.angle)-ve*Math.sin(-C.angle),ve*Math.cos(-C.angle)+te*Math.sin(-C.angle)];te=Te[0],ve=Te[1],C.x=W.x-te*oe,C.y=W.y+ve*oe,c.setState(C);break}}}}}},{key:"setSettings",value:function(r){this.settings=r}}])})(Ac);function jm(e){if(Array.isArray(e))return Yi(e)}function Wm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ua(e){return jm(e)||Wm(e)||lc(e)||Vm()}function Km(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ki(e,t){if(e==null)return{};var n,r,i=Km(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ca=(function(){function e(t,n){De(this,e),this.key=t,this.size=n}return Ge(e,null,[{key:"compare",value:function(n,r){return n.size>r.size?-1:n.size<r.size||n.key>r.key?1:-1}}])})(),la=(function(){function e(){De(this,e),L(this,"width",0),L(this,"height",0),L(this,"cellSize",0),L(this,"columns",0),L(this,"rows",0),L(this,"cells",{})}return Ge(e,[{key:"resizeAndClear",value:function(n,r){this.width=n.width,this.height=n.height,this.cellSize=r,this.columns=Math.ceil(n.width/r),this.rows=Math.ceil(n.height/r),this.cells={}}},{key:"getIndex",value:function(n){var r=Math.floor(n.x/this.cellSize),i=Math.floor(n.y/this.cellSize);return i*this.columns+r}},{key:"add",value:function(n,r,i){var o=new ca(n,r),s=this.getIndex(i),a=this.cells[s];a||(a=[],this.cells[s]=a),a.push(o)}},{key:"organize",value:function(){for(var n in this.cells){var r=this.cells[n];r.sort(ca.compare)}}},{key:"getLabelsToDisplay",value:function(n,r){var i=this.cellSize*this.cellSize,o=i/n/n,s=o*r/i,a=Math.ceil(s),u=[];for(var c in this.cells)for(var l=this.cells[c],f=0;f<Math.min(a,l.length);f++)u.push(l[f].key);return u}}])})();function Ym(e){var t=e.graph,n=e.hoveredNode,r=e.highlightedNodes,i=e.displayedNodeLabels,o=[];return t.forEachEdge(function(s,a,u,c){(u===n||c===n||r.has(u)||r.has(c)||i.has(u)&&i.has(c))&&o.push(s)}),o}var fa=150,da=50,St=Object.prototype.hasOwnProperty;function qm(e,t,n){if(!St.call(n,"x")||!St.call(n,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return n.color||(n.color=e.defaultNodeColor),!n.label&&n.label!==""&&(n.label=null),n.label!==void 0&&n.label!==null?n.label=""+n.label:n.label=null,n.size||(n.size=2),St.call(n,"hidden")||(n.hidden=!1),St.call(n,"highlighted")||(n.highlighted=!1),St.call(n,"forceLabel")||(n.forceLabel=!1),(!n.type||n.type==="")&&(n.type=e.defaultNodeType),n.zIndex||(n.zIndex=0),n}function Xm(e,t,n){return n.color||(n.color=e.defaultEdgeColor),n.label||(n.label=""),n.size||(n.size=.5),St.call(n,"hidden")||(n.hidden=!1),St.call(n,"forceLabel")||(n.forceLabel=!1),(!n.type||n.type==="")&&(n.type=e.defaultEdgeType),n.zIndex||(n.zIndex=0),n}var Zm=(function(e){function t(n,r){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(De(this,t),i=qe(this,t),L(i,"elements",{}),L(i,"canvasContexts",{}),L(i,"webGLContexts",{}),L(i,"pickingLayers",new Set),L(i,"textures",{}),L(i,"frameBuffers",{}),L(i,"activeListeners",{}),L(i,"labelGrid",new la),L(i,"nodeDataCache",{}),L(i,"edgeDataCache",{}),L(i,"nodeProgramIndex",{}),L(i,"edgeProgramIndex",{}),L(i,"nodesWithForcedLabels",new Set),L(i,"edgesWithForcedLabels",new Set),L(i,"nodeExtent",{x:[0,1],y:[0,1]}),L(i,"nodeZExtent",[1/0,-1/0]),L(i,"edgeZExtent",[1/0,-1/0]),L(i,"matrix",Je()),L(i,"invMatrix",Je()),L(i,"correctionRatio",1),L(i,"customBBox",null),L(i,"normalizationFunction",oa({x:[0,1],y:[0,1]})),L(i,"graphToViewportRatio",1),L(i,"itemIDsIndex",{}),L(i,"nodeIndices",{}),L(i,"edgeIndices",{}),L(i,"width",0),L(i,"height",0),L(i,"pixelRatio",ra()),L(i,"pickingDownSizingRatio",2*i.pixelRatio),L(i,"displayedNodeLabels",new Set),L(i,"displayedEdgeLabels",new Set),L(i,"highlightedNodes",new Set),L(i,"hoveredNode",null),L(i,"hoveredEdge",null),L(i,"renderFrame",null),L(i,"renderHighlightedNodesFrame",null),L(i,"needToProcess",!1),L(i,"checkEdgesEventsFrame",null),L(i,"nodePrograms",{}),L(i,"nodeHoverPrograms",{}),L(i,"edgePrograms",{}),i.settings=Mm(o),Ri(i.settings),Nm(n),!(r instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");i.graph=n,i.container=r,i.createWebGLContext("edges",{picking:o.enableEdgeEvents}),i.createCanvasContext("edgeLabels"),i.createWebGLContext("nodes",{picking:!0}),i.createCanvasContext("labels"),i.createCanvasContext("hovers"),i.createWebGLContext("hoverNodes"),i.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),i.resize();for(var s in i.settings.nodeProgramClasses)i.registerNodeProgram(s,i.settings.nodeProgramClasses[s],i.settings.nodeHoverProgramClasses[s]);for(var a in i.settings.edgeProgramClasses)i.registerEdgeProgram(a,i.settings.edgeProgramClasses[a]);return i.camera=new aa,i.bindCameraHandlers(),i.mouseCaptor=new zm(i.elements.mouse,i),i.mouseCaptor.setSettings(i.settings),i.touchCaptor=new Hm(i.elements.mouse,i),i.touchCaptor.setSettings(i.settings),i.bindEventHandlers(),i.bindGraphHandlers(),i.handleSettingsUpdate(),i.refresh(),i}return Xe(t,e),Ge(t,[{key:"registerNodeProgram",value:function(r,i,o){return this.nodePrograms[r]&&this.nodePrograms[r].kill(),this.nodeHoverPrograms[r]&&this.nodeHoverPrograms[r].kill(),this.nodePrograms[r]=new i(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[r]=new(o||i)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(r,i){return this.edgePrograms[r]&&this.edgePrograms[r].kill(),this.edgePrograms[r]=new i(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(r){if(this.nodePrograms[r]){var i=this.nodePrograms,o=i[r],s=ki(i,[r].map(Vn));o.kill(),this.nodePrograms=s}if(this.nodeHoverPrograms[r]){var a=this.nodeHoverPrograms,u=a[r],c=ki(a,[r].map(Vn));u.kill(),this.nodePrograms=c}return this}},{key:"unregisterEdgeProgram",value:function(r){if(this.edgePrograms[r]){var i=this.edgePrograms,o=i[r],s=ki(i,[r].map(Vn));o.kill(),this.edgePrograms=s}return this}},{key:"resetWebGLTexture",value:function(r){var i=this.webGLContexts[r],o=this.frameBuffers[r],s=this.textures[r];s&&i.deleteTexture(s);var a=i.createTexture();return i.bindFramebuffer(i.FRAMEBUFFER,o),i.bindTexture(i.TEXTURE_2D,a),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.width,this.height,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,a,0),this.textures[r]=a,this}},{key:"bindCameraHandlers",value:function(){var r=this;return this.activeListeners.camera=function(){r.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(r){var i=r.x,o=r.y,s=Ks(this.webGLContexts.nodes,this.frameBuffers.nodes,i,o,this.pixelRatio,this.pickingDownSizingRatio),a=Vs.apply(void 0,ua(s)),u=this.itemIDsIndex[a];return u&&u.type==="node"?u.id:null}},{key:"bindEventHandlers",value:function(){var r=this;this.activeListeners.handleResize=function(){r.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(o){var s=Pn(o),a={event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}},u=r.getNodeAtPosition(s);if(u&&r.hoveredNode!==u&&!r.nodeDataCache[u].hidden){r.hoveredNode&&r.emit("leaveNode",j(j({},a),{},{node:r.hoveredNode})),r.hoveredNode=u,r.emit("enterNode",j(j({},a),{},{node:u})),r.scheduleHighlightedNodesRender();return}if(r.hoveredNode&&r.getNodeAtPosition(s)!==r.hoveredNode){var c=r.hoveredNode;r.hoveredNode=null,r.emit("leaveNode",j(j({},a),{},{node:c})),r.scheduleHighlightedNodesRender();return}if(r.settings.enableEdgeEvents){var l=r.hoveredNode?null:r.getEdgeAtPoint(a.event.x,a.event.y);l!==r.hoveredEdge&&(r.hoveredEdge&&r.emit("leaveEdge",j(j({},a),{},{edge:r.hoveredEdge})),l&&r.emit("enterEdge",j(j({},a),{},{edge:l})),r.hoveredEdge=l)}},this.activeListeners.handleMoveBody=function(o){var s=Pn(o);r.emit("moveBody",{event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(o){var s=Pn(o),a={event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}};r.hoveredNode&&(r.emit("leaveNode",j(j({},a),{},{node:r.hoveredNode})),r.scheduleHighlightedNodesRender()),r.settings.enableEdgeEvents&&r.hoveredEdge&&(r.emit("leaveEdge",j(j({},a),{},{edge:r.hoveredEdge})),r.scheduleHighlightedNodesRender()),r.emit("leaveStage",j({},a))},this.activeListeners.handleEnter=function(o){var s=Pn(o),a={event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}};r.emit("enterStage",j({},a))};var i=function(s){return function(a){var u=Pn(a),c={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},l=r.getNodeAtPosition(u);if(l)return r.emit("".concat(s,"Node"),j(j({},c),{},{node:l}));if(r.settings.enableEdgeEvents){var f=r.getEdgeAtPoint(u.x,u.y);if(f)return r.emit("".concat(s,"Edge"),j(j({},c),{},{edge:f}))}return r.emit("".concat(s,"Stage"),c)}};return this.activeListeners.handleClick=i("click"),this.activeListeners.handleRightClick=i("rightClick"),this.activeListeners.handleDoubleClick=i("doubleClick"),this.activeListeners.handleWheel=i("wheel"),this.activeListeners.handleDown=i("down"),this.activeListeners.handleUp=i("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var r=this,i=this.graph,o=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(s){var a,u=(a=s.hints)===null||a===void 0?void 0:a.attributes;r.graph.forEachNode(function(l){return r.updateNode(l)});var c=!u||u.some(function(l){return o.has(l)});r.refresh({partialGraph:{nodes:i.nodes()},skipIndexation:!c,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(s){var a,u=(a=s.hints)===null||a===void 0?void 0:a.attributes;r.graph.forEachEdge(function(l){return r.updateEdge(l)});var c=u&&["zIndex","type"].some(function(l){return u?.includes(l)});r.refresh({partialGraph:{edges:i.edges()},skipIndexation:!c,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(s){var a=s.key;r.addNode(a),r.refresh({partialGraph:{nodes:[a]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(s){var a=s.key;r.refresh({partialGraph:{nodes:[a]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(s){var a=s.key;r.removeNode(a),r.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(s){var a=s.key;r.addEdge(a),r.refresh({partialGraph:{edges:[a]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(s){var a=s.key;r.refresh({partialGraph:{edges:[a]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(s){var a=s.key;r.removeEdge(a),r.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){r.clearEdgeState(),r.clearEdgeIndices(),r.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){r.clearEdgeState(),r.clearNodeState(),r.clearEdgeIndices(),r.clearNodeIndices(),r.refresh({schedule:!0})},i.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),i.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),i.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),i.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),i.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),i.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),i.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),i.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),i.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),i.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var r=this.graph;r.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),r.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),r.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),r.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),r.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),r.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),r.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),r.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),r.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),r.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(r,i){var o=Ks(this.webGLContexts.edges,this.frameBuffers.edges,r,i,this.pixelRatio,this.pickingDownSizingRatio),s=Vs.apply(void 0,ua(o)),a=this.itemIDsIndex[s];return a&&a.type==="edge"?a.id:null}},{key:"process",value:function(){var r=this;this.emit("beforeProcess");var i=this.graph,o=this.settings,s=this.getDimensions();if(this.nodeExtent=Lm(this.graph),!this.settings.autoRescale){var a=s.width,u=s.height,c=this.nodeExtent,l=c.x,f=c.y;this.nodeExtent={x:[(l[0]+l[1])/2-a/2,(l[0]+l[1])/2+a/2],y:[(f[0]+f[1])/2-u/2,(f[0]+f[1])/2+u/2]}}this.normalizationFunction=oa(this.customBBox||this.nodeExtent);var d=new aa,h=Gn(d.getState(),s,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(s,o.labelGridCellSize);for(var v={},y={},x={},b={},C=1,T=i.nodes(),g=0,w=T.length;g<w;g++){var E=T[g],m=this.nodeDataCache[E],S=i.getNodeAttributes(E);m.x=S.x,m.y=S.y,this.normalizationFunction.applyTo(m),typeof m.label=="string"&&!m.hidden&&this.labelGrid.add(E,m.size,this.framedGraphToViewport(m,{matrix:h})),v[m.type]=(v[m.type]||0)+1}this.labelGrid.organize();for(var k in this.nodePrograms){if(!St.call(this.nodePrograms,k))throw new Error('Sigma: could not find a suitable program for node type "'.concat(k,'"!'));this.nodePrograms[k].reallocate(v[k]||0),v[k]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(T=ia(this.nodeZExtent,function(pt){return r.nodeDataCache[pt].zIndex},T));for(var R=0,O=T.length;R<O;R++){var $=T[R];y[$]=C,b[y[$]]={type:"node",id:$},C++;var W=this.nodeDataCache[$];this.addNodeToProgram($,y[$],v[W.type]++)}for(var ie={},fe=i.edges(),re=0,oe=fe.length;re<oe;re++){var te=fe[re],ve=this.edgeDataCache[te];ie[ve.type]=(ie[ve.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(fe=ia(this.edgeZExtent,function(pt){return r.edgeDataCache[pt].zIndex},fe));for(var Te in this.edgePrograms){if(!St.call(this.edgePrograms,Te))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(Te,'"!'));this.edgePrograms[Te].reallocate(ie[Te]||0),ie[Te]=0}for(var pe=0,me=fe.length;pe<me;pe++){var be=fe[pe];x[be]=C,b[x[be]]={type:"edge",id:be},C++;var Jt=this.edgeDataCache[be];this.addEdgeToProgram(be,x[be],ie[Jt.type]++)}return this.itemIDsIndex=b,this.nodeIndices=y,this.edgeIndices=x,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(r){var i=this,o=this.settings;if(this.camera.minRatio=o.minCameraRatio,this.camera.maxRatio=o.maxCameraRatio,this.camera.enabledZooming=o.enableCameraZooming,this.camera.enabledPanning=o.enableCameraPanning,this.camera.enabledRotation=o.enableCameraRotation,o.cameraPanBoundaries?this.camera.clean=function(l){return i.cleanCameraState(l,o.cameraPanBoundaries&&Zi(o.cameraPanBoundaries)==="object"?o.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),r){if(r.edgeProgramClasses!==o.edgeProgramClasses){for(var s in o.edgeProgramClasses)o.edgeProgramClasses[s]!==r.edgeProgramClasses[s]&&this.registerEdgeProgram(s,o.edgeProgramClasses[s]);for(var a in r.edgeProgramClasses)o.edgeProgramClasses[a]||this.unregisterEdgeProgram(a)}if(r.nodeProgramClasses!==o.nodeProgramClasses||r.nodeHoverProgramClasses!==o.nodeHoverProgramClasses){for(var u in o.nodeProgramClasses)(o.nodeProgramClasses[u]!==r.nodeProgramClasses[u]||o.nodeHoverProgramClasses[u]!==r.nodeHoverProgramClasses[u])&&this.registerNodeProgram(u,o.nodeProgramClasses[u],o.nodeHoverProgramClasses[u]);for(var c in r.nodeProgramClasses)o.nodeProgramClasses[c]||this.unregisterNodeProgram(c)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.tolerance,s=o===void 0?0:o,a=i.boundaries,u=j({},r),c=a||this.nodeExtent,l=mn(c.x,2),f=l[0],d=l[1],h=mn(c.y,2),v=h[0],y=h[1],x=[this.graphToViewport({x:f,y:v},{cameraState:r}),this.graphToViewport({x:d,y:v},{cameraState:r}),this.graphToViewport({x:f,y},{cameraState:r}),this.graphToViewport({x:d,y},{cameraState:r})],b=1/0,C=-1/0,T=1/0,g=-1/0;x.forEach(function(ie){var fe=ie.x,re=ie.y;b=Math.min(b,fe),C=Math.max(C,fe),T=Math.min(T,re),g=Math.max(g,re)});var w=C-b,E=g-T,m=this.getDimensions(),S=m.width,k=m.height,R=0,O=0;if(w>=S?C<S-s?R=C-(S-s):b>s&&(R=b-s):C>S+s?R=C-(S+s):b<-s&&(R=b+s),E>=k?g<k-s?O=g-(k-s):T>s&&(O=T-s):g>k+s?O=g-(k+s):T<-s&&(O=T+s),R||O){var $=this.viewportToFramedGraph({x:0,y:0},{cameraState:r}),W=this.viewportToFramedGraph({x:R,y:O},{cameraState:r});R=W.x-$.x,O=W.y-$.y,u.x+=R,u.y+=O}return u}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var r=this.camera.getState(),i=this.labelGrid.getLabelsToDisplay(r.ratio,this.settings.labelDensity);sa(i,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var o=this.canvasContexts.labels,s=0,a=i.length;s<a;s++){var u=i[s],c=this.nodeDataCache[u];if(!this.displayedNodeLabels.has(u)&&!c.hidden){var l=this.framedGraphToViewport(c),f=l.x,d=l.y,h=this.scaleSize(c.size);if(!(!c.forceLabel&&h<this.settings.labelRenderedSizeThreshold)&&!(f<-fa||f>this.width+fa||d<-da||d>this.height+da)){this.displayedNodeLabels.add(u);var v=this.settings.defaultDrawNodeLabel,y=this.nodePrograms[c.type],x=y?.drawLabel||v;x(o,j(j({key:u},c),{},{size:h,x:f,y:d}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var r=this.canvasContexts.edgeLabels;r.clearRect(0,0,this.width,this.height);var i=Ym({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});sa(i,this.edgesWithForcedLabels);for(var o=new Set,s=0,a=i.length;s<a;s++){var u=i[s],c=this.graph.extremities(u),l=this.nodeDataCache[c[0]],f=this.nodeDataCache[c[1]],d=this.edgeDataCache[u];if(!o.has(u)&&!(d.hidden||l.hidden||f.hidden)){var h=this.settings.defaultDrawEdgeLabel,v=this.edgePrograms[d.type],y=v?.drawLabel||h;y(r,j(j({key:u},d),{},{size:this.scaleSize(d.size)}),j(j(j({key:c[0]},l),this.framedGraphToViewport(l)),{},{size:this.scaleSize(l.size)}),j(j(j({key:c[1]},f),this.framedGraphToViewport(f)),{},{size:this.scaleSize(f.size)}),this.settings),o.add(u)}}return this.displayedEdgeLabels=o,this}},{key:"renderHighlightedNodes",value:function(){var r=this,i=this.canvasContexts.hovers;i.clearRect(0,0,this.width,this.height);var o=function(h){var v=r.nodeDataCache[h],y=r.framedGraphToViewport(v),x=y.x,b=y.y,C=r.scaleSize(v.size),T=r.settings.defaultDrawNodeHover,g=r.nodePrograms[v.type],w=g?.drawHover||T;w(i,j(j({key:h},v),{},{size:C,x,y:b}),r.settings)},s=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&s.push(this.hoveredNode),this.highlightedNodes.forEach(function(d){d!==r.hoveredNode&&s.push(d)}),s.forEach(function(d){return o(d)});var a={};s.forEach(function(d){var h=r.nodeDataCache[d].type;a[h]=(a[h]||0)+1});for(var u in this.nodeHoverPrograms)this.nodeHoverPrograms[u].reallocate(a[u]||0),a[u]=0;s.forEach(function(d){var h=r.nodeDataCache[d];r.nodeHoverPrograms[h.type].process(0,a[h.type]++,h)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var c=this.getRenderParams();for(var l in this.nodeHoverPrograms){var f=this.nodeHoverPrograms[l];f.render(c)}}},{key:"scheduleHighlightedNodesRender",value:function(){var r=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){r.renderHighlightedNodesFrame=null,r.renderHighlightedNodes(),r.renderEdgeLabels()}))}},{key:"render",value:function(){var r=this;this.emit("beforeRender");var i=function(){return r.emit("afterRender"),r};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(x){return r.resetWebGLTexture(x)}),!this.graph.order)return i();var o=this.mouseCaptor,s=this.camera.isAnimated()||o.isMoving||o.draggedEvents||o.currentWheelDirection,a=this.camera.getState(),u=this.getDimensions(),c=this.getGraphDimensions(),l=this.getStagePadding();this.matrix=Gn(a,u,c,l),this.invMatrix=Gn(a,u,c,l,!0),this.correctionRatio=km(this.matrix,a,u),this.graphToViewportRatio=this.getGraphToViewportRatio();var f=this.getRenderParams();for(var d in this.nodePrograms){var h=this.nodePrograms[d];h.render(f)}if(!this.settings.hideEdgesOnMove||!s)for(var v in this.edgePrograms){var y=this.edgePrograms[v];y.render(f)}return this.settings.hideLabelsOnMove&&s||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),i()}},{key:"addNode",value:function(r){var i=Object.assign({},this.graph.getNodeAttributes(r));this.settings.nodeReducer&&(i=this.settings.nodeReducer(r,i));var o=qm(this.settings,r,i);this.nodeDataCache[r]=o,this.nodesWithForcedLabels.delete(r),o.forceLabel&&!o.hidden&&this.nodesWithForcedLabels.add(r),this.highlightedNodes.delete(r),o.highlighted&&!o.hidden&&this.highlightedNodes.add(r),this.settings.zIndex&&(o.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=o.zIndex),o.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=o.zIndex))}},{key:"updateNode",value:function(r){this.addNode(r);var i=this.nodeDataCache[r];this.normalizationFunction.applyTo(i)}},{key:"removeNode",value:function(r){delete this.nodeDataCache[r],delete this.nodeProgramIndex[r],this.highlightedNodes.delete(r),this.hoveredNode===r&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(r)}},{key:"addEdge",value:function(r){var i=Object.assign({},this.graph.getEdgeAttributes(r));this.settings.edgeReducer&&(i=this.settings.edgeReducer(r,i));var o=Xm(this.settings,r,i);this.edgeDataCache[r]=o,this.edgesWithForcedLabels.delete(r),o.forceLabel&&!o.hidden&&this.edgesWithForcedLabels.add(r),this.settings.zIndex&&(o.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=o.zIndex),o.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=o.zIndex))}},{key:"updateEdge",value:function(r){this.addEdge(r)}},{key:"removeEdge",value:function(r){delete this.edgeDataCache[r],delete this.edgeProgramIndex[r],this.hoveredEdge===r&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(r)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new la,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0],this.highlightedNodes=new Set}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(r,i,o){var s=this.nodeDataCache[r],a=this.nodePrograms[s.type];if(!a)throw new Error('Sigma: could not find a suitable program for node type "'.concat(s.type,'"!'));a.process(i,o,s),this.nodeProgramIndex[r]=o}},{key:"addEdgeToProgram",value:function(r,i,o){var s=this.edgeDataCache[r],a=this.edgePrograms[s.type];if(!a)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(s.type,'"!'));var u=this.graph.extremities(r),c=this.nodeDataCache[u[0]],l=this.nodeDataCache[u[1]];a.process(i,o,c,l,s),this.edgeProgramIndex[r]=o}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var r=this.settings,i=r.stagePadding,o=r.autoRescale;return o&&i||0}},{key:"createLayer",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[r])throw new Error('Sigma: a layer named "'.concat(r,'" already exists'));var s=Dm(i,{position:"absolute"},{class:"sigma-".concat(r)});return o.style&&Object.assign(s.style,o.style),this.elements[r]=s,"beforeLayer"in o&&o.beforeLayer?this.elements[o.beforeLayer].before(s):"afterLayer"in o&&o.afterLayer?this.elements[o.afterLayer].after(s):this.container.appendChild(s),s}},{key:"createCanvas",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(r,"canvas",i)}},{key:"createCanvasContext",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createCanvas(r,i),s={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[r]=o.getContext("2d",s),this}},{key:"createWebGLContext",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i?.canvas||this.createCanvas(r,i);i.hidden&&o.remove();var s=j({preserveDrawingBuffer:!1,antialias:!1},i),a;a=o.getContext("webgl2",s),a||(a=o.getContext("webgl",s)),a||(a=o.getContext("experimental-webgl",s));var u=a;if(this.webGLContexts[r]=u,u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),i.picking){this.pickingLayers.add(r);var c=u.createFramebuffer();if(!c)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(r));this.frameBuffers[r]=c}return u}},{key:"killLayer",value:function(r){var i=this.elements[r];if(!i)throw new Error("Sigma: cannot kill layer ".concat(r,", which does not exist"));if(this.webGLContexts[r]){var o,s=this.webGLContexts[r];(o=s.getExtension("WEBGL_lose_context"))===null||o===void 0||o.loseContext(),delete this.webGLContexts[r]}else this.canvasContexts[r]&&delete this.canvasContexts[r];return i.remove(),delete this.elements[r],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(r){this.unbindCameraHandlers(),this.camera=r,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(r){r!==this.graph&&(this.hoveredNode&&!r.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!r.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=r,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var r=this.customBBox||this.nodeExtent;return{width:r.x[1]-r.x[0]||1,height:r.y[1]-r.y[0]||1}}},{key:"getNodeDisplayData",value:function(r){var i=this.nodeDataCache[r];return i?Object.assign({},i):void 0}},{key:"getEdgeDisplayData",value:function(r){var i=this.edgeDataCache[r];return i?Object.assign({},i):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return j({},this.settings)}},{key:"getSetting",value:function(r){return this.settings[r]}},{key:"setSetting",value:function(r,i){var o=j({},this.settings);return this.settings[r]=i,Ri(this.settings),this.handleSettingsUpdate(o),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(r,i){return this.setSetting(r,i(this.settings[r])),this}},{key:"setSettings",value:function(r){var i=j({},this.settings);return this.settings=j(j({},this.settings),r),Ri(this.settings),this.handleSettingsUpdate(i),this.scheduleRefresh(),this}},{key:"resize",value:function(r){var i=this.width,o=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=ra(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!r&&i===this.width&&o===this.height)return this;for(var s in this.elements){var a=this.elements[s];a.style.width=this.width+"px",a.style.height=this.height+"px"}for(var u in this.canvasContexts)this.elements[u].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[u].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[u].scale(this.pixelRatio,this.pixelRatio);for(var c in this.webGLContexts){this.elements[c].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[c].setAttribute("height",this.height*this.pixelRatio+"px");var l=this.webGLContexts[c];if(l.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(c)){var f=this.textures[c];f&&l.deleteTexture(f)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(r){var i=this,o=r?.skipIndexation!==void 0?r?.skipIndexation:!1,s=r?.schedule!==void 0?r.schedule:!1,a=!r||!r.partialGraph;if(a)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(g){return i.addNode(g)}),this.graph.forEachEdge(function(g){return i.addEdge(g)});else{for(var u,c,l=((u=r.partialGraph)===null||u===void 0?void 0:u.nodes)||[],f=0,d=l?.length||0;f<d;f++){var h=l[f];if(this.updateNode(h),o){var v=this.nodeProgramIndex[h];if(v===void 0)throw new Error('Sigma: node "'.concat(h,`" can't be repaint`));this.addNodeToProgram(h,this.nodeIndices[h],v)}}for(var y=(r==null||(c=r.partialGraph)===null||c===void 0?void 0:c.edges)||[],x=0,b=y.length;x<b;x++){var C=y[x];if(this.updateEdge(C),o){var T=this.edgeProgramIndex[C];if(T===void 0)throw new Error('Sigma: edge "'.concat(C,`" can't be repaint`));this.addEdgeToProgram(C,this.edgeIndices[C],T)}}}return(a||!o)&&(this.needToProcess=!0),s?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var r=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){r.render()})),this}},{key:"scheduleRefresh",value:function(r){return this.refresh(j(j({},r),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(r,i){var o=this.camera.getState(),s=o.ratio,a=o.angle,u=o.x,c=o.y,l=this.settings,f=l.minCameraRatio,d=l.maxCameraRatio;typeof d=="number"&&(i=Math.min(i,d)),typeof f=="number"&&(i=Math.max(i,f));var h=i/s,v={x:this.width/2,y:this.height/2},y=this.viewportToFramedGraph(r),x=this.viewportToFramedGraph(v);return{angle:a,x:(y.x-x.x)*(1-h)+u,y:(y.y-x.y)*(1-h)+c,ratio:i}}},{key:"viewRectangle",value:function(){var r=this.viewportToFramedGraph({x:0,y:0}),i=this.viewportToFramedGraph({x:this.width,y:0}),o=this.viewportToFramedGraph({x:0,y:this.height});return{x1:r.x,y1:r.y,x2:i.x,y2:i.y,height:i.y-o.y}}},{key:"framedGraphToViewport",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=!!i.cameraState||!!i.viewportDimensions||!!i.graphDimensions,s=i.matrix?i.matrix:o?Gn(i.cameraState||this.camera.getState(),i.viewportDimensions||this.getDimensions(),i.graphDimensions||this.getGraphDimensions(),i.padding||this.getStagePadding()):this.matrix,a=Xi(s,r);return{x:(1+a.x)*this.width/2,y:(1-a.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=!!i.cameraState||!!i.viewportDimensions||!i.graphDimensions,s=i.matrix?i.matrix:o?Gn(i.cameraState||this.camera.getState(),i.viewportDimensions||this.getDimensions(),i.graphDimensions||this.getGraphDimensions(),i.padding||this.getStagePadding(),!0):this.invMatrix,a=Xi(s,{x:r.x/this.width*2-1,y:1-r.y/this.height*2});return isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0),a}},{key:"viewportToGraph",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(r,i))}},{key:"graphToViewport",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(r),i)}},{key:"getGraphToViewportRatio",value:function(){var r={x:0,y:0},i={x:1,y:1},o=Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2)),s=this.graphToViewport(r),a=this.graphToViewport(i),u=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2));return u/o}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(r){return this.customBBox=r,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var r=this.container;r.firstChild;)r.removeChild(r.firstChild);for(var i in this.nodePrograms)this.nodePrograms[i].kill();for(var o in this.nodeHoverPrograms)this.nodeHoverPrograms[o].kill();for(var s in this.edgePrograms)this.edgePrograms[s].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var a in this.elements)this.killLayer(a);this.canvasContexts={},this.webGLContexts={},this.elements={}}},{key:"scaleSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return r/this.settings.zoomToSizeRatioFunction(i)*(this.getSetting("itemSizesReference")==="positions"?i*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var r={};for(var i in this.elements)this.elements[i]instanceof HTMLCanvasElement&&(r[i]=this.elements[i]);return r}}])})(Io),Rc=Zm;const Ce=[];for(let e=0;e<256;++e)Ce.push((e+256).toString(16).slice(1));function Jm(e,t=0){return(Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]).toLowerCase()}let Li;const Qm=new Uint8Array(16);function e0(){if(!Li){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Li=crypto.getRandomValues.bind(crypto)}return Li(Qm)}const t0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ha={randomUUID:t0};function n0(e,t,n){e=e||{};const r=e.random??e.rng?.()??e0();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Jm(r)}function kc(e,t,n){return ha.randomUUID&&!e?ha.randomUUID():n0(e)}const r0="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='7'%20cy='7'%20r='5'%20fill='lightgray'/%3e%3cpath%20d='M7.82251%206.99999L9.91668%204.92332C10.0281%204.81038%2010.09%204.65782%2010.0889%204.4992C10.0878%204.34057%2010.0238%204.18888%209.91085%204.07749C9.79791%203.9661%209.64535%203.90413%209.48672%203.90523C9.3281%203.90632%209.1764%203.97038%209.06501%204.08332L7.00001%206.17749L4.93501%204.12415C4.82572%204.01551%204.67787%203.95453%204.52376%203.95453C4.36966%203.95453%204.22181%204.01551%204.11251%204.12415C4.05784%204.17838%204.01444%204.2429%203.98483%204.31398C3.95521%204.38507%203.93996%204.46131%203.93996%204.53832C3.93996%204.61533%203.95521%204.69157%203.98483%204.76266C4.01444%204.83374%204.05784%204.89826%204.11251%204.95249L6.17751%206.99999L4.08335%209.07665C3.97196%209.18959%203.90999%209.34215%203.91109%209.50078C3.91218%209.6594%203.97624%209.8111%204.08918%209.92249C4.20212%2010.0339%204.35468%2010.0958%204.51331%2010.0947C4.67193%2010.0937%204.82362%2010.0296%204.93501%209.91665L7.00001%207.82249L9.06501%209.87582C9.17431%209.98447%209.32216%2010.0455%209.47626%2010.0455C9.63037%2010.0455%209.77822%209.98447%209.88751%209.87582C9.94219%209.82159%209.98559%209.75707%2010.0152%209.68599C10.0448%209.61491%2010.0601%209.53866%2010.0601%209.46165C10.0601%209.38465%2010.0448%209.3084%2010.0152%209.23732C9.98559%209.16623%209.94219%209.10172%209.88751%209.04749L7.82251%206.99999Z'%20fill='red'/%3e%3c/svg%3e",i0={class:"flex"},o0=vo({__name:"FirstTask",setup(e){const t=()=>{const r=document.getElementById("sigma-container");if(!r){console.error("Sigma container not found");return}const i=new le;i.addNode("n1",{x:0,y:0,size:10,color:J.random().hex(),status:200}),i.addNode("n2",{x:-5,y:5,size:10,color:J.random().hex(),status:200}),i.addNode("n3",{x:5,y:5,size:10,color:J.random().hex(),status:400}),i.addNode("n4",{x:0,y:10,size:10,color:J.random().hex(),status:200}),i.addEdge("n1","n2"),i.addEdge("n2","n4"),i.addEdge("n4","n3"),i.addEdge("n3","n1");const o=new uc(i,{isNodeFixed:(b,C)=>C.highlighted});o.start();const s=(b,C,T)=>{const g=b.getNodeAttribute(C,"status")||200,w=b.getNodeAttribute(T,"status")||200;return g===400||w===400?400:200},a=b=>{b.forEachEdge((C,T,g,w)=>{const E=s(b,g,w);b.setEdgeAttribute(C,"status",E)})};a(i);const u=new Rc(i,r,{minCameraRatio:.5,maxCameraRatio:2,allowInvalidContainer:!0,nodeReducer:(b,C)=>{const T=C.status===200;return{...C,color:T?"green":"red"}},edgeReducer:(b,C)=>{const g=(C.status||200)===400;return{...C,color:g?"red":"green",size:g?3:1}}}),c=document.createElement("canvas"),l=c.getContext("2d");c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.pointerEvents="none",r.style.position="relative",r.appendChild(c);const f=()=>{const b=r.querySelector("canvas");b&&(c.width=b.width,c.height=b.height,c.style.width=b.style.width,c.style.height=b.style.height)},d=new Image;d.src=r0;const h=()=>{f(),l.clearRect(0,0,c.width,c.height),i.forEachEdge((b,C,T,g)=>{if(C.status===200)return;const w=46,E=i.getNodeAttributes(T),m=i.getNodeAttributes(g),S=u.graphToViewport({x:E.x,y:E.y}),k=u.graphToViewport({x:m.x,y:m.y}),R=(S.x+k.x)/2,O=(S.y+k.y)/2,$=R-w/2,W=O-w/2;d.complete?l.drawImage(d,$,W,w,w):l.fillText("X",R,O)})};let v=null,y=!1;u.on("downNode",b=>{y=!0,v=b.node,i.setNodeAttribute(v,"highlighted",!0),u.getCustomBBox()||u.setCustomBBox(u.getBBox())}),u.on("moveBody",({event:b})=>{if(!y||!v)return;const C=u.viewportToGraph(b);i.setNodeAttribute(v,"x",C.x),i.setNodeAttribute(v,"y",C.y),b.preventSigmaDefault(),b.original.preventDefault(),b.original.stopPropagation()});const x=()=>{v&&i.removeNodeAttribute(v,"highlighted"),y=!1,v=null};return u.on("upNode",x),u.on("upStage",x),u.on("clickStage",({event:b})=>{const T={...u.viewportToGraph({x:b.x,y:b.y}),size:8,color:J.random().hex(),status:Math.random()>.5?200:400},g=i.nodes().map(E=>{const m=i.getNodeAttributes(E),S=Math.pow(T.x-m.x,2)+Math.pow(T.y-m.y,2);return{nodeId:E,distance:S}}).sort((E,m)=>E.distance-m.distance).slice(0,2),w=kc();i.addNode(w,T),g.forEach(E=>i.addEdge(w,E.nodeId)),a(i)}),u.on("afterRender",h),()=>{o.stop(),u.kill()}};let n=null;return bo(()=>{const r=t();r&&(n=r)}),$r(()=>{n&&n()}),(r,i)=>(Cr(),_o("div",i0,[...i[0]||(i[0]=[ft("div",{id:"sigma-container"},null,-1),ft("p",null,[Ui(" !    .    ,        - (200  400).     ,    ,     ,   (     updateAllEdgeStatuses)      , ..      -   (   ).          .        ,    . "),ft("br"),ft("br"),Ui('         .          .      "@sigma/node-image"  .      - position absolut.            ,      (  \\ ).         . ')],-1)])]))}}),zo=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},ga=zo(o0,[["__scopeId","data-v-a80ed97e"]]);function s0(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(e){var t=s0(e,"string");return typeof t=="symbol"?t:t+""}function Nc(e,t,n){return(t=Lc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(n),!0).forEach(function(r){Nc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lc(r.key),r)}}function c0(e,t,n){return t&&u0(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(e)}function Dc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dc=function(){return!!e})()}function Gc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l0(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gc(e)}function f0(e,t,n){return t=Nr(t),l0(e,Dc()?Reflect.construct(t,n||[],Nr(e).constructor):t.apply(e,n))}function Ji(e,t){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ji(e,t)}function d0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ji(e,t)}function Qi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h0(e){if(Array.isArray(e))return Qi(e)}function g0(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p0(e,t){if(e){if(typeof e=="string")return Qi(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(e,t):void 0}}function m0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ni(e){return h0(e)||g0(e)||p0(e)||m0()}function Pc(e,t,n,r){var i=Math.pow(1-e,2)*t.x+2*(1-e)*e*n.x+Math.pow(e,2)*r.x,o=Math.pow(1-e,2)*t.y+2*(1-e)*e*n.y+Math.pow(e,2)*r.y;return{x:i,y:o}}function v0(e,t,n){for(var r=20,i=0,o=e,s=0;s<r;s++){var a=Pc((s+1)/r,e,t,n);i+=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),o=a}return i}function b0(e){var t=e.curvatureAttribute,n=e.defaultCurvature,r=e.keepLabelUpright,i=r===void 0?!0:r;return function(o,s,a,u,c){var l=c.edgeLabelSize,f=s[t]||n,d=c.edgeLabelFont,h=c.edgeLabelWeight,v=c.edgeLabelColor.attribute?s[c.edgeLabelColor.attribute]||c.edgeLabelColor.color||"#000":c.edgeLabelColor.color,y=s.label;if(y){o.fillStyle=v,o.font="".concat(h," ").concat(l,"px ").concat(d);var x=!i||a.x<u.x,b=x?a.x:u.x,C=x?a.y:u.y,T=x?u.x:a.x,g=x?u.y:a.y,w=(b+T)/2,E=(C+g)/2,m=T-b,S=g-C,k=Math.sqrt(Math.pow(m,2)+Math.pow(S,2)),R=x?1:-1,O=w+S*f*R,$=E-m*f*R,W=s.size*.7+5,ie={x:$-C,y:-(O-b)},fe=Math.sqrt(Math.pow(ie.x,2)+Math.pow(ie.y,2)),re={x:g-$,y:-(T-O)},oe=Math.sqrt(Math.pow(re.x,2)+Math.pow(re.y,2));b+=W*ie.x/fe,C+=W*ie.y/fe,T+=W*re.x/oe,g+=W*re.y/oe,O+=W*S/k,$-=W*m/k;var te={x:O,y:$},ve={x:b,y:C},Te={x:T,y:g},pe=v0(ve,te,Te);if(!(pe<a.size+u.size)){var me=o.measureText(y).width,be=pe-a.size-u.size;if(me>be){var Jt="";for(y=y+Jt,me=o.measureText(y).width;me>be&&y.length>1;)y=y.slice(0,-2)+Jt,me=o.measureText(y).width;if(y.length<4)return}for(var pt={},mt=0,Qt=y.length;mt<Qt;mt++){var Ht=y[mt];pt[Ht]||(pt[Ht]=o.measureText(Ht).width*(1+f*.35))}for(var vt=.5-me/pe/2,bt=0,Bo=y.length;bt<Bo;bt++){var p=y[bt],_=Pc(vt,ve,te,Te),A=2*(1-vt)*(O-b)+2*vt*(T-O),G=2*(1-vt)*($-C)+2*vt*(g-$),N=Math.atan2(G,A);o.save(),o.translate(_.x,_.y),o.rotate(N),o.fillText(p,0,0),o.restore(),vt+=pt[p]/pe}}}}}function y0(e){var t=e.arrowHead,n=t?.extremity==="target"||t?.extremity==="both",r=t?.extremity==="source"||t?.extremity==="both",i=`
precision highp float;

varying vec4 v_color;
varying float v_thickness;
varying float v_feather;
varying vec2 v_cpA;
varying vec2 v_cpB;
varying vec2 v_cpC;
`.concat(n?`
varying float v_targetSize;
varying vec2 v_targetPoint;`:"",`
`).concat(r?`
varying float v_sourceSize;
varying vec2 v_sourcePoint;`:"",`
`).concat(t?`
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;`:"",`

float det(vec2 a, vec2 b) {
  return a.x * b.y - b.x * a.y;
}

vec2 getDistanceVector(vec2 b0, vec2 b1, vec2 b2) {
  float a = det(b0, b2), b = 2.0 * det(b1, b0), d = 2.0 * det(b2, b1);
  float f = b * d - a * a;
  vec2 d21 = b2 - b1, d10 = b1 - b0, d20 = b2 - b0;
  vec2 gf = 2.0 * (b * d21 + d * d10 + a * d20);
  gf = vec2(gf.y, -gf.x);
  vec2 pp = -f * gf / dot(gf, gf);
  vec2 d0p = b0 - pp;
  float ap = det(d0p, d20), bp = 2.0 * det(d10, d0p);
  float t = clamp((ap + bp) / (2.0 * a + b + d), 0.0, 1.0);
  return mix(mix(b0, b1, t), mix(b1, b2, t), t);
}

float distToQuadraticBezierCurve(vec2 p, vec2 b0, vec2 b1, vec2 b2) {
  return length(getDistanceVector(b0 - p, b1 - p, b2 - p));
}

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float dist = distToQuadraticBezierCurve(gl_FragCoord.xy, v_cpA, v_cpB, v_cpC);
  float thickness = v_thickness;
`).concat(n?`
  float distToTarget = length(gl_FragCoord.xy - v_targetPoint);
  float targetArrowLength = v_targetSize + thickness * u_lengthToThicknessRatio;
  if (distToTarget < targetArrowLength) {
    thickness = (distToTarget - v_targetSize) / (targetArrowLength - v_targetSize) * u_widenessToThicknessRatio * thickness;
  }`:"",`
`).concat(r?`
  float distToSource = length(gl_FragCoord.xy - v_sourcePoint);
  float sourceArrowLength = v_sourceSize + thickness * u_lengthToThicknessRatio;
  if (distToSource < sourceArrowLength) {
    thickness = (distToSource - v_sourceSize) / (sourceArrowLength - v_sourceSize) * u_widenessToThicknessRatio * thickness;
  }`:"",`

  float halfThickness = thickness / 2.0;
  if (dist < halfThickness) {
    #ifdef PICKING_MODE
    gl_FragColor = v_color;
    #else
    float t = smoothstep(
      halfThickness - v_feather,
      halfThickness,
      dist
    );

    gl_FragColor = mix(v_color, transparent, t);
    #endif
  } else {
    gl_FragColor = transparent;
  }
}
`);return i}function w0(e){var t=e.arrowHead,n=t?.extremity==="target"||t?.extremity==="both",r=t?.extremity==="source"||t?.extremity==="both",i=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute float a_direction;
attribute float a_thickness;
attribute vec2 a_source;
attribute vec2 a_target;
attribute float a_current;
attribute float a_curvature;
`.concat(n?`attribute float a_targetSize;
`:"",`
`).concat(r?`attribute float a_sourceSize;
`:"",`

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform vec2 u_dimensions;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying float v_thickness;
varying float v_feather;
varying vec2 v_cpA;
varying vec2 v_cpB;
varying vec2 v_cpC;
`).concat(n?`
varying float v_targetSize;
varying vec2 v_targetPoint;`:"",`
`).concat(r?`
varying float v_sourceSize;
varying vec2 v_sourcePoint;`:"",`
`).concat(t?`
uniform float u_widenessToThicknessRatio;`:"",`

const float bias = 255.0 / 254.0;
const float epsilon = 0.7;

vec2 clipspaceToViewport(vec2 pos, vec2 dimensions) {
  return vec2(
    (pos.x + 1.0) * dimensions.x / 2.0,
    (pos.y + 1.0) * dimensions.y / 2.0
  );
}

vec2 viewportToClipspace(vec2 pos, vec2 dimensions) {
  return vec2(
    pos.x / dimensions.x * 2.0 - 1.0,
    pos.y / dimensions.y * 2.0 - 1.0
  );
}

void main() {
  float minThickness = u_minEdgeThickness;

  // Selecting the correct position
  // Branchless "position = a_source if a_current == 1.0 else a_target"
  vec2 position = a_source * max(0.0, a_current) + a_target * max(0.0, 1.0 - a_current);
  position = (u_matrix * vec3(position, 1)).xy;

  vec2 source = (u_matrix * vec3(a_source, 1)).xy;
  vec2 target = (u_matrix * vec3(a_target, 1)).xy;

  vec2 viewportPosition = clipspaceToViewport(position, u_dimensions);
  vec2 viewportSource = clipspaceToViewport(source, u_dimensions);
  vec2 viewportTarget = clipspaceToViewport(target, u_dimensions);

  vec2 delta = viewportTarget.xy - viewportSource.xy;
  float len = length(delta);
  vec2 normal = vec2(-delta.y, delta.x) * a_direction;
  vec2 unitNormal = normal / len;
  float boundingBoxThickness = len * a_curvature;

  float curveThickness = max(minThickness, a_thickness / u_sizeRatio);
  v_thickness = curveThickness * u_pixelRatio;
  v_feather = u_feather;

  v_cpA = viewportSource;
  v_cpB = 0.5 * (viewportSource + viewportTarget) + unitNormal * a_direction * boundingBoxThickness;
  v_cpC = viewportTarget;

  vec2 viewportOffsetPosition = (
    viewportPosition +
    unitNormal * (boundingBoxThickness / 2.0 + sign(boundingBoxThickness) * (`).concat(t?"curveThickness * u_widenessToThicknessRatio":"curveThickness",` + epsilon)) *
    max(0.0, a_direction) // NOTE: cutting the bounding box in half to avoid overdraw
  );

  position = viewportToClipspace(viewportOffsetPosition, u_dimensions);
  gl_Position = vec4(position, 0, 1);
    
`).concat(n?`
  v_targetSize = a_targetSize * u_pixelRatio / u_sizeRatio;
  v_targetPoint = viewportTarget;
`:"",`
`).concat(r?`
  v_sourceSize = a_sourceSize * u_pixelRatio / u_sizeRatio;
  v_sourcePoint = viewportSource;
`:"",`

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`);return i}var Mc=.25,_0={arrowHead:null,curvatureAttribute:"curvature",defaultCurvature:Mc},Fc=WebGLRenderingContext,ma=Fc.UNSIGNED_BYTE,Mt=Fc.FLOAT;function Uo(e){var t=Lr(Lr({},_0),e||{}),n=t,r=n.arrowHead,i=n.curvatureAttribute,o=n.drawLabel,s=r?.extremity==="target"||r?.extremity==="both",a=r?.extremity==="source"||r?.extremity==="both",u=["u_matrix","u_sizeRatio","u_dimensions","u_pixelRatio","u_feather","u_minEdgeThickness"].concat(Ni(r?["u_lengthToThicknessRatio","u_widenessToThicknessRatio"]:[]));return(function(c){d0(l,c);function l(){var f;a0(this,l);for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return f=f0(this,l,[].concat(h)),Nc(Gc(f),"drawLabel",o||b0(t)),f}return c0(l,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:w0(t),FRAGMENT_SHADER_SOURCE:y0(t),METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:u,ATTRIBUTES:[{name:"a_source",size:2,type:Mt},{name:"a_target",size:2,type:Mt}].concat(Ni(s?[{name:"a_targetSize",size:1,type:Mt}]:[]),Ni(a?[{name:"a_sourceSize",size:1,type:Mt}]:[]),[{name:"a_thickness",size:1,type:Mt},{name:"a_curvature",size:1,type:Mt},{name:"a_color",size:4,type:ma,normalized:!0},{name:"a_id",size:4,type:ma,normalized:!0}]),CONSTANT_ATTRIBUTES:[{name:"a_current",size:1,type:Mt},{name:"a_direction",size:1,type:Mt}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[0,-1],[1,1],[1,-1]]}}},{key:"processVisibleItem",value:function(d,h,v,y,x){var b,C=x.size||1,T=v.x,g=v.y,w=y.x,E=y.y,m=Cn(x.color),S=(b=x[i])!==null&&b!==void 0?b:Mc,k=this.array;k[h++]=T,k[h++]=g,k[h++]=w,k[h++]=E,s&&(k[h++]=y.size),a&&(k[h++]=v.size),k[h++]=C,k[h++]=S,k[h++]=m,k[h++]=d}},{key:"setUniforms",value:function(d,h){var v=h.gl,y=h.uniformLocations,x=y.u_matrix,b=y.u_pixelRatio,C=y.u_feather,T=y.u_sizeRatio,g=y.u_dimensions,w=y.u_minEdgeThickness;if(v.uniformMatrix3fv(x,!1,d.matrix),v.uniform1f(b,d.pixelRatio),v.uniform1f(T,d.sizeRatio),v.uniform1f(C,d.antiAliasingFeather),v.uniform2f(g,d.width*d.pixelRatio,d.height*d.pixelRatio),v.uniform1f(w,d.minEdgeThickness),r){var E=y.u_lengthToThicknessRatio,m=y.u_widenessToThicknessRatio;v.uniform1f(E,r.lengthToThicknessRatio),v.uniform1f(m,r.widenessToThicknessRatio)}}}]),l})(Wr)}var E0=Uo();Uo({arrowHead:Kr});Uo({arrowHead:Lr(Lr({},Kr),{},{extremity:"both"})});const x0={class:"flex"},T0=vo({__name:"SecondTask",setup(e){const t=()=>{const r=document.getElementById("sigma-container");if(!r){console.error("Sigma container not found");return}const i=new Oo;i.addNode("b",{x:1,y:-1,size:20,label:"Bastian"}),i.addNode("c",{x:3,y:-2,size:10,label:"Charles"}),i.addNode("d",{x:1,y:-3,size:10,label:"Dorothea"}),i.addNode("e",{x:3,y:-4,size:20,label:"Ernestine"}),i.addEdge("b","c",{forceLabel:!0,label:"works with",type:"curved",curvature:.5}),i.addEdge("b","d",{forceLabel:!0,label:"works with"}),i.addEdge("c","b",{forceLabel:!0,size:3,label:"works with",type:"curved"}),i.addEdge("c","e",{forceLabel:!0,size:3,label:"works with"}),i.addEdge("d","c",{forceLabel:!0,label:"works with",type:"curved",curvature:.1}),i.addEdge("d","e",{forceLabel:!0,label:"works with",type:"curved",curvature:1}),i.addEdge("e","d",{forceLabel:!0,size:2,label:"works with",type:"curved"});const o=new uc(i,{isNodeFixed:(f,d)=>d.highlighted});o.start();const s=new Rc(i,r,{allowInvalidContainer:!0,defaultEdgeType:"straight",renderEdgeLabels:!0,edgeProgramClasses:{straight:Tc,curved:E0}});(f=>{const d=new Map;let h=1;const v=new Map;return f.forEachEdge((y,x,b,C)=>{const T=`${b}|${C}`;v.set(T,{edge:y,attributes:x,source:b,target:C})}),f.forEachEdge((y,x,b,C)=>{const T=`${b}|${C}`,g=`${C}|${b}`;d.has(T)||d.has(g)||v.has(g)&&(d.set(T,h),d.set(g,h),h++)}),f.forEachEdge((y,x,b,C)=>{const T=`${b}|${C}`;d.has(T)&&(x.agrigate=d.get(T))}),console.log("Mutual edges with aggregate IDs:"),f.forEachEdge((y,x,b,C)=>{x.agrigate&&console.log(`Edge ${b}  ${C}: aggregate = ${x.agrigate}`)}),d})(i);let u=null,c=!1;s.on("downNode",f=>{c=!0,u=f.node,i.setNodeAttribute(u,"highlighted",!0),s.getCustomBBox()||s.setCustomBBox(s.getBBox())}),s.on("moveBody",({event:f})=>{if(!c||!u)return;const d=s.viewportToGraph(f);i.setNodeAttribute(u,"x",d.x),i.setNodeAttribute(u,"y",d.y),f.preventSigmaDefault(),f.original.preventDefault(),f.original.stopPropagation()});const l=()=>{u&&i.removeNodeAttribute(u,"highlighted"),c=!1,u=null};return s.on("upNode",l),s.on("upStage",l),s.on("clickStage",({event:f})=>{const h={...s.viewportToGraph({x:f.x,y:f.y}),size:8,color:J.random().hex()},v=i.nodes().map(x=>{const b=i.getNodeAttributes(x),C=Math.pow(h.x-b.x,2)+Math.pow(h.y-b.y,2);return{nodeId:x,distance:C}}).sort((x,b)=>x.distance-b.distance).slice(0,2),y=kc();i.addNode(y,h),v.forEach(x=>i.addEdge(y,x.nodeId))}),()=>{o.stop(),s.kill()}};let n=null;return bo(()=>{const r=t();r&&(n=r)}),$r(()=>{n&&n()}),(r,i)=>(Cr(),_o("div",x0,[...i[0]||(i[0]=[ft("div",{id:"sigma-container"},null,-1)])]))}}),C0=zo(T0,[["__scopeId","data-v-11788bba"]]),S0={class:"flex"},A0=vo({__name:"App",setup(e){const t=yl(1),n=gu(()=>{switch(t.value){case 1:return ga;case 2:return C0;default:return ga}}),r=i=>{t.value=i};return(i,o)=>(Cr(),_o("div",null,[ft("nav",S0,[ft("div",{class:Kn({active:t.value===1}),onClick:o[0]||(o[0]=s=>r(1))}," 1",2),ft("div",{class:Kn({active:t.value===2}),onClick:o[1]||(o[1]=s=>r(2))}," 2",2)]),(Cr(),Rf(Yl(n.value)))]))}}),R0=zo(A0,[["__scopeId","data-v-a37942f7"]]);fd(R0).mount("#app");
